(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&e(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&e(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ui=function(t,n){return Ui=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])},Ui(t,n)};function xl(t,n){Ui(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var ue=function(){return ue=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ue.apply(this,arguments)};function Nl(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e}function Ee(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,n||[])).next())})}function we(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function Du(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function kt(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,o=[],s;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}function Ct(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(kt(arguments[n]));return t}var Rl="Logging",Qo={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5},it;(function(t){t.DEBUG="DEBUG",t.ERROR="ERROR",t.INFO="INFO",t.WARN="WARN",t.VERBOSE="VERBOSE"})(it||(it={}));var ye=function(){function t(n,e){e===void 0&&(e=it.WARN),this.name=n,this.level=e,this._pluggables=[]}return t.prototype._padding=function(n){return n<10?"0"+n:""+n},t.prototype._ts=function(){var n=new Date;return[this._padding(n.getMinutes()),this._padding(n.getSeconds())].join(":")+"."+n.getMilliseconds()},t.prototype.configure=function(n){return n?(this._config=n,this._config):this._config},t.prototype._log=function(n){for(var e,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var s=this.level;t.LOG_LEVEL&&(s=t.LOG_LEVEL),typeof window<"u"&&window.LOG_LEVEL&&(s=window.LOG_LEVEL);var u=Qo[s],c=Qo[n];if(c>=u){var a=console.log.bind(console);n===it.ERROR&&console.error&&(a=console.error.bind(console)),n===it.WARN&&console.warn&&(a=console.warn.bind(console));var l="["+n+"] "+this._ts()+" "+this.name,f="";if(i.length===1&&typeof i[0]=="string")f=l+" - "+i[0],a(f);else if(i.length===1)f=l+" "+i[0],a(l,i[0]);else if(typeof i[0]=="string"){var g=i.slice(1);g.length===1&&(g=g[0]),f=l+" - "+i[0]+" "+g,a(l+" - "+i[0],g)}else f=l+" "+i,a(l,i);try{for(var v=Du(this._pluggables),b=v.next();!b.done;b=v.next()){var _=b.value,T={message:f,timestamp:Date.now()};_.pushLogs([T])}}catch(O){e={error:O}}finally{try{b&&!b.done&&(r=v.return)&&r.call(v)}finally{if(e)throw e.error}}}},t.prototype.log=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];this._log.apply(this,Ct([it.INFO],n))},t.prototype.info=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];this._log.apply(this,Ct([it.INFO],n))},t.prototype.warn=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];this._log.apply(this,Ct([it.WARN],n))},t.prototype.error=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];this._log.apply(this,Ct([it.ERROR],n))},t.prototype.debug=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];this._log.apply(this,Ct([it.DEBUG],n))},t.prototype.verbose=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];this._log.apply(this,Ct([it.VERBOSE],n))},t.prototype.addPluggable=function(n){n&&n.getCategoryName()===Rl&&(this._pluggables.push(n),n.configure(this._config))},t.prototype.listPluggables=function(){return this._pluggables},t.LOG_LEVEL=null,t}(),Wr=new ye("Amplify"),Ul=function(){function t(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Notifications=null,this.Logger=ye,this.ServiceWorker=null}return t.prototype.register=function(n){Wr.debug("component registered in amplify",n),this._components.push(n),typeof n.getModuleName=="function"?(this._modules[n.getModuleName()]=n,this[n.getModuleName()]=n):Wr.debug("no getModuleName method for component",n),n.configure(this._config)},t.prototype.configure=function(n){var e=this;return n?(this._config=Object.assign(this._config,n),Wr.debug("amplify config",this._config),Object.entries(this._modules).forEach(function(r){var i=kt(r,2);i[0];var o=i[1];Object.keys(o).forEach(function(s){e._modules[s]&&(o[s]=e._modules[s])})}),this._components.map(function(r){r.configure(e._config)}),this._config):this._config},t.prototype.addPluggable=function(n){n&&n.getCategory&&typeof n.getCategory=="function"&&this._components.map(function(e){e.addPluggable&&typeof e.addPluggable=="function"&&e.addPluggable(n)})},t}(),bt=new Ul,Dl="5.2.1",Di="aws-amplify/"+Dl,pt={userAgent:Di+" js",product:"",navigator:null,isReactNative:!1};if(typeof navigator<"u"&&navigator.product)switch(pt.product=navigator.product||"",pt.navigator=navigator||null,navigator.product){case"ReactNative":pt.userAgent=Di+" react-native",pt.isReactNative=!0;break;default:pt.userAgent=Di+" js",pt.isReactNative=!1;break}var Mu=function(t){return""+pt.userAgent+(t||"")},St=new ye("Hub"),Ml=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default";function jl(t){return t.onHubCapsule!==void 0}var Ll=function(){function t(n){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=n}return t.prototype._remove=function(n,e){if(n instanceof RegExp){var r=this.patterns.find(function(o){var s=o.pattern;return s.source===n.source});if(!r){St.warn("No listeners for "+n);return}this.patterns=Ct(this.patterns.filter(function(o){return o!==r}))}else{var i=this.listeners[n];if(!i){St.warn("No listeners for "+n);return}this.listeners[n]=Ct(i.filter(function(o){var s=o.callback;return s!==e}))}},t.prototype.remove=function(n,e){this._remove(n,e)},t.prototype.dispatch=function(n,e,r,i){if(r===void 0&&(r=""),this.protectedChannels.indexOf(n)>-1){var o=i===Ml;o||St.warn("WARNING: "+n+" is protected and dispatching on it can have unintended consequences")}var s={channel:n,payload:ue({},e),source:r,patternInfo:[]};try{this._toListeners(s)}catch(u){St.error(u)}},t.prototype.listen=function(n,e,r){var i=this;r===void 0&&(r="noname");var o;if(jl(e))St.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),o=e.onHubCapsule.bind(e);else{if(typeof e!="function")throw new Error("No callback supplied to Hub");o=e}if(n instanceof RegExp)this.patterns.push({pattern:n,callback:o});else{var s=this.listeners[n];s||(s=[],this.listeners[n]=s),s.push({name:r,callback:o})}return function(){i._remove(n,o)}},t.prototype._toListeners=function(n){var e=n.channel,r=n.payload,i=this.listeners[e];if(i&&i.forEach(function(s){St.debug("Dispatching to "+e+" with ",r);try{s.callback(n)}catch(u){St.error(u)}}),this.patterns.length>0){if(!r.message){St.warn("Cannot perform pattern matching without a message key");return}var o=r.message;this.patterns.forEach(function(s){var u=o.match(s.pattern);if(u){var c=kt(u),a=c.slice(1),l=ue(ue({},n),{patternInfo:a});try{s.callback(l)}catch(f){St.error(f)}}})}},t}(),gt=new Ll("__default__"),Fl=new ye("I18n"),Zo=function(){function t(n){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},n),this._lang=this._options.language,!this._lang&&typeof window<"u"&&window&&window.navigator&&(this._lang=window.navigator.language),Fl.debug(this._lang)}return t.prototype.setLanguage=function(n){this._lang=n},t.prototype.get=function(n,e){if(e===void 0&&(e=void 0),!this._lang)return typeof e<"u"?e:n;var r=this._lang,i=this.getByLanguage(n,r);return i||(r.indexOf("-")>0&&(i=this.getByLanguage(n,r.split("-")[0])),i)?i:typeof e<"u"?e:n},t.prototype.getByLanguage=function(n,e,r){if(r===void 0&&(r=null),!e)return r;var i=this._dict[e];return i?i[n]:r},t.prototype.putVocabulariesForLanguage=function(n,e){var r=this._dict[n];r||(r=this._dict[n]={}),this._dict[n]=ue(ue({},r),e)},t.prototype.putVocabularies=function(n){var e=this;Object.keys(n).map(function(r){e.putVocabulariesForLanguage(r,n[r])})},t}(),es=new ye("I18n"),In=null,Rt=null,Bl=function(){function t(){}return t.configure=function(n){return es.debug("configure I18n"),n&&(In=Object.assign({},In,n.I18n||n),t.createInstance()),In},t.getModuleName=function(){return"I18n"},t.createInstance=function(){es.debug("create I18n instance"),!Rt&&(Rt=new Zo(In))},t.setLanguage=function(n){return t.checkConfig(),Rt.setLanguage(n)},t.get=function(n,e){return t.checkConfig()?Rt.get(n,e):typeof e>"u"?n:e},t.putVocabulariesForLanguage=function(n,e){return t.checkConfig(),Rt.putVocabulariesForLanguage(n,e)},t.putVocabularies=function(n){return t.checkConfig(),Rt.putVocabularies(n)},t.checkConfig=function(){return Rt||(Rt=new Zo(In)),!0},t}();bt.register(Bl);var ql=function(t){if(t.isResolved)return t;var n=!0,e=!1,r=!1,i=t.then(function(o){return r=!0,n=!1,o},function(o){throw e=!0,n=!1,o});return i.isFullfilled=function(){return r},i.isPending=function(){return n},i.isRejected=function(){return e},i},Kl=function(){if(typeof self>"u")return!1;var t=self;return typeof t.WorkerGlobalScope<"u"&&self instanceof t.WorkerGlobalScope},lt=function(){var t=typeof window<"u"&&typeof window.document<"u",n=typeof process<"u"&&process.versions!=null&&process.versions.node!=null;return{isBrowser:t,isNode:n}},Hn=new ye("Util"),Bt=function(t){xl(n,t);function n(e){var r=t.call(this,e)||this;return r.nonRetryable=!0,r}return n}(Error),ju=function(t){var n="nonRetryable";return t&&t[n]};function Vl(t,n,e,r){return Ee(this,void 0,void 0,function(){var i=this;return we(this,function(o){if(typeof t!="function")throw Error("functionToRetry must be a function");return[2,new Promise(function(s,u){return Ee(i,void 0,void 0,function(){var c,a,l,f,g,v,b;return we(this,function(_){switch(_.label){case 0:c=0,a=!1,f=function(){},r&&r.then(function(){a=!0,clearTimeout(l),f()}),v=function(){var T,O,I,N;return we(this,function(U){switch(U.label){case 0:c++,Hn.debug(t.name+" attempt #"+c+" with this vars: "+JSON.stringify(n)),U.label=1;case 1:return U.trys.push([1,3,,7]),T={},O=s,[4,t.apply(void 0,Ct(n))];case 2:return[2,(T.value=O.apply(void 0,[U.sent()]),T)];case 3:return I=U.sent(),g=I,Hn.debug("error on "+t.name,I),ju(I)?(Hn.debug(t.name+" non retryable error",I),[2,{value:u(I)}]):(N=e(c,n,I),Hn.debug(t.name+" retrying in "+N+" ms"),N===!1||a?[2,{value:u(I)}]:[3,4]);case 4:return[4,new Promise(function(D){f=D,l=setTimeout(f,N)})];case 5:U.sent(),U.label=6;case 6:return[3,7];case 7:return[2]}})},_.label=1;case 1:return a?[3,3]:[5,v()];case 2:return b=_.sent(),typeof b=="object"?[2,b.value]:[3,1];case 3:return u(g),[2]}})})})]})})}var Lu=5*60*1e3;function zl(t){t===void 0&&(t=Lu);var n=100,e=100;return function(r){var i=Math.pow(2,r)*n+e*Math.random();return i>t?!1:i}}var Fu=function(t,n,e,r){return e===void 0&&(e=Lu),Vl(t,n,zl(e),r)},We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Io(t){if(t.__esModule)return t;var n=t.default;if(typeof n=="function"){var e=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(n,i);return new o}return n.apply(this,arguments)};e.prototype=n.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),e}var kr={};Object.defineProperty(kr,"__esModule",{value:!0});kr.Observable=void 0;function To(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function ts(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Co(t,n,e){return n&&ts(t.prototype,n),e&&ts(t,e),t}var ko=function(){return typeof Symbol=="function"},Oo=function(t){return ko()&&!!Symbol[t]},Po=function(t){return Oo(t)?Symbol[t]:"@@"+t};ko()&&!Oo("observable")&&(Symbol.observable=Symbol("observable"));var Gl=Po("iterator"),Mi=Po("observable"),qu=Po("species");function mr(t,n){var e=t[n];if(e!=null){if(typeof e!="function")throw new TypeError(e+" is not a function");return e}}function Tn(t){var n=t.constructor;return n!==void 0&&(n=n[qu],n===null&&(n=void 0)),n!==void 0?n:Or}function Hl(t){return t instanceof Or}function gn(t){gn.log?gn.log(t):setTimeout(function(){throw t})}function sr(t){Promise.resolve().then(function(){try{t()}catch(n){gn(n)}})}function Ku(t){var n=t._cleanup;if(n!==void 0&&(t._cleanup=void 0,!!n))try{if(typeof n=="function")n();else{var e=mr(n,"unsubscribe");e&&e.call(n)}}catch(r){gn(r)}}function ji(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function Wl(t){var n=t._queue;if(n){t._queue=void 0,t._state="ready";for(var e=0;e<n.length&&(Vu(t,n[e].type,n[e].value),t._state!=="closed");++e);}}function Vu(t,n,e){t._state="running";var r=t._observer;try{var i=mr(r,n);switch(n){case"next":i&&i.call(r,e);break;case"error":if(ji(t),i)i.call(r,e);else throw e;break;case"complete":ji(t),i&&i.call(r);break}}catch(o){gn(o)}t._state==="closed"?Ku(t):t._state==="running"&&(t._state="ready")}function Yr(t,n,e){if(t._state!=="closed"){if(t._state==="buffering"){t._queue.push({type:n,value:e});return}if(t._state!=="ready"){t._state="buffering",t._queue=[{type:n,value:e}],sr(function(){return Wl(t)});return}Vu(t,n,e)}}var Yl=function(){function t(n,e){To(this,t),this._cleanup=void 0,this._observer=n,this._queue=void 0,this._state="initializing";var r=new Jl(this);try{this._cleanup=e.call(void 0,r)}catch(i){r.error(i)}this._state==="initializing"&&(this._state="ready")}return Co(t,[{key:"unsubscribe",value:function(){this._state!=="closed"&&(ji(this),Ku(this))}},{key:"closed",get:function(){return this._state==="closed"}}]),t}(),Jl=function(){function t(n){To(this,t),this._subscription=n}return Co(t,[{key:"next",value:function(n){Yr(this._subscription,"next",n)}},{key:"error",value:function(n){Yr(this._subscription,"error",n)}},{key:"complete",value:function(){Yr(this._subscription,"complete")}},{key:"closed",get:function(){return this._subscription._state==="closed"}}]),t}(),Or=function(){function t(n){if(To(this,t),!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if(typeof n!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=n}return Co(t,[{key:"subscribe",value:function(n){return(typeof n!="object"||n===null)&&(n={next:n,error:arguments[1],complete:arguments[2]}),new Yl(n,this._subscriber)}},{key:"forEach",value:function(n){var e=this;return new Promise(function(r,i){if(typeof n!="function"){i(new TypeError(n+" is not a function"));return}function o(){s.unsubscribe(),r()}var s=e.subscribe({next:function(u){try{n(u,o)}catch(c){i(c),s.unsubscribe()}},error:i,complete:r})})}},{key:"map",value:function(n){var e=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var r=Tn(this);return new r(function(i){return e.subscribe({next:function(o){try{o=n(o)}catch(s){return i.error(s)}i.next(o)},error:function(o){i.error(o)},complete:function(){i.complete()}})})}},{key:"filter",value:function(n){var e=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var r=Tn(this);return new r(function(i){return e.subscribe({next:function(o){try{if(!n(o))return}catch(s){return i.error(s)}i.next(o)},error:function(o){i.error(o)},complete:function(){i.complete()}})})}},{key:"reduce",value:function(n){var e=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var r=Tn(this),i=arguments.length>1,o=!1,s=arguments[1],u=s;return new r(function(c){return e.subscribe({next:function(a){var l=!o;if(o=!0,!l||i)try{u=n(u,a)}catch(f){return c.error(f)}else u=a},error:function(a){c.error(a)},complete:function(){if(!o&&!i)return c.error(new TypeError("Cannot reduce an empty sequence"));c.next(u),c.complete()}})})}},{key:"concat",value:function(){for(var n=this,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=Tn(this);return new o(function(s){var u,c=0;function a(l){u=l.subscribe({next:function(f){s.next(f)},error:function(f){s.error(f)},complete:function(){c===r.length?(u=void 0,s.complete()):a(o.from(r[c++]))}})}return a(n),function(){u&&(u.unsubscribe(),u=void 0)}})}},{key:"flatMap",value:function(n){var e=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var r=Tn(this);return new r(function(i){var o=[],s=e.subscribe({next:function(c){if(n)try{c=n(c)}catch(l){return i.error(l)}var a=r.from(c).subscribe({next:function(l){i.next(l)},error:function(l){i.error(l)},complete:function(){var l=o.indexOf(a);l>=0&&o.splice(l,1),u()}});o.push(a)},error:function(c){i.error(c)},complete:function(){u()}});function u(){s.closed&&o.length===0&&i.complete()}return function(){o.forEach(function(c){return c.unsubscribe()}),s.unsubscribe()}})}},{key:Mi,value:function(){return this}}],[{key:"from",value:function(n){var e=typeof this=="function"?this:t;if(n==null)throw new TypeError(n+" is not an object");var r=mr(n,Mi);if(r){var i=r.call(n);if(Object(i)!==i)throw new TypeError(i+" is not an object");return Hl(i)&&i.constructor===e?i:new e(function(o){return i.subscribe(o)})}if(Oo("iterator")&&(r=mr(n,Gl),r))return new e(function(o){sr(function(){if(!o.closed){var s=!0,u=!1,c=void 0;try{for(var a=r.call(n)[Symbol.iterator](),l;!(s=(l=a.next()).done);s=!0){var f=l.value;if(o.next(f),o.closed)return}}catch(g){u=!0,c=g}finally{try{!s&&a.return!=null&&a.return()}finally{if(u)throw c}}o.complete()}})});if(Array.isArray(n))return new e(function(o){sr(function(){if(!o.closed){for(var s=0;s<n.length;++s)if(o.next(n[s]),o.closed)return;o.complete()}})});throw new TypeError(n+" is not observable")}},{key:"of",value:function(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=typeof this=="function"?this:t;return new i(function(o){sr(function(){if(!o.closed){for(var s=0;s<e.length;++s)if(o.next(e[s]),o.closed)return;o.complete()}})})}},{key:qu,get:function(){return this}}]),t}();kr.Observable=Or;ko()&&Object.defineProperty(Or,Symbol("extensions"),{value:{symbol:Mi,hostReportError:gn},configurable:!0});var $l=kr.Observable;const Xl=Bu($l);var Ql=Xl;const yn=Ql;var Zl=function(){function t(){}return t.prototype.networkMonitor=function(n){if(lt().isNode)return yn.from([{online:!0}]);var e=Kl()?self:window;return new yn(function(r){r.next({online:e.navigator.onLine});var i=function(){return r.next({online:!0})},o=function(){return r.next({online:!1})};return e.addEventListener("online",i),e.addEventListener("offline",o),t._observers.push(r),function(){e.removeEventListener("online",i),e.removeEventListener("offline",o),t._observers=t._observers.filter(function(s){return s!==r})}})},t._observerOverride=function(n){var e,r,i=function(c){if(c.closed)return t._observers=t._observers.filter(function(a){return a!==c}),"continue";c.next(n)};try{for(var o=Du(t._observers),s=o.next();!s.done;s=o.next()){var u=s.value;i(u)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}},t._observers=[],t}();const ef=Zl;var tf=1e3*60*5,ut={clockOffset:0,getDateWithClockOffset:function(){return ut.clockOffset?new Date(new Date().getTime()+ut.clockOffset):new Date},getClockOffset:function(){return ut.clockOffset},getHeaderStringFromDate:function(t){return t===void 0&&(t=ut.getDateWithClockOffset()),t.toISOString().replace(/[:\-]|\.\d{3}/g,"")},getDateFromHeaderString:function(t){var n=kt(t.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2}).+/),7),e=n[1],r=n[2],i=n[3],o=n[4],s=n[5],u=n[6];return new Date(Date.UTC(Number(e),Number(r)-1,Number(i),Number(o),Number(s),Number(u)))},isClockSkewed:function(t){return Math.abs(t.getTime()-ut.getDateWithClockOffset().getTime())>=tf},isClockSkewError:function(t){if(!t.response||!t.response.headers)return!1;var n=t.response.headers;return!!(["BadRequestException","InvalidSignatureException"].includes(n["x-amzn-errortype"])&&(n.date||n.Date))},setClockOffset:function(t){ut.clockOffset=t}};function nf(t){return t.split("").map(function(n){return n.charCodeAt(0).toString(16).padStart(2,"0")}).join("")}function rf(t){return t.match(/.{2}/g).map(function(n){return String.fromCharCode(parseInt(n,16))}).join("")}var zu=function(t){return Object.keys(t).map(function(n){return n.toLowerCase()}).sort().join(";")},of="X-Amz-Algorithm",Gu="X-Amz-Date",sf="X-Amz-Credential",af="X-Amz-Expires",uf="X-Amz-Signature",cf="X-Amz-SignedHeaders",xo="X-Amz-Security-Token",lf="authorization",Li="host",ff=Gu.toLowerCase(),hf=xo.toLowerCase(),Hu="aws4_request",No="AWS4-HMAC-SHA256",df="AWS4",pf="e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",gf="UNSIGNED-PAYLOAD",yf=function(t,n,e){return t+"/"+n+"/"+e+"/"+Hu},vf=function(t){var n=t.toISOString().replace(/[:\-]|\.\d{3}/g,"");return{longDate:n,shortDate:n.slice(0,8)}},Wu=function(t){var n=t.credentials,e=t.signingDate,r=e===void 0?new Date:e,i=t.signingRegion,o=t.signingService,s=n.accessKeyId,u=n.secretAccessKey,c=n.sessionToken,a=vf(r),l=a.longDate,f=a.shortDate,g=yf(f,i,o);return{accessKeyId:s,credentialScope:g,longDate:l,secretAccessKey:u,sessionToken:c,shortDate:f,signingRegion:i,signingService:o}},Ot={},Yu={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(t){var n,e,r,i,o,s,u,c,a,l,f,g,v,b,_,T,O,I,N,U,D,z,H;(function(k){var W=typeof We=="object"?We:typeof self=="object"?self:typeof this=="object"?this:{};k(p(W,p(t.exports)));function p(y,m){return y!==W&&(typeof Object.create=="function"?Object.defineProperty(y,"__esModule",{value:!0}):y.__esModule=!0),function(E,A){return y[E]=m?m(E,A):A}}})(function(k){var W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var m in y)y.hasOwnProperty(m)&&(p[m]=y[m])};n=function(p,y){W(p,y);function m(){this.constructor=p}p.prototype=y===null?Object.create(y):(m.prototype=y.prototype,new m)},e=Object.assign||function(p){for(var y,m=1,E=arguments.length;m<E;m++){y=arguments[m];for(var A in y)Object.prototype.hasOwnProperty.call(y,A)&&(p[A]=y[A])}return p},r=function(p,y){var m={};for(var E in p)Object.prototype.hasOwnProperty.call(p,E)&&y.indexOf(E)<0&&(m[E]=p[E]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,E=Object.getOwnPropertySymbols(p);A<E.length;A++)y.indexOf(E[A])<0&&Object.prototype.propertyIsEnumerable.call(p,E[A])&&(m[E[A]]=p[E[A]]);return m},i=function(p,y,m,E){var A=arguments.length,S=A<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,m):E,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(p,y,m,E);else for(var V=p.length-1;V>=0;V--)(P=p[V])&&(S=(A<3?P(S):A>3?P(y,m,S):P(y,m))||S);return A>3&&S&&Object.defineProperty(y,m,S),S},o=function(p,y){return function(m,E){y(m,E,p)}},s=function(p,y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(p,y)},u=function(p,y,m,E){function A(S){return S instanceof m?S:new m(function(P){P(S)})}return new(m||(m=Promise))(function(S,P){function V(B){try{x(E.next(B))}catch(G){P(G)}}function Z(B){try{x(E.throw(B))}catch(G){P(G)}}function x(B){B.done?S(B.value):A(B.value).then(V,Z)}x((E=E.apply(p,y||[])).next())})},c=function(p,y){var m={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},E,A,S,P;return P={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function V(x){return function(B){return Z([x,B])}}function Z(x){if(E)throw new TypeError("Generator is already executing.");for(;m;)try{if(E=1,A&&(S=x[0]&2?A.return:x[0]?A.throw||((S=A.return)&&S.call(A),0):A.next)&&!(S=S.call(A,x[1])).done)return S;switch(A=0,S&&(x=[x[0]&2,S.value]),x[0]){case 0:case 1:S=x;break;case 4:return m.label++,{value:x[1],done:!1};case 5:m.label++,A=x[1],x=[0];continue;case 7:x=m.ops.pop(),m.trys.pop();continue;default:if(S=m.trys,!(S=S.length>0&&S[S.length-1])&&(x[0]===6||x[0]===2)){m=0;continue}if(x[0]===3&&(!S||x[1]>S[0]&&x[1]<S[3])){m.label=x[1];break}if(x[0]===6&&m.label<S[1]){m.label=S[1],S=x;break}if(S&&m.label<S[2]){m.label=S[2],m.ops.push(x);break}S[2]&&m.ops.pop(),m.trys.pop();continue}x=y.call(p,m)}catch(B){x=[6,B],A=0}finally{E=S=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},H=function(p,y,m,E){E===void 0&&(E=m),p[E]=y[m]},a=function(p,y){for(var m in p)m!=="default"&&!y.hasOwnProperty(m)&&(y[m]=p[m])},l=function(p){var y=typeof Symbol=="function"&&Symbol.iterator,m=y&&p[y],E=0;if(m)return m.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&E>=p.length&&(p=void 0),{value:p&&p[E++],done:!p}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")},f=function(p,y){var m=typeof Symbol=="function"&&p[Symbol.iterator];if(!m)return p;var E=m.call(p),A,S=[],P;try{for(;(y===void 0||y-- >0)&&!(A=E.next()).done;)S.push(A.value)}catch(V){P={error:V}}finally{try{A&&!A.done&&(m=E.return)&&m.call(E)}finally{if(P)throw P.error}}return S},g=function(){for(var p=[],y=0;y<arguments.length;y++)p=p.concat(f(arguments[y]));return p},v=function(){for(var p=0,y=0,m=arguments.length;y<m;y++)p+=arguments[y].length;for(var E=Array(p),A=0,y=0;y<m;y++)for(var S=arguments[y],P=0,V=S.length;P<V;P++,A++)E[A]=S[P];return E},b=function(p){return this instanceof b?(this.v=p,this):new b(p)},_=function(p,y,m){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E=m.apply(p,y||[]),A,S=[];return A={},P("next"),P("throw"),P("return"),A[Symbol.asyncIterator]=function(){return this},A;function P(j){E[j]&&(A[j]=function($){return new Promise(function(ee,fe){S.push([j,$,ee,fe])>1||V(j,$)})})}function V(j,$){try{Z(E[j]($))}catch(ee){G(S[0][3],ee)}}function Z(j){j.value instanceof b?Promise.resolve(j.value.v).then(x,B):G(S[0][2],j)}function x(j){V("next",j)}function B(j){V("throw",j)}function G(j,$){j($),S.shift(),S.length&&V(S[0][0],S[0][1])}},T=function(p){var y,m;return y={},E("next"),E("throw",function(A){throw A}),E("return"),y[Symbol.iterator]=function(){return this},y;function E(A,S){y[A]=p[A]?function(P){return(m=!m)?{value:b(p[A](P)),done:A==="return"}:S?S(P):P}:S}},O=function(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y=p[Symbol.asyncIterator],m;return y?y.call(p):(p=typeof l=="function"?l(p):p[Symbol.iterator](),m={},E("next"),E("throw"),E("return"),m[Symbol.asyncIterator]=function(){return this},m);function E(S){m[S]=p[S]&&function(P){return new Promise(function(V,Z){P=p[S](P),A(V,Z,P.done,P.value)})}}function A(S,P,V,Z){Promise.resolve(Z).then(function(x){S({value:x,done:V})},P)}},I=function(p,y){return Object.defineProperty?Object.defineProperty(p,"raw",{value:y}):p.raw=y,p},N=function(p){if(p&&p.__esModule)return p;var y={};if(p!=null)for(var m in p)Object.hasOwnProperty.call(p,m)&&(y[m]=p[m]);return y.default=p,y},U=function(p){return p&&p.__esModule?p:{default:p}},D=function(p,y){if(!y.has(p))throw new TypeError("attempted to get private field on non-instance");return y.get(p)},z=function(p,y,m){if(!y.has(p))throw new TypeError("attempted to set private field on non-instance");return y.set(p,m),m},k("__extends",n),k("__assign",e),k("__rest",r),k("__decorate",i),k("__param",o),k("__metadata",s),k("__awaiter",u),k("__generator",c),k("__exportStar",a),k("__createBinding",H),k("__values",l),k("__read",f),k("__spread",g),k("__spreadArrays",v),k("__await",b),k("__asyncGenerator",_),k("__asyncDelegator",T),k("__asyncValues",O),k("__makeTemplateObject",I),k("__importStar",N),k("__importDefault",U),k("__classPrivateFieldGet",D),k("__classPrivateFieldSet",z)})})(Yu);var Ju=Yu.exports,Pr={},Ge={};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.MAX_HASHABLE_LENGTH=Ge.INIT=Ge.KEY=Ge.DIGEST_LENGTH=Ge.BLOCK_SIZE=void 0;Ge.BLOCK_SIZE=64;Ge.DIGEST_LENGTH=32;Ge.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);Ge.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];Ge.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1;var xr={};Object.defineProperty(xr,"__esModule",{value:!0});xr.RawSha256=void 0;var Je=Ge,mf=function(){function t(){this.state=Int32Array.from(Je.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var e=0,r=n.byteLength;if(this.bytesHashed+=r,this.bytesHashed*8>Je.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=n[e++],r--,this.bufferLength===Je.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var n=this.bytesHashed*8,e=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(e.setUint8(this.bufferLength++,128),r%Je.BLOCK_SIZE>=Je.BLOCK_SIZE-8){for(var i=this.bufferLength;i<Je.BLOCK_SIZE;i++)e.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<Je.BLOCK_SIZE-8;i++)e.setUint8(i,0);e.setUint32(Je.BLOCK_SIZE-8,Math.floor(n/4294967296),!0),e.setUint32(Je.BLOCK_SIZE-4,n),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(Je.DIGEST_LENGTH),i=0;i<8;i++)o[i*4]=this.state[i]>>>24&255,o[i*4+1]=this.state[i]>>>16&255,o[i*4+2]=this.state[i]>>>8&255,o[i*4+3]=this.state[i]>>>0&255;return o},t.prototype.hashBuffer=function(){for(var n=this,e=n.buffer,r=n.state,i=r[0],o=r[1],s=r[2],u=r[3],c=r[4],a=r[5],l=r[6],f=r[7],g=0;g<Je.BLOCK_SIZE;g++){if(g<16)this.temp[g]=(e[g*4]&255)<<24|(e[g*4+1]&255)<<16|(e[g*4+2]&255)<<8|e[g*4+3]&255;else{var v=this.temp[g-2],b=(v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10;v=this.temp[g-15];var _=(v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3;this.temp[g]=(b+this.temp[g-7]|0)+(_+this.temp[g-16]|0)}var T=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&a^~c&l)|0)+(f+(Je.KEY[g]+this.temp[g]|0)|0)|0,O=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&o^i&s^o&s)|0;f=l,l=a,a=c,c=u+T|0,u=s,s=o,o=i,i=T+O|0}r[0]+=i,r[1]+=o,r[2]+=s,r[3]+=u,r[4]+=c,r[5]+=a,r[6]+=l,r[7]+=f},t}();xr.RawSha256=mf;var Ro={},Nr={},bf=function(t){for(var n=[],e=0,r=t.length;e<r;e++){var i=t.charCodeAt(e);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192,i&63|128);else if(e+1<t.length&&(i&64512)===55296&&(t.charCodeAt(e+1)&64512)===56320){var o=65536+((i&1023)<<10)+(t.charCodeAt(++e)&1023);n.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else n.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(n)},wf=function(t){for(var n="",e=0,r=t.length;e<r;e++){var i=t[e];if(i<128)n+=String.fromCharCode(i);else if(192<=i&&i<224){var o=t[++e];n+=String.fromCharCode((i&31)<<6|o&63)}else if(240<=i&&i<365){var s=[i,t[++e],t[++e],t[++e]],u="%"+s.map(function(c){return c.toString(16)}).join("%");n+=decodeURIComponent(u)}else n+=String.fromCharCode((i&15)<<12|(t[++e]&63)<<6|t[++e]&63)}return n};function Sf(t){return new TextEncoder().encode(t)}function _f(t){return new TextDecoder("utf-8").decode(t)}var $u=function(t){return typeof TextEncoder=="function"?Sf(t):bf(t)},Xu=function(t){return typeof TextDecoder=="function"?_f(t):wf(t)};const Ef=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:$u,toUtf8:Xu},Symbol.toStringTag,{value:"Module"})),Qu=Io(Ef);Object.defineProperty(Nr,"__esModule",{value:!0});Nr.convertToBuffer=void 0;var Af=Qu,If=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:Af.fromUtf8;function Tf(t){return t instanceof Uint8Array?t:typeof t=="string"?If(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}Nr.convertToBuffer=Tf;var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.isEmptyData=void 0;function Cf(t){return typeof t=="string"?t.length===0:t.byteLength===0}Rr.isEmptyData=Cf;var Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});Ur.numToUint8=void 0;function kf(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}Ur.numToUint8=kf;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.uint32ArrayFrom=void 0;function Of(t){if(!Array.from){for(var n=new Uint32Array(t.length),e=0;e<t.length;)n[e]=t[e];return n}return Uint32Array.from(t)}Dr.uint32ArrayFrom=Of;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var n=Nr;Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return n.convertToBuffer}});var e=Rr;Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return e.isEmptyData}});var r=Ur;Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return r.numToUint8}});var i=Dr;Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return i.uint32ArrayFrom}})})(Ro);Object.defineProperty(Pr,"__esModule",{value:!0});Pr.Sha256=void 0;var ns=Ju,br=Ge,Fi=xr,Bi=Ro,Pf=function(){function t(n){if(this.hash=new Fi.RawSha256,n){this.outer=new Fi.RawSha256;var e=xf(n),r=new Uint8Array(br.BLOCK_SIZE);r.set(e);for(var i=0;i<br.BLOCK_SIZE;i++)e[i]^=54,r[i]^=92;this.hash.update(e),this.outer.update(r);for(var i=0;i<e.byteLength;i++)e[i]=0}}return t.prototype.update=function(n){if(!((0,Bi.isEmptyData)(n)||this.error))try{this.hash.update((0,Bi.convertToBuffer)(n))}catch(e){this.error=e}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return(0,ns.__awaiter)(this,void 0,void 0,function(){return(0,ns.__generator)(this,function(n){return[2,this.digestSync()]})})},t}();Pr.Sha256=Pf;function xf(t){var n=(0,Bi.convertToBuffer)(t);if(n.byteLength>br.BLOCK_SIZE){var e=new Fi.RawSha256;e.update(n),n=e.digest()}var r=new Uint8Array(br.BLOCK_SIZE);return r.set(n),r}(function(t){Object.defineProperty(t,"__esModule",{value:!0});var n=Ju;(0,n.__exportStar)(Pr,t)})(Ot);var Zu={};for(var Wn=0;Wn<256;Wn++){var Yn=Wn.toString(16).toLowerCase();Yn.length===1&&(Yn="0"+Yn),Zu[Wn]=Yn}function Jt(t){for(var n="",e=0;e<t.byteLength;e++)n+=Zu[t[e]];return n}var Pn=function(t,n){var e=new Ot.Sha256(t);e.update(n);var r=e.digestSync();return r},qi=function(t,n){var e=Pn(t,n);return Jt(e)},Nf=function(t){return Object.entries(t).map(function(n){var e=kt(n,2),r=e[0],i=e[1],o;return{key:r.toLowerCase(),value:(o=i==null?void 0:i.trim().replace(/\s+/g," "))!==null&&o!==void 0?o:""}}).sort(function(n,e){return n.key<e.key?-1:1}).map(function(n){return n.key+":"+n.value+`
`}).join("")},Rf=function(t){return Array.from(t).sort(function(n,e){var r=kt(n,2),i=r[0],o=r[1],s=kt(e,2),u=s[0],c=s[1];return i===u?o<c?-1:1:i<u?-1:1}).map(function(n){var e=kt(n,2),r=e[0],i=e[1];return rs(r)+"="+rs(i)}).join("&")},rs=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,Uf)},Uf=function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()},Df=function(t){return t?encodeURIComponent(t).replace(/%2F/g,"/"):"/"},Mf=function(t){if(t==null)return pf;if(jf(t)){var n=qi(null,t);return n}return gf},jf=function(t){return typeof t=="string"||ArrayBuffer.isView(t)||Lf(t)},Lf=function(t){return typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]"},Ff=function(t){var n=t.body,e=t.headers,r=t.method,i=t.url;return[r,Df(i.pathname),Rf(i.searchParams),Nf(e),zu(e),Mf(n)].join(`
`)},Bf=function(t,n,e,r){var i=""+df+t,o=Pn(i,n),s=Pn(o,e),u=Pn(s,r),c=Pn(u,Hu);return c},qf=function(t,n,e){return[No,t,n,e].join(`
`)},ec=function(t,n){var e=n.credentialScope,r=n.longDate,i=n.secretAccessKey,o=n.shortDate,s=n.signingRegion,u=n.signingService,c=Ff(t),a=qi(null,c),l=qf(r,e,a),f=qi(Bf(i,o,s,u),l);return f},Kf=function(t,n){var e=Wu(n),r=e.accessKeyId,i=e.credentialScope,o=e.longDate,s=e.sessionToken,u=ue({},t.headers);u[Li]=t.url.host,u[ff]=o,s&&(u[hf]=s);var c=ue(ue({},t),{headers:u}),a=ec(c,e),l="Credential="+r+"/"+i,f="SignedHeaders="+zu(u),g="Signature="+a;return u[lf]=No+" "+l+", "+f+", "+g,c},Vf=function(t,n){var e,r,i,o,s=t.body,u=t.method,c=u===void 0?"GET":u,a=t.url,l=n.expiration,f=Nl(n,["expiration"]),g=Wu(f),v=g.accessKeyId,b=g.credentialScope,_=g.longDate,T=g.sessionToken,O=new URL(a);Object.entries(ue(ue((e={},e[of]=No,e[sf]=v+"/"+b,e[Gu]=_,e[cf]=Li,e),l&&(r={},r[af]=l.toString(),r)),T&&(i={},i[xo]=T,i))).forEach(function(U){var D=kt(U,2),z=D[0],H=D[1];O.searchParams.append(z,H)});var I={body:s,headers:(o={},o[Li]=a.host,o),method:c,url:O},N=ec(I,g);return O.searchParams.append(uf,N),O},zf="iotdevicegateway",Gf=/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com(.cn)?$/,tc=function(){function t(){}return t.sign=function(n,e,r){if(n.headers=n.headers||{},n.body&&!n.data)throw new Error('The attribute "body" was found on the request object. Please use the attribute "data" instead.');var i=ue(ue({},n),{body:n.data,url:new URL(n.url)}),o=is(i,e,r),s=Kf(i,o);return s.url=s.url.toString(),s.headers.Authorization=s.headers.authorization,s.headers["X-Amz-Security-Token"]=s.headers["x-amz-security-token"],delete s.headers.authorization,delete s.headers["x-amz-security-token"],s},t.signUrl=function(n,e,r,i){var o=typeof n=="object"?n.url:n,s=typeof n=="object"?n.method:"GET",u=typeof n=="object"?n.body:void 0,c={body:u,method:s,url:new URL(o)},a=is(c,e,r,i),l=Vf(c,a);return e.session_token&&!nc(a.signingService)&&l.searchParams.append(xo,e.session_token),l.toString()},t}(),is=function(t,n,e,r){var i=n??{},o=i.access_key,s=i.secret_key,u=i.session_token,c=Hf(t.url),a=c.region,l=c.service,f=e??{},g=f.region,v=g===void 0?a:g,b=f.service,_=b===void 0?l:b,T=ue({accessKeyId:o,secretAccessKey:s},nc(_)?{sessionToken:u}:{});return ue({credentials:T,signingDate:ut.getDateWithClockOffset(),signingRegion:v,signingService:_},r&&{expiration:r})},Hf=function(t){var n,e=t.host,r=(n=e.match(Gf))!==null&&n!==void 0?n:[],i=r.slice(1,3);return i[1]==="es"&&(i=i.reverse()),{service:i[0],region:i[1]}},nc=function(t){return t!==zf},Wf=new ye("Parser"),rc=function(t){var n={};if(t.aws_mobile_analytics_app_id){var e={AWSPinpoint:{appId:t.aws_mobile_analytics_app_id,region:t.aws_mobile_analytics_app_region}};n.Analytics=e}(t.aws_cognito_identity_pool_id||t.aws_user_pools_id)&&(n.Auth={userPoolId:t.aws_user_pools_id,userPoolWebClientId:t.aws_user_pools_web_client_id,region:t.aws_cognito_region,identityPoolId:t.aws_cognito_identity_pool_id,identityPoolRegion:t.aws_cognito_region,mandatorySignIn:t.aws_mandatory_sign_in==="enable",signUpVerificationMethod:t.aws_cognito_sign_up_verification_method||"code"});var r;return t.aws_user_files_s3_bucket?r={AWSS3:{bucket:t.aws_user_files_s3_bucket,region:t.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:t.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:r=t?t.Storage||t:{},t.Logging&&(n.Logging=ue(ue({},t.Logging),{region:t.aws_project_region})),t.geo&&(n.Geo=Object.assign({},t.geo),t.geo.amazon_location_service&&(n.Geo={AmazonLocationService:t.geo.amazon_location_service})),n.Analytics=Object.assign({},n.Analytics,t.Analytics),n.Auth=Object.assign({},n.Auth,t.Auth),n.Storage=Object.assign({},r),n.Logging=Object.assign({},n.Logging,t.Logging),Wf.debug("parse config",t,"to amplifyconfig",n),n},Ki=function(t,n){return Ki=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},Ki(t,n)};function Uo(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Ki(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var M=function(){return M=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},M.apply(this,arguments)};function Ne(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,n||[])).next())})}function Re(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(e=0)),e;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function Yf(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,o=[],s;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}var ic={},oc={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(t){var n,e,r,i,o,s,u,c,a,l,f,g,v,b,_,T,O,I,N,U,D,z,H;(function(k){var W=typeof We=="object"?We:typeof self=="object"?self:typeof this=="object"?this:{};k(p(W,p(t.exports)));function p(y,m){return y!==W&&(typeof Object.create=="function"?Object.defineProperty(y,"__esModule",{value:!0}):y.__esModule=!0),function(E,A){return y[E]=m?m(E,A):A}}})(function(k){var W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var m in y)y.hasOwnProperty(m)&&(p[m]=y[m])};n=function(p,y){W(p,y);function m(){this.constructor=p}p.prototype=y===null?Object.create(y):(m.prototype=y.prototype,new m)},e=Object.assign||function(p){for(var y,m=1,E=arguments.length;m<E;m++){y=arguments[m];for(var A in y)Object.prototype.hasOwnProperty.call(y,A)&&(p[A]=y[A])}return p},r=function(p,y){var m={};for(var E in p)Object.prototype.hasOwnProperty.call(p,E)&&y.indexOf(E)<0&&(m[E]=p[E]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,E=Object.getOwnPropertySymbols(p);A<E.length;A++)y.indexOf(E[A])<0&&Object.prototype.propertyIsEnumerable.call(p,E[A])&&(m[E[A]]=p[E[A]]);return m},i=function(p,y,m,E){var A=arguments.length,S=A<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,m):E,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(p,y,m,E);else for(var V=p.length-1;V>=0;V--)(P=p[V])&&(S=(A<3?P(S):A>3?P(y,m,S):P(y,m))||S);return A>3&&S&&Object.defineProperty(y,m,S),S},o=function(p,y){return function(m,E){y(m,E,p)}},s=function(p,y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(p,y)},u=function(p,y,m,E){function A(S){return S instanceof m?S:new m(function(P){P(S)})}return new(m||(m=Promise))(function(S,P){function V(B){try{x(E.next(B))}catch(G){P(G)}}function Z(B){try{x(E.throw(B))}catch(G){P(G)}}function x(B){B.done?S(B.value):A(B.value).then(V,Z)}x((E=E.apply(p,y||[])).next())})},c=function(p,y){var m={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},E,A,S,P;return P={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function V(x){return function(B){return Z([x,B])}}function Z(x){if(E)throw new TypeError("Generator is already executing.");for(;m;)try{if(E=1,A&&(S=x[0]&2?A.return:x[0]?A.throw||((S=A.return)&&S.call(A),0):A.next)&&!(S=S.call(A,x[1])).done)return S;switch(A=0,S&&(x=[x[0]&2,S.value]),x[0]){case 0:case 1:S=x;break;case 4:return m.label++,{value:x[1],done:!1};case 5:m.label++,A=x[1],x=[0];continue;case 7:x=m.ops.pop(),m.trys.pop();continue;default:if(S=m.trys,!(S=S.length>0&&S[S.length-1])&&(x[0]===6||x[0]===2)){m=0;continue}if(x[0]===3&&(!S||x[1]>S[0]&&x[1]<S[3])){m.label=x[1];break}if(x[0]===6&&m.label<S[1]){m.label=S[1],S=x;break}if(S&&m.label<S[2]){m.label=S[2],m.ops.push(x);break}S[2]&&m.ops.pop(),m.trys.pop();continue}x=y.call(p,m)}catch(B){x=[6,B],A=0}finally{E=S=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},H=function(p,y,m,E){E===void 0&&(E=m),p[E]=y[m]},a=function(p,y){for(var m in p)m!=="default"&&!y.hasOwnProperty(m)&&(y[m]=p[m])},l=function(p){var y=typeof Symbol=="function"&&Symbol.iterator,m=y&&p[y],E=0;if(m)return m.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&E>=p.length&&(p=void 0),{value:p&&p[E++],done:!p}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")},f=function(p,y){var m=typeof Symbol=="function"&&p[Symbol.iterator];if(!m)return p;var E=m.call(p),A,S=[],P;try{for(;(y===void 0||y-- >0)&&!(A=E.next()).done;)S.push(A.value)}catch(V){P={error:V}}finally{try{A&&!A.done&&(m=E.return)&&m.call(E)}finally{if(P)throw P.error}}return S},g=function(){for(var p=[],y=0;y<arguments.length;y++)p=p.concat(f(arguments[y]));return p},v=function(){for(var p=0,y=0,m=arguments.length;y<m;y++)p+=arguments[y].length;for(var E=Array(p),A=0,y=0;y<m;y++)for(var S=arguments[y],P=0,V=S.length;P<V;P++,A++)E[A]=S[P];return E},b=function(p){return this instanceof b?(this.v=p,this):new b(p)},_=function(p,y,m){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E=m.apply(p,y||[]),A,S=[];return A={},P("next"),P("throw"),P("return"),A[Symbol.asyncIterator]=function(){return this},A;function P(j){E[j]&&(A[j]=function($){return new Promise(function(ee,fe){S.push([j,$,ee,fe])>1||V(j,$)})})}function V(j,$){try{Z(E[j]($))}catch(ee){G(S[0][3],ee)}}function Z(j){j.value instanceof b?Promise.resolve(j.value.v).then(x,B):G(S[0][2],j)}function x(j){V("next",j)}function B(j){V("throw",j)}function G(j,$){j($),S.shift(),S.length&&V(S[0][0],S[0][1])}},T=function(p){var y,m;return y={},E("next"),E("throw",function(A){throw A}),E("return"),y[Symbol.iterator]=function(){return this},y;function E(A,S){y[A]=p[A]?function(P){return(m=!m)?{value:b(p[A](P)),done:A==="return"}:S?S(P):P}:S}},O=function(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y=p[Symbol.asyncIterator],m;return y?y.call(p):(p=typeof l=="function"?l(p):p[Symbol.iterator](),m={},E("next"),E("throw"),E("return"),m[Symbol.asyncIterator]=function(){return this},m);function E(S){m[S]=p[S]&&function(P){return new Promise(function(V,Z){P=p[S](P),A(V,Z,P.done,P.value)})}}function A(S,P,V,Z){Promise.resolve(Z).then(function(x){S({value:x,done:V})},P)}},I=function(p,y){return Object.defineProperty?Object.defineProperty(p,"raw",{value:y}):p.raw=y,p},N=function(p){if(p&&p.__esModule)return p;var y={};if(p!=null)for(var m in p)Object.hasOwnProperty.call(p,m)&&(y[m]=p[m]);return y.default=p,y},U=function(p){return p&&p.__esModule?p:{default:p}},D=function(p,y){if(!y.has(p))throw new TypeError("attempted to get private field on non-instance");return y.get(p)},z=function(p,y,m){if(!y.has(p))throw new TypeError("attempted to set private field on non-instance");return y.set(p,m),m},k("__extends",n),k("__assign",e),k("__rest",r),k("__decorate",i),k("__param",o),k("__metadata",s),k("__awaiter",u),k("__generator",c),k("__exportStar",a),k("__createBinding",H),k("__values",l),k("__read",f),k("__spread",g),k("__spreadArrays",v),k("__await",b),k("__asyncGenerator",_),k("__asyncDelegator",T),k("__asyncValues",O),k("__makeTemplateObject",I),k("__importStar",N),k("__importDefault",U),k("__classPrivateFieldGet",D),k("__classPrivateFieldSet",z)})})(oc);var Jf=oc.exports,Mr={},Kn={},jr={};Object.defineProperty(jr,"__esModule",{value:!0});jr.isEmptyData=void 0;function $f(t){return typeof t=="string"?t.length===0:t.byteLength===0}jr.isEmptyData=$f;var Do={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])})(Do);const Xf={};function Qf(){return typeof window<"u"?window:typeof self<"u"?self:Xf}const Zf=Object.freeze(Object.defineProperty({__proto__:null,locateWindow:Qf},Symbol.toStringTag,{value:"Module"})),Mo=Io(Zf);Object.defineProperty(Kn,"__esModule",{value:!0});Kn.Sha256=void 0;var eh=jr,sc=Do,th=Qu,Vi=Mo,nh=function(){function t(n){n?(this.operation=rh(n).then(function(e){return(0,Vi.locateWindow)().msCrypto.subtle.sign(sc.SHA_256_HMAC_ALGO,e)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,Vi.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return t.prototype.update=function(n){var e=this;(0,eh.isEmptyData)(n)||(this.operation=this.operation.then(function(r){return r.onerror=function(){e.operation=Promise.reject(new Error("Error encountered updating hash"))},r.process(ac(n)),r}),this.operation.catch(function(){}))},t.prototype.digest=function(){return this.operation.then(function(n){return new Promise(function(e,r){n.onerror=function(){r(new Error("Error encountered finalizing hash"))},n.oncomplete=function(){n.result&&e(new Uint8Array(n.result)),r(new Error("Error encountered finalizing hash"))},n.finish()})})},t}();Kn.Sha256=nh;function rh(t){return new Promise(function(n,e){var r=(0,Vi.locateWindow)().msCrypto.subtle.importKey("raw",ac(t),sc.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&n(r.result),e(new Error("ImportKey completed without importing key."))},r.onerror=function(){e(new Error("ImportKey failed to import key."))}})}function ac(t){return typeof t=="string"?(0,th.fromUtf8)(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.Sha256=void 0;var Jn=Ro,$n=Do,Jr=Mo,ih=function(){function t(n){this.toHash=new Uint8Array(0),n!==void 0&&(this.key=new Promise(function(e,r){(0,Jr.locateWindow)().crypto.subtle.importKey("raw",(0,Jn.convertToBuffer)(n),$n.SHA_256_HMAC_ALGO,!1,["sign"]).then(e,r)}),this.key.catch(function(){}))}return t.prototype.update=function(n){if(!(0,Jn.isEmptyData)(n)){var e=(0,Jn.convertToBuffer)(n),r=new Uint8Array(this.toHash.byteLength+e.byteLength);r.set(this.toHash,0),r.set(e,this.toHash.byteLength),this.toHash=r}},t.prototype.digest=function(){var n=this;return this.key?this.key.then(function(e){return(0,Jr.locateWindow)().crypto.subtle.sign($n.SHA_256_HMAC_ALGO,e,n.toHash).then(function(r){return new Uint8Array(r)})}):(0,Jn.isEmptyData)(this.toHash)?Promise.resolve($n.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,Jr.locateWindow)().crypto.subtle.digest($n.SHA_256_HASH,n.toHash)}).then(function(e){return Promise.resolve(new Uint8Array(e))})},t}();Vn.Sha256=ih;var uc={},cc={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(t){var n,e,r,i,o,s,u,c,a,l,f,g,v,b,_,T,O,I,N,U,D,z,H;(function(k){var W=typeof We=="object"?We:typeof self=="object"?self:typeof this=="object"?this:{};k(p(W,p(t.exports)));function p(y,m){return y!==W&&(typeof Object.create=="function"?Object.defineProperty(y,"__esModule",{value:!0}):y.__esModule=!0),function(E,A){return y[E]=m?m(E,A):A}}})(function(k){var W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var m in y)y.hasOwnProperty(m)&&(p[m]=y[m])};n=function(p,y){W(p,y);function m(){this.constructor=p}p.prototype=y===null?Object.create(y):(m.prototype=y.prototype,new m)},e=Object.assign||function(p){for(var y,m=1,E=arguments.length;m<E;m++){y=arguments[m];for(var A in y)Object.prototype.hasOwnProperty.call(y,A)&&(p[A]=y[A])}return p},r=function(p,y){var m={};for(var E in p)Object.prototype.hasOwnProperty.call(p,E)&&y.indexOf(E)<0&&(m[E]=p[E]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,E=Object.getOwnPropertySymbols(p);A<E.length;A++)y.indexOf(E[A])<0&&Object.prototype.propertyIsEnumerable.call(p,E[A])&&(m[E[A]]=p[E[A]]);return m},i=function(p,y,m,E){var A=arguments.length,S=A<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,m):E,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(p,y,m,E);else for(var V=p.length-1;V>=0;V--)(P=p[V])&&(S=(A<3?P(S):A>3?P(y,m,S):P(y,m))||S);return A>3&&S&&Object.defineProperty(y,m,S),S},o=function(p,y){return function(m,E){y(m,E,p)}},s=function(p,y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(p,y)},u=function(p,y,m,E){function A(S){return S instanceof m?S:new m(function(P){P(S)})}return new(m||(m=Promise))(function(S,P){function V(B){try{x(E.next(B))}catch(G){P(G)}}function Z(B){try{x(E.throw(B))}catch(G){P(G)}}function x(B){B.done?S(B.value):A(B.value).then(V,Z)}x((E=E.apply(p,y||[])).next())})},c=function(p,y){var m={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},E,A,S,P;return P={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function V(x){return function(B){return Z([x,B])}}function Z(x){if(E)throw new TypeError("Generator is already executing.");for(;m;)try{if(E=1,A&&(S=x[0]&2?A.return:x[0]?A.throw||((S=A.return)&&S.call(A),0):A.next)&&!(S=S.call(A,x[1])).done)return S;switch(A=0,S&&(x=[x[0]&2,S.value]),x[0]){case 0:case 1:S=x;break;case 4:return m.label++,{value:x[1],done:!1};case 5:m.label++,A=x[1],x=[0];continue;case 7:x=m.ops.pop(),m.trys.pop();continue;default:if(S=m.trys,!(S=S.length>0&&S[S.length-1])&&(x[0]===6||x[0]===2)){m=0;continue}if(x[0]===3&&(!S||x[1]>S[0]&&x[1]<S[3])){m.label=x[1];break}if(x[0]===6&&m.label<S[1]){m.label=S[1],S=x;break}if(S&&m.label<S[2]){m.label=S[2],m.ops.push(x);break}S[2]&&m.ops.pop(),m.trys.pop();continue}x=y.call(p,m)}catch(B){x=[6,B],A=0}finally{E=S=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},H=function(p,y,m,E){E===void 0&&(E=m),p[E]=y[m]},a=function(p,y){for(var m in p)m!=="default"&&!y.hasOwnProperty(m)&&(y[m]=p[m])},l=function(p){var y=typeof Symbol=="function"&&Symbol.iterator,m=y&&p[y],E=0;if(m)return m.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&E>=p.length&&(p=void 0),{value:p&&p[E++],done:!p}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")},f=function(p,y){var m=typeof Symbol=="function"&&p[Symbol.iterator];if(!m)return p;var E=m.call(p),A,S=[],P;try{for(;(y===void 0||y-- >0)&&!(A=E.next()).done;)S.push(A.value)}catch(V){P={error:V}}finally{try{A&&!A.done&&(m=E.return)&&m.call(E)}finally{if(P)throw P.error}}return S},g=function(){for(var p=[],y=0;y<arguments.length;y++)p=p.concat(f(arguments[y]));return p},v=function(){for(var p=0,y=0,m=arguments.length;y<m;y++)p+=arguments[y].length;for(var E=Array(p),A=0,y=0;y<m;y++)for(var S=arguments[y],P=0,V=S.length;P<V;P++,A++)E[A]=S[P];return E},b=function(p){return this instanceof b?(this.v=p,this):new b(p)},_=function(p,y,m){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E=m.apply(p,y||[]),A,S=[];return A={},P("next"),P("throw"),P("return"),A[Symbol.asyncIterator]=function(){return this},A;function P(j){E[j]&&(A[j]=function($){return new Promise(function(ee,fe){S.push([j,$,ee,fe])>1||V(j,$)})})}function V(j,$){try{Z(E[j]($))}catch(ee){G(S[0][3],ee)}}function Z(j){j.value instanceof b?Promise.resolve(j.value.v).then(x,B):G(S[0][2],j)}function x(j){V("next",j)}function B(j){V("throw",j)}function G(j,$){j($),S.shift(),S.length&&V(S[0][0],S[0][1])}},T=function(p){var y,m;return y={},E("next"),E("throw",function(A){throw A}),E("return"),y[Symbol.iterator]=function(){return this},y;function E(A,S){y[A]=p[A]?function(P){return(m=!m)?{value:b(p[A](P)),done:A==="return"}:S?S(P):P}:S}},O=function(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y=p[Symbol.asyncIterator],m;return y?y.call(p):(p=typeof l=="function"?l(p):p[Symbol.iterator](),m={},E("next"),E("throw"),E("return"),m[Symbol.asyncIterator]=function(){return this},m);function E(S){m[S]=p[S]&&function(P){return new Promise(function(V,Z){P=p[S](P),A(V,Z,P.done,P.value)})}}function A(S,P,V,Z){Promise.resolve(Z).then(function(x){S({value:x,done:V})},P)}},I=function(p,y){return Object.defineProperty?Object.defineProperty(p,"raw",{value:y}):p.raw=y,p},N=function(p){if(p&&p.__esModule)return p;var y={};if(p!=null)for(var m in p)Object.hasOwnProperty.call(p,m)&&(y[m]=p[m]);return y.default=p,y},U=function(p){return p&&p.__esModule?p:{default:p}},D=function(p,y){if(!y.has(p))throw new TypeError("attempted to get private field on non-instance");return y.get(p)},z=function(p,y,m){if(!y.has(p))throw new TypeError("attempted to set private field on non-instance");return y.set(p,m),m},k("__extends",n),k("__assign",e),k("__rest",r),k("__decorate",i),k("__param",o),k("__metadata",s),k("__awaiter",u),k("__generator",c),k("__exportStar",a),k("__createBinding",H),k("__values",l),k("__read",f),k("__spread",g),k("__spreadArrays",v),k("__await",b),k("__asyncGenerator",_),k("__asyncDelegator",T),k("__asyncValues",O),k("__makeTemplateObject",I),k("__importStar",N),k("__importDefault",U),k("__classPrivateFieldGet",D),k("__classPrivateFieldSet",z)})})(cc);var lc=cc.exports,tt={},os;function oh(){if(os)return tt;os=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.supportsZeroByteGCM=tt.supportsSubtleCrypto=tt.supportsSecureRandom=tt.supportsWebCrypto=void 0;var t=lc,n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function e(s){if(r(s)&&typeof s.crypto.subtle=="object"){var u=s.crypto.subtle;return i(u)}return!1}tt.supportsWebCrypto=e;function r(s){if(typeof s=="object"&&typeof s.crypto=="object"){var u=s.crypto.getRandomValues;return typeof u=="function"}return!1}tt.supportsSecureRandom=r;function i(s){return s&&n.every(function(u){return typeof s[u]=="function"})}tt.supportsSubtleCrypto=i;function o(s){return t.__awaiter(this,void 0,void 0,function(){var u,c;return t.__generator(this,function(a){switch(a.label){case 0:if(!i(s))return[2,!1];a.label=1;case 1:return a.trys.push([1,4,,5]),[4,s.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return u=a.sent(),[4,s.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},u,new Uint8Array(0))];case 3:return c=a.sent(),[2,c.byteLength===16];case 4:return a.sent(),[2,!1];case 5:return[2]}})})}return tt.supportsZeroByteGCM=o,tt}(function(t){Object.defineProperty(t,"__esModule",{value:!0});var n=lc;n.__exportStar(oh(),t)})(uc);var fc={},hc={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(t){var n,e,r,i,o,s,u,c,a,l,f,g,v,b,_,T,O,I,N,U,D,z,H;(function(k){var W=typeof We=="object"?We:typeof self=="object"?self:typeof this=="object"?this:{};k(p(W,p(t.exports)));function p(y,m){return y!==W&&(typeof Object.create=="function"?Object.defineProperty(y,"__esModule",{value:!0}):y.__esModule=!0),function(E,A){return y[E]=m?m(E,A):A}}})(function(k){var W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var m in y)y.hasOwnProperty(m)&&(p[m]=y[m])};n=function(p,y){W(p,y);function m(){this.constructor=p}p.prototype=y===null?Object.create(y):(m.prototype=y.prototype,new m)},e=Object.assign||function(p){for(var y,m=1,E=arguments.length;m<E;m++){y=arguments[m];for(var A in y)Object.prototype.hasOwnProperty.call(y,A)&&(p[A]=y[A])}return p},r=function(p,y){var m={};for(var E in p)Object.prototype.hasOwnProperty.call(p,E)&&y.indexOf(E)<0&&(m[E]=p[E]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,E=Object.getOwnPropertySymbols(p);A<E.length;A++)y.indexOf(E[A])<0&&Object.prototype.propertyIsEnumerable.call(p,E[A])&&(m[E[A]]=p[E[A]]);return m},i=function(p,y,m,E){var A=arguments.length,S=A<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,m):E,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(p,y,m,E);else for(var V=p.length-1;V>=0;V--)(P=p[V])&&(S=(A<3?P(S):A>3?P(y,m,S):P(y,m))||S);return A>3&&S&&Object.defineProperty(y,m,S),S},o=function(p,y){return function(m,E){y(m,E,p)}},s=function(p,y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(p,y)},u=function(p,y,m,E){function A(S){return S instanceof m?S:new m(function(P){P(S)})}return new(m||(m=Promise))(function(S,P){function V(B){try{x(E.next(B))}catch(G){P(G)}}function Z(B){try{x(E.throw(B))}catch(G){P(G)}}function x(B){B.done?S(B.value):A(B.value).then(V,Z)}x((E=E.apply(p,y||[])).next())})},c=function(p,y){var m={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},E,A,S,P;return P={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function V(x){return function(B){return Z([x,B])}}function Z(x){if(E)throw new TypeError("Generator is already executing.");for(;m;)try{if(E=1,A&&(S=x[0]&2?A.return:x[0]?A.throw||((S=A.return)&&S.call(A),0):A.next)&&!(S=S.call(A,x[1])).done)return S;switch(A=0,S&&(x=[x[0]&2,S.value]),x[0]){case 0:case 1:S=x;break;case 4:return m.label++,{value:x[1],done:!1};case 5:m.label++,A=x[1],x=[0];continue;case 7:x=m.ops.pop(),m.trys.pop();continue;default:if(S=m.trys,!(S=S.length>0&&S[S.length-1])&&(x[0]===6||x[0]===2)){m=0;continue}if(x[0]===3&&(!S||x[1]>S[0]&&x[1]<S[3])){m.label=x[1];break}if(x[0]===6&&m.label<S[1]){m.label=S[1],S=x;break}if(S&&m.label<S[2]){m.label=S[2],m.ops.push(x);break}S[2]&&m.ops.pop(),m.trys.pop();continue}x=y.call(p,m)}catch(B){x=[6,B],A=0}finally{E=S=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},H=function(p,y,m,E){E===void 0&&(E=m),p[E]=y[m]},a=function(p,y){for(var m in p)m!=="default"&&!y.hasOwnProperty(m)&&(y[m]=p[m])},l=function(p){var y=typeof Symbol=="function"&&Symbol.iterator,m=y&&p[y],E=0;if(m)return m.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&E>=p.length&&(p=void 0),{value:p&&p[E++],done:!p}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")},f=function(p,y){var m=typeof Symbol=="function"&&p[Symbol.iterator];if(!m)return p;var E=m.call(p),A,S=[],P;try{for(;(y===void 0||y-- >0)&&!(A=E.next()).done;)S.push(A.value)}catch(V){P={error:V}}finally{try{A&&!A.done&&(m=E.return)&&m.call(E)}finally{if(P)throw P.error}}return S},g=function(){for(var p=[],y=0;y<arguments.length;y++)p=p.concat(f(arguments[y]));return p},v=function(){for(var p=0,y=0,m=arguments.length;y<m;y++)p+=arguments[y].length;for(var E=Array(p),A=0,y=0;y<m;y++)for(var S=arguments[y],P=0,V=S.length;P<V;P++,A++)E[A]=S[P];return E},b=function(p){return this instanceof b?(this.v=p,this):new b(p)},_=function(p,y,m){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E=m.apply(p,y||[]),A,S=[];return A={},P("next"),P("throw"),P("return"),A[Symbol.asyncIterator]=function(){return this},A;function P(j){E[j]&&(A[j]=function($){return new Promise(function(ee,fe){S.push([j,$,ee,fe])>1||V(j,$)})})}function V(j,$){try{Z(E[j]($))}catch(ee){G(S[0][3],ee)}}function Z(j){j.value instanceof b?Promise.resolve(j.value.v).then(x,B):G(S[0][2],j)}function x(j){V("next",j)}function B(j){V("throw",j)}function G(j,$){j($),S.shift(),S.length&&V(S[0][0],S[0][1])}},T=function(p){var y,m;return y={},E("next"),E("throw",function(A){throw A}),E("return"),y[Symbol.iterator]=function(){return this},y;function E(A,S){y[A]=p[A]?function(P){return(m=!m)?{value:b(p[A](P)),done:A==="return"}:S?S(P):P}:S}},O=function(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y=p[Symbol.asyncIterator],m;return y?y.call(p):(p=typeof l=="function"?l(p):p[Symbol.iterator](),m={},E("next"),E("throw"),E("return"),m[Symbol.asyncIterator]=function(){return this},m);function E(S){m[S]=p[S]&&function(P){return new Promise(function(V,Z){P=p[S](P),A(V,Z,P.done,P.value)})}}function A(S,P,V,Z){Promise.resolve(Z).then(function(x){S({value:x,done:V})},P)}},I=function(p,y){return Object.defineProperty?Object.defineProperty(p,"raw",{value:y}):p.raw=y,p},N=function(p){if(p&&p.__esModule)return p;var y={};if(p!=null)for(var m in p)Object.hasOwnProperty.call(p,m)&&(y[m]=p[m]);return y.default=p,y},U=function(p){return p&&p.__esModule?p:{default:p}},D=function(p,y){if(!y.has(p))throw new TypeError("attempted to get private field on non-instance");return y.get(p)},z=function(p,y,m){if(!y.has(p))throw new TypeError("attempted to set private field on non-instance");return y.set(p,m),m},k("__extends",n),k("__assign",e),k("__rest",r),k("__decorate",i),k("__param",o),k("__metadata",s),k("__awaiter",u),k("__generator",c),k("__exportStar",a),k("__createBinding",H),k("__values",l),k("__read",f),k("__spread",g),k("__spreadArrays",v),k("__await",b),k("__asyncGenerator",_),k("__asyncDelegator",T),k("__asyncValues",O),k("__makeTemplateObject",I),k("__importStar",N),k("__importDefault",U),k("__classPrivateFieldGet",D),k("__classPrivateFieldSet",z)})})(hc);var sh=hc.exports,ss={},as;function ah(){return as||(as=1,Object.defineProperty(ss,"__esModule",{value:!0})),ss}var us={},cs;function uh(){return cs||(cs=1,Object.defineProperty(us,"__esModule",{value:!0})),us}var ls={},fs;function ch(){return fs||(fs=1,Object.defineProperty(ls,"__esModule",{value:!0})),ls}var hs={},ds;function lh(){return ds||(ds=1,Object.defineProperty(hs,"__esModule",{value:!0})),hs}var Cn={},ps;function fh(){if(ps)return Cn;ps=1,Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.isMsWindow=void 0;var t=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function n(r){return"MSInputMethodContext"in r&&"msCrypto"in r}function e(r){if(n(r)&&r.msCrypto.subtle!==void 0){var i=r.msCrypto,o=i.getRandomValues,s=i.subtle;return t.map(function(u){return s[u]}).concat(o).every(function(u){return typeof u=="function"})}return!1}return Cn.isMsWindow=e,Cn}(function(t){Object.defineProperty(t,"__esModule",{value:!0});var n=sh;n.__exportStar(ah(),t),n.__exportStar(uh(),t),n.__exportStar(ch(),t),n.__exportStar(lh(),t),n.__exportStar(fh(),t)})(fc);Object.defineProperty(Mr,"__esModule",{value:!0});Mr.Sha256=void 0;var hh=Kn,dh=Vn,ph=Ot,gh=uc,yh=fc,gs=Mo,vh=function(){function t(n){(0,gh.supportsWebCrypto)((0,gs.locateWindow)())?this.hash=new dh.Sha256(n):(0,yh.isMsWindow)((0,gs.locateWindow)())?this.hash=new hh.Sha256(n):this.hash=new ph.Sha256(n)}return t.prototype.update=function(n,e){this.hash.update(n,e)},t.prototype.digest=function(){return this.hash.digest()},t}();Mr.Sha256=vh;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0;var n=Jf;(0,n.__exportStar)(Mr,t);var e=Kn;Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return e.Sha256}});var r=Vn;Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return r.Sha256}})})(ic);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function dc(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,n||[])).next())})}function pc(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function mh(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}var ys=function(){function t(n){this.statusCode=n.statusCode,this.headers=n.headers||{},this.body=n.body}return t.isInstance=function(n){if(!n)return!1;var e=n;return typeof e.statusCode=="number"&&typeof e.headers=="object"},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Qt=function(){return Qt=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Qt.apply(this,arguments)};function bh(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,o=[],s;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}function wh(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(bh(arguments[n]));return t}var vn=function(){function t(n){this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?n.protocol.substr(-1)!==":"?n.protocol+":":n.protocol:"https:",this.path=n.path?n.path.charAt(0)!=="/"?"/"+n.path:n.path:"/"}return t.isInstance=function(n){if(!n)return!1;var e=n;return"method"in e&&"protocol"in e&&"hostname"in e&&"path"in e&&typeof e.query=="object"&&typeof e.headers=="object"},t.prototype.clone=function(){var n=new t(Qt(Qt({},this),{headers:Qt({},this.headers)}));return n.query&&(n.query=Sh(n.query)),n},t}();function Sh(t){return Object.keys(t).reduce(function(n,e){var r,i=t[e];return Qt(Qt({},n),(r={},r[e]=Array.isArray(i)?wh(i):i,r))},{})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function _h(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}var $t=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,Eh)},Eh=function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()};function Ah(t){var n,e,r=[];try{for(var i=_h(Object.keys(t).sort()),o=i.next();!o.done;o=i.next()){var s=o.value,u=t[s];if(s=$t(s),Array.isArray(u))for(var c=0,a=u.length;c<a;c++)r.push(s+"="+$t(u[c]));else{var l=s;(u||typeof u=="string")&&(l+="="+$t(u)),r.push(l)}}}catch(f){n={error:f}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(n)throw n.error}}return r.join("&")}function Ih(t){return t===void 0&&(t=0),new Promise(function(n,e){t&&setTimeout(function(){var r=new Error("Request did not complete within "+t+" ms");r.name="TimeoutError",e(r)},t)})}var Th=function(){function t(n){var e=n===void 0?{}:n,r=e.requestTimeout;this.requestTimeout=r}return t.prototype.destroy=function(){},t.prototype.handle=function(n,e){var r=e===void 0?{}:e,i=r.abortSignal,o=this.requestTimeout;if(i!=null&&i.aborted){var s=new Error("Request aborted");return s.name="AbortError",Promise.reject(s)}var u=n.path;if(n.query){var c=Ah(n.query);c&&(u+="?"+c)}var a=n.port,l=n.method,f=n.protocol+"//"+n.hostname+(a?":"+a:"")+u,g=l==="GET"||l==="HEAD"?void 0:n.body,v={body:g,headers:new Headers(n.headers),method:l};typeof AbortController<"u"&&(v.signal=i);var b=new Request(f,v),_=[fetch(b).then(function(T){var O,I,N=T.headers,U={};try{for(var D=mh(N.entries()),z=D.next();!z.done;z=D.next()){var H=z.value;U[H[0]]=H[1]}}catch(W){O={error:W}}finally{try{z&&!z.done&&(I=D.return)&&I.call(D)}finally{if(O)throw O.error}}var k=T.body!==void 0;return k?{response:new ys({headers:U,statusCode:T.status,body:T.body})}:T.blob().then(function(W){return{response:new ys({headers:U,statusCode:T.status,body:W})}})}),Ih(o)];return i&&_.push(new Promise(function(T,O){i.onabort=function(){var I=new Error("Request aborted");I.name="AbortError",O(I)}})),Promise.race(_)},t}(),Zt={},_n=new Array(64);for(var Oe=0,Dn="A".charCodeAt(0),jo="Z".charCodeAt(0);Oe+Dn<=jo;Oe++){var Kt=String.fromCharCode(Oe+Dn);Zt[Kt]=Oe,_n[Oe]=Kt}for(var Oe=0,Dn="a".charCodeAt(0),jo="z".charCodeAt(0);Oe+Dn<=jo;Oe++){var Kt=String.fromCharCode(Oe+Dn),Mn=Oe+26;Zt[Kt]=Mn,_n[Mn]=Kt}for(var Oe=0;Oe<10;Oe++){Zt[Oe.toString(10)]=Oe+52;var Kt=Oe.toString(10),Mn=Oe+52;Zt[Kt]=Mn,_n[Mn]=Kt}Zt["+"]=62;_n[62]="+";Zt["/"]=63;_n[63]="/";var hn=6,Rn=8,Ch=63;function gc(t){var n=t.length/4*3;t.substr(-2)==="=="?n-=2:t.substr(-1)==="="&&n--;for(var e=new ArrayBuffer(n),r=new DataView(e),i=0;i<t.length;i+=4){for(var o=0,s=0,u=i,c=i+3;u<=c;u++)t[u]!=="="?(o|=Zt[t[u]]<<(c-u)*hn,s+=hn):o>>=hn;var a=i/4*3;o>>=s%Rn;for(var l=Math.floor(s/Rn),f=0;f<l;f++){var g=(l-f-1)*Rn;r.setUint8(a+f,(o&255<<g)>>g)}}return new Uint8Array(e)}function kh(t){for(var n="",e=0;e<t.length;e+=3){for(var r=0,i=0,o=e,s=Math.min(e+3,t.length);o<s;o++)r|=t[o]<<(s-o-1)*Rn,i+=Rn;var u=Math.ceil(i/hn);r<<=u*hn-i;for(var c=1;c<=u;c++){var a=(u-c)*hn;n+=_n[(r&Ch<<a)>>a]}n+="==".slice(0,4-u)}return n}var Oh=function(t){return typeof Blob=="function"&&t instanceof Blob?Ph(t):xh(t)};function Ph(t){return dc(this,void 0,void 0,function(){var n,e;return pc(this,function(r){switch(r.label){case 0:return[4,Nh(t)];case 1:return n=r.sent(),e=gc(n),[2,new Uint8Array(e)]}})})}function xh(t){return dc(this,void 0,void 0,function(){var n,e,r,i,o,s,u;return pc(this,function(c){switch(c.label){case 0:n=new Uint8Array(0),e=t.getReader(),r=!1,c.label=1;case 1:return r?[3,3]:[4,e.read()];case 2:return i=c.sent(),o=i.done,s=i.value,s&&(u=n,n=new Uint8Array(u.length+s.length),n.set(u),n.set(s,u.length)),r=o,[3,1];case 3:return[2,n]}})})}function Nh(t){return new Promise(function(n,e){var r=new FileReader;r.onloadend=function(){var i;if(r.readyState!==2)return e(new Error("Reader aborted too early"));var o=(i=r.result)!==null&&i!==void 0?i:"",s=o.indexOf(","),u=s>-1?s+1:o.length;n(o.substring(u))},r.onabort=function(){return e(new Error("Read aborted"))},r.onerror=function(){return e(r.error)},r.readAsDataURL(t)})}var Rh=function(t){return function(){return Promise.reject(t)}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wr=function(){return wr=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},wr.apply(this,arguments)};function zi(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,n||[])).next())})}function ar(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function Uh(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,o=[],s;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}function Dh(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(Uh(arguments[n]));return t}var Mh=function(t){return function(n,e){return function(r){return zi(void 0,void 0,void 0,function(){var i;return ar(this,function(o){return!((i=t==null?void 0:t.retryStrategy)===null||i===void 0)&&i.mode&&(e.userAgent=Dh(e.userAgent||[],[["cfg/retry-mode",t.retryStrategy.mode]])),[2,t.retryStrategy.retry(n,r)]})})}}},jh={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Lh=function(t){return{applyToStack:function(n){n.add(Mh(t),jh)}}},Fh=100,Bh=20*1e3,qh=500,Kh=500,Vh=5,zh=10,Gh=1,Hh="amz-sdk-invocation-id",Wh="amz-sdk-request",Yh=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],Jh=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],$h=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],Xh=[500,502,503,504],Qh=function(t){return t.$retryable!==void 0},Zh=function(t){return Yh.includes(t.name)},yc=function(t){var n,e;return((n=t.$metadata)===null||n===void 0?void 0:n.httpStatusCode)===429||Jh.includes(t.name)||((e=t.$retryable)===null||e===void 0?void 0:e.throttling)==!0},ed=function(t){var n;return $h.includes(t.name)||Xh.includes(((n=t.$metadata)===null||n===void 0?void 0:n.httpStatusCode)||0)},Gi={exports:{}},vs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(vs){var ms=new Uint8Array(16);Gi.exports=function(){return vs(ms),ms}}else{var bs=new Array(16);Gi.exports=function(){for(var t=0,n;t<16;t++)t&3||(n=Math.random()*4294967296),bs[t]=n>>>((t&3)<<3)&255;return bs}}var vc=Gi.exports,mc=[];for(var Xn=0;Xn<256;++Xn)mc[Xn]=(Xn+256).toString(16).substr(1);function td(t,n){var e=n||0,r=mc;return[r[t[e++]],r[t[e++]],r[t[e++]],r[t[e++]],"-",r[t[e++]],r[t[e++]],"-",r[t[e++]],r[t[e++]],"-",r[t[e++]],r[t[e++]],"-",r[t[e++]],r[t[e++]],r[t[e++]],r[t[e++]],r[t[e++]],r[t[e++]]].join("")}var bc=td,nd=vc,rd=bc,ws,$r,Xr=0,Qr=0;function id(t,n,e){var r=n&&e||0,i=n||[];t=t||{};var o=t.node||ws,s=t.clockseq!==void 0?t.clockseq:$r;if(o==null||s==null){var u=nd();o==null&&(o=ws=[u[0]|1,u[1],u[2],u[3],u[4],u[5]]),s==null&&(s=$r=(u[6]<<8|u[7])&16383)}var c=t.msecs!==void 0?t.msecs:new Date().getTime(),a=t.nsecs!==void 0?t.nsecs:Qr+1,l=c-Xr+(a-Qr)/1e4;if(l<0&&t.clockseq===void 0&&(s=s+1&16383),(l<0||c>Xr)&&t.nsecs===void 0&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Xr=c,Qr=a,$r=s,c+=122192928e5;var f=((c&268435455)*1e4+a)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=f&255;var g=c/4294967296*1e4&268435455;i[r++]=g>>>8&255,i[r++]=g&255,i[r++]=g>>>24&15|16,i[r++]=g>>>16&255,i[r++]=s>>>8|128,i[r++]=s&255;for(var v=0;v<6;++v)i[r+v]=o[v];return n||rd(i)}var od=id,sd=vc,ad=bc;function ud(t,n,e){var r=n&&e||0;typeof t=="string"&&(n=t==="binary"?new Array(16):null,t=null),t=t||{};var i=t.random||(t.rng||sd)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,n)for(var o=0;o<16;++o)n[r+o]=i[o];return n||ad(i)}var cd=ud,ld=od,wc=cd,Lo=wc;Lo.v1=ld;Lo.v4=wc;var Sc=Lo,fd=function(t){var n=t,e=t,r=function(u){return u.name==="TimeoutError"?zh:Vh},i=function(u){return r(u)<=e},o=function(u){if(!i(u))throw new Error("No retry token available");var c=r(u);return e-=c,c},s=function(u){e+=u??Gh,e=Math.min(e,n)};return Object.freeze({hasRetryTokens:i,retrieveRetryTokens:o,releaseRetryTokens:s})},hd=function(t,n){return Math.floor(Math.min(Bh,Math.random()*Math.pow(2,n)*t))},dd=function(t){return t?Qh(t)||Zh(t)||yc(t)||ed(t):!1},Fo=3,pd="standard",gd=function(){function t(n,e){var r,i,o;this.maxAttemptsProvider=n,this.mode=pd,this.retryDecider=(r=e==null?void 0:e.retryDecider)!==null&&r!==void 0?r:dd,this.delayDecider=(i=e==null?void 0:e.delayDecider)!==null&&i!==void 0?i:hd,this.retryQuota=(o=e==null?void 0:e.retryQuota)!==null&&o!==void 0?o:fd(Kh)}return t.prototype.shouldRetry=function(n,e,r){return e<r&&this.retryDecider(n)&&this.retryQuota.hasRetryTokens(n)},t.prototype.getMaxAttempts=function(){return zi(this,void 0,void 0,function(){var n;return ar(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return n=e.sent(),[3,3];case 2:return e.sent(),n=Fo,[3,3];case 3:return[2,n]}})})},t.prototype.retry=function(n,e){return zi(this,void 0,void 0,function(){var r,i,o,s,u,c,a,l;return ar(this,function(f){switch(f.label){case 0:return i=0,o=0,[4,this.getMaxAttempts()];case 1:s=f.sent(),u=e.request,vn.isInstance(u)&&(u.headers[Hh]=Sc.v4()),c=function(){var g,v,b,_,T;return ar(this,function(O){switch(O.label){case 0:return O.trys.push([0,2,,5]),vn.isInstance(u)&&(u.headers[Wh]="attempt="+(i+1)+"; max="+s),[4,n(e)];case 1:return g=O.sent(),v=g.response,b=g.output,a.retryQuota.releaseRetryTokens(r),b.$metadata.attempts=i+1,b.$metadata.totalRetryDelay=o,[2,{value:{response:v,output:b}}];case 2:return _=O.sent(),i++,a.shouldRetry(_,i,s)?(r=a.retryQuota.retrieveRetryTokens(_),T=a.delayDecider(yc(_)?qh:Fh,i),o+=T,[4,new Promise(function(I){return setTimeout(I,T)})]):[3,4];case 3:return O.sent(),[2,"continue"];case 4:throw _.$metadata||(_.$metadata={}),_.$metadata.attempts=i,_.$metadata.totalRetryDelay=o,_;case 5:return[2]}})},a=this,f.label=2;case 2:return[5,c()];case 3:return l=f.sent(),typeof l=="object"?[2,l.value]:[3,2];case 4:return[2]}})})},t}(),yd=function(t){var n=vd(t.maxAttempts);return wr(wr({},t),{maxAttempts:n,retryStrategy:t.retryStrategy||new gd(n)})},vd=function(t){if(t===void 0&&(t=Fo),typeof t=="number"){var n=Promise.resolve(t);return function(){return n}}return t};function md(t){if(typeof t=="string"){for(var n=t.length,e=n-1;e>=0;e--){var r=t.charCodeAt(e);r>127&&r<=2047?n++:r>2047&&r<=65535&&(n+=2)}return n}else{if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function bd(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,n||[])).next())})}function wd(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}const Sd={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},_c={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},ve={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Me={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Ut={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class q{static getFirstMatch(n,e){const r=e.match(n);return r&&r.length>0&&r[1]||""}static getSecondMatch(n,e){const r=e.match(n);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(n,e,r){if(n.test(e))return r}static getWindowsVersionName(n){switch(n){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(n){const e=n.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(e.push(0),e[0]===10)switch(e[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(n){const e=n.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(e.push(0),!(e[0]===1&&e[1]<5)){if(e[0]===1&&e[1]<6)return"Cupcake";if(e[0]===1&&e[1]>=6)return"Donut";if(e[0]===2&&e[1]<2)return"Eclair";if(e[0]===2&&e[1]===2)return"Froyo";if(e[0]===2&&e[1]>2)return"Gingerbread";if(e[0]===3)return"Honeycomb";if(e[0]===4&&e[1]<1)return"Ice Cream Sandwich";if(e[0]===4&&e[1]<4)return"Jelly Bean";if(e[0]===4&&e[1]>=4)return"KitKat";if(e[0]===5)return"Lollipop";if(e[0]===6)return"Marshmallow";if(e[0]===7)return"Nougat";if(e[0]===8)return"Oreo";if(e[0]===9)return"Pie"}}static getVersionPrecision(n){return n.split(".").length}static compareVersions(n,e,r=!1){const i=q.getVersionPrecision(n),o=q.getVersionPrecision(e);let s=Math.max(i,o),u=0;const c=q.map([n,e],a=>{const l=s-q.getVersionPrecision(a),f=a+new Array(l+1).join(".0");return q.map(f.split("."),g=>new Array(20-g.length).join("0")+g).reverse()});for(r&&(u=s-Math.min(i,o)),s-=1;s>=u;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===u)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}}static map(n,e){const r=[];let i;if(Array.prototype.map)return Array.prototype.map.call(n,e);for(i=0;i<n.length;i+=1)r.push(e(n[i]));return r}static find(n,e){let r,i;if(Array.prototype.find)return Array.prototype.find.call(n,e);for(r=0,i=n.length;r<i;r+=1){const o=n[r];if(e(o,r))return o}}static assign(n,...e){const r=n;let i,o;if(Object.assign)return Object.assign(n,...e);for(i=0,o=e.length;i<o;i+=1){const s=e[i];typeof s=="object"&&s!==null&&Object.keys(s).forEach(u=>{r[u]=s[u]})}return n}static getBrowserAlias(n){return Sd[n]}static getBrowserTypeByAlias(n){return _c[n]||""}}const ce=/version\/(\d+(\.?_?\d+)+)/i,_d=[{test:[/googlebot/i],describe(t){const n={name:"Googlebot"},e=q.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||q.getFirstMatch(ce,t);return e&&(n.version=e),n}},{test:[/opera/i],describe(t){const n={name:"Opera"},e=q.getFirstMatch(ce,t)||q.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/opr\/|opios/i],describe(t){const n={name:"Opera"},e=q.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||q.getFirstMatch(ce,t);return e&&(n.version=e),n}},{test:[/SamsungBrowser/i],describe(t){const n={name:"Samsung Internet for Android"},e=q.getFirstMatch(ce,t)||q.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/Whale/i],describe(t){const n={name:"NAVER Whale Browser"},e=q.getFirstMatch(ce,t)||q.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/MZBrowser/i],describe(t){const n={name:"MZ Browser"},e=q.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||q.getFirstMatch(ce,t);return e&&(n.version=e),n}},{test:[/focus/i],describe(t){const n={name:"Focus"},e=q.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||q.getFirstMatch(ce,t);return e&&(n.version=e),n}},{test:[/swing/i],describe(t){const n={name:"Swing"},e=q.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||q.getFirstMatch(ce,t);return e&&(n.version=e),n}},{test:[/coast/i],describe(t){const n={name:"Opera Coast"},e=q.getFirstMatch(ce,t)||q.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const n={name:"Opera Touch"},e=q.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||q.getFirstMatch(ce,t);return e&&(n.version=e),n}},{test:[/yabrowser/i],describe(t){const n={name:"Yandex Browser"},e=q.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||q.getFirstMatch(ce,t);return e&&(n.version=e),n}},{test:[/ucbrowser/i],describe(t){const n={name:"UC Browser"},e=q.getFirstMatch(ce,t)||q.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/Maxthon|mxios/i],describe(t){const n={name:"Maxthon"},e=q.getFirstMatch(ce,t)||q.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/epiphany/i],describe(t){const n={name:"Epiphany"},e=q.getFirstMatch(ce,t)||q.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/puffin/i],describe(t){const n={name:"Puffin"},e=q.getFirstMatch(ce,t)||q.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/sleipnir/i],describe(t){const n={name:"Sleipnir"},e=q.getFirstMatch(ce,t)||q.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/k-meleon/i],describe(t){const n={name:"K-Meleon"},e=q.getFirstMatch(ce,t)||q.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/micromessenger/i],describe(t){const n={name:"WeChat"},e=q.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||q.getFirstMatch(ce,t);return e&&(n.version=e),n}},{test:[/qqbrowser/i],describe(t){const n={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},e=q.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||q.getFirstMatch(ce,t);return e&&(n.version=e),n}},{test:[/msie|trident/i],describe(t){const n={name:"Internet Explorer"},e=q.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/\sedg\//i],describe(t){const n={name:"Microsoft Edge"},e=q.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/edg([ea]|ios)/i],describe(t){const n={name:"Microsoft Edge"},e=q.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/vivaldi/i],describe(t){const n={name:"Vivaldi"},e=q.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/seamonkey/i],describe(t){const n={name:"SeaMonkey"},e=q.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/sailfish/i],describe(t){const n={name:"Sailfish"},e=q.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return e&&(n.version=e),n}},{test:[/silk/i],describe(t){const n={name:"Amazon Silk"},e=q.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/phantom/i],describe(t){const n={name:"PhantomJS"},e=q.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/slimerjs/i],describe(t){const n={name:"SlimerJS"},e=q.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const n={name:"BlackBerry"},e=q.getFirstMatch(ce,t)||q.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/(web|hpw)[o0]s/i],describe(t){const n={name:"WebOS Browser"},e=q.getFirstMatch(ce,t)||q.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/bada/i],describe(t){const n={name:"Bada"},e=q.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/tizen/i],describe(t){const n={name:"Tizen"},e=q.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||q.getFirstMatch(ce,t);return e&&(n.version=e),n}},{test:[/qupzilla/i],describe(t){const n={name:"QupZilla"},e=q.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||q.getFirstMatch(ce,t);return e&&(n.version=e),n}},{test:[/firefox|iceweasel|fxios/i],describe(t){const n={name:"Firefox"},e=q.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/electron/i],describe(t){const n={name:"Electron"},e=q.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/MiuiBrowser/i],describe(t){const n={name:"Miui"},e=q.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/chromium/i],describe(t){const n={name:"Chromium"},e=q.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||q.getFirstMatch(ce,t);return e&&(n.version=e),n}},{test:[/chrome|crios|crmo/i],describe(t){const n={name:"Chrome"},e=q.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/GSA/i],describe(t){const n={name:"Google Search"},e=q.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test(t){const n=!t.test(/like android/i),e=t.test(/android/i);return n&&e},describe(t){const n={name:"Android Browser"},e=q.getFirstMatch(ce,t);return e&&(n.version=e),n}},{test:[/playstation 4/i],describe(t){const n={name:"PlayStation 4"},e=q.getFirstMatch(ce,t);return e&&(n.version=e),n}},{test:[/safari|applewebkit/i],describe(t){const n={name:"Safari"},e=q.getFirstMatch(ce,t);return e&&(n.version=e),n}},{test:[/.*/i],describe(t){const n=/^(.*)\/(.*) /,e=/^(.*)\/(.*)[ \t]\((.*)/,r=t.search("\\(")!==-1?e:n;return{name:q.getFirstMatch(r,t),version:q.getSecondMatch(r,t)}}}],Ed=[{test:[/Roku\/DVP/],describe(t){const n=q.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:Me.Roku,version:n}}},{test:[/windows phone/i],describe(t){const n=q.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:Me.WindowsPhone,version:n}}},{test:[/windows /i],describe(t){const n=q.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),e=q.getWindowsVersionName(n);return{name:Me.Windows,version:n,versionName:e}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const n={name:Me.iOS},e=q.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return e&&(n.version=e),n}},{test:[/macintosh/i],describe(t){const n=q.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),e=q.getMacOSVersionName(n),r={name:Me.MacOS,version:n};return e&&(r.versionName=e),r}},{test:[/(ipod|iphone|ipad)/i],describe(t){const n=q.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:Me.iOS,version:n}}},{test(t){const n=!t.test(/like android/i),e=t.test(/android/i);return n&&e},describe(t){const n=q.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),e=q.getAndroidVersionName(n),r={name:Me.Android,version:n};return e&&(r.versionName=e),r}},{test:[/(web|hpw)[o0]s/i],describe(t){const n=q.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),e={name:Me.WebOS};return n&&n.length&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const n=q.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||q.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||q.getFirstMatch(/\bbb(\d+)/i,t);return{name:Me.BlackBerry,version:n}}},{test:[/bada/i],describe(t){const n=q.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:Me.Bada,version:n}}},{test:[/tizen/i],describe(t){const n=q.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:Me.Tizen,version:n}}},{test:[/linux/i],describe(){return{name:Me.Linux}}},{test:[/CrOS/],describe(){return{name:Me.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const n=q.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:Me.PlayStation4,version:n}}}],Ad=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const n=q.getFirstMatch(/(can-l01)/i,t)&&"Nova",e={type:ve.mobile,vendor:"Huawei"};return n&&(e.model=n),e}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:ve.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:ve.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:ve.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:ve.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:ve.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:ve.tablet}}},{test(t){const n=t.test(/ipod|iphone/i),e=t.test(/like (ipod|iphone)/i);return n&&!e},describe(t){const n=q.getFirstMatch(/(ipod|iphone)/i,t);return{type:ve.mobile,vendor:"Apple",model:n}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:ve.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:ve.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:ve.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:ve.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:ve.mobile,vendor:"Microsoft"}}},{test(t){const n=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&n>=3},describe(){return{type:ve.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:ve.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:ve.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:ve.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:ve.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:ve.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:ve.tv}}}],Id=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:Ut.Blink};const n=q.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:Ut.EdgeHTML,version:n}}},{test:[/trident/i],describe(t){const n={name:Ut.Trident},e=q.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test(t){return t.test(/presto/i)},describe(t){const n={name:Ut.Presto},e=q.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test(t){const n=t.test(/gecko/i),e=t.test(/like gecko/i);return n&&!e},describe(t){const n={name:Ut.Gecko},e=q.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Ut.Blink}}},{test:[/(apple)?webkit/i],describe(t){const n={name:Ut.WebKit},e=q.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}}];let Ss=class{constructor(t,n=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=q.find(_d,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(e=>this.test(e));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=q.find(Ed,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(e=>this.test(e));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:n}=this.getOS();return t?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:n}=this.getPlatform();return t?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const t=q.find(Ad,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(e=>this.test(e));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=q.find(Id,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(e=>this.test(e));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return q.assign({},this.parsedResult)}satisfies(t){const n={};let e=0;const r={};let i=0;if(Object.keys(t).forEach(o=>{const s=t[o];typeof s=="string"?(r[o]=s,i+=1):typeof s=="object"&&(n[o]=s,e+=1)}),e>0){const o=Object.keys(n),s=q.find(o,c=>this.isOS(c));if(s){const c=this.satisfies(n[s]);if(c!==void 0)return c}const u=q.find(o,c=>this.isPlatform(c));if(u){const c=this.satisfies(n[u]);if(c!==void 0)return c}}if(i>0){const o=Object.keys(r),s=q.find(o,u=>this.isBrowser(u,!0));if(s!==void 0)return this.compareVersion(r[s])}}isBrowser(t,n=!1){const e=this.getBrowserName().toLowerCase();let r=t.toLowerCase();const i=q.getBrowserTypeByAlias(r);return n&&i&&(r=i.toLowerCase()),r===e}compareVersion(t){let n=[0],e=t,r=!1;const i=this.getBrowserVersion();if(typeof i=="string")return t[0]===">"||t[0]==="<"?(e=t.substr(1),t[1]==="="?(r=!0,e=t.substr(2)):n=[],t[0]===">"?n.push(1):n.push(-1)):t[0]==="="?e=t.substr(1):t[0]==="~"&&(r=!0,e=t.substr(1)),n.indexOf(q.compareVersions(i,e,r))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,n=!1){return this.isBrowser(t,n)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(n=>this.is(n))}};/*!
* Bowser - a browser detector
* https://github.com/lancedikson/bowser
* MIT License | (c) Dustin Diaz 2012-2015
* MIT License | (c) Denis Demchenko 2015-2019
*/class Td{static getParser(n,e=!1){if(typeof n!="string")throw new Error("UserAgent should be a string");return new Ss(n,e)}static parse(n){return new Ss(n).getResult()}static get BROWSER_MAP(){return _c}static get ENGINE_MAP(){return Ut}static get OS_MAP(){return Me}static get PLATFORMS_MAP(){return ve}}var Cd=function(t){var n=t.serviceId,e=t.clientVersion;return function(){return bd(void 0,void 0,void 0,function(){var r,i,o,s,u,c,a,l,f;return wd(this,function(g){return r=!((o=window==null?void 0:window.navigator)===null||o===void 0)&&o.userAgent?Td.parse(window.navigator.userAgent):void 0,i=[["aws-sdk-js",e],["os/"+(((s=r==null?void 0:r.os)===null||s===void 0?void 0:s.name)||"other"),(u=r==null?void 0:r.os)===null||u===void 0?void 0:u.version],["lang/js"],["md/browser",((a=(c=r==null?void 0:r.browser)===null||c===void 0?void 0:c.name)!==null&&a!==void 0?a:"unknown")+"_"+((f=(l=r==null?void 0:r.browser)===null||l===void 0?void 0:l.version)!==null&&f!==void 0?f:"unknown")]],n&&i.push(["api/"+n,e]),[2,i]})})}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function kd(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Od(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,o=[],s;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}function Pd(t){var n,e,r={};if(t=t.replace(/^\?/,""),t)try{for(var i=kd(t.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value,u=Od(s.split("="),2),c=u[0],a=u[1],l=a===void 0?null:a;c=decodeURIComponent(c),l&&(l=decodeURIComponent(l)),c in r?Array.isArray(r[c])?r[c].push(l):r[c]=[r[c],l]:r[c]=l}}catch(f){n={error:f}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(n)throw n.error}}return r}var xd=function(t){var n=new URL(t),e=n.hostname,r=n.pathname,i=n.port,o=n.protocol,s=n.search,u;return s&&(u=Pd(s)),{hostname:e,port:i?parseInt(i):void 0,protocol:o,path:r,query:u}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mn=function(){return mn=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},mn.apply(this,arguments)};function Nd(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,n||[])).next())})}function Rd(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var Ud=function(t){var n;return mn(mn({},t),{tls:(n=t.tls)!==null&&n!==void 0?n:!0,endpoint:t.endpoint?Dd(t):function(){return Md(t)},isCustomEndpoint:!!t.endpoint})},Dd=function(t){var n=t.endpoint,e=t.urlParser;if(typeof n=="string"){var r=Promise.resolve(e(n));return function(){return r}}else if(typeof n=="object"){var i=Promise.resolve(n);return function(){return i}}return n},Md=function(t){return Nd(void 0,void 0,void 0,function(){var n,e,r,i,o,s;return Rd(this,function(u){switch(u.label){case 0:return n=t.tls,e=n===void 0?!0:n,[4,t.region()];case 1:if(r=u.sent(),i=new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/),!i.test(r))throw new Error("Invalid region in client config");return[4,t.regionInfoProvider(r)];case 2:if(o=((s=u.sent())!==null&&s!==void 0?s:{}).hostname,!o)throw new Error("Cannot resolve hostname from client config");return[2,t.urlParser((e?"https:":"http:")+"//"+o)]}})})},jd=function(t){if(!t.region)throw new Error("Region is missing");return mn(mn({},t),{region:Ld(t.region)})},Ld=function(t){if(typeof t=="string"){var n=Promise.resolve(t);return function(){return n}}return t};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ln=function(){return ln=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ln.apply(this,arguments)};function Fd(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,n||[])).next())})}function Bd(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var _s="content-length";function qd(t){var n=this;return function(e){return function(r){return Fd(n,void 0,void 0,function(){var i,o,s,u,c;return Bd(this,function(a){return i=r.request,vn.isInstance(i)&&(o=i.body,s=i.headers,o&&Object.keys(s).map(function(l){return l.toLowerCase()}).indexOf(_s)===-1&&(u=t(o),u!==void 0&&(i.headers=ln(ln({},i.headers),(c={},c[_s]=String(u),c))))),[2,e(ln(ln({},r),{request:i}))]})})}}}var Kd={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Vd=function(t){return{applyToStack:function(n){n.add(qd(t.bodyLengthChecker),Kd)}}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function zd(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,n||[])).next())})}function Gd(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var Hd=function(t){return function(n){return function(e){return zd(void 0,void 0,void 0,function(){var r,i,o;return Gd(this,function(s){return vn.isInstance(e.request)?(r=e.request,i=(t.requestHandler.metadata||{}).handlerProtocol,o=i===void 0?"":i,o.indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,n(e)]):[2,n(e)]})})}}},Wd={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Yd=function(t){return{applyToStack:function(n){n.add(Hd(t),Wd)}}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Jd(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e}function $d(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,n||[])).next())})}function Xd(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var Qd=function(){return function(t,n){return function(e){return $d(void 0,void 0,void 0,function(){var r,i,o,s,u,c,a,l,f;return Xd(this,function(g){switch(g.label){case 0:return r=n.clientName,i=n.commandName,o=n.inputFilterSensitiveLog,s=n.logger,u=n.outputFilterSensitiveLog,[4,t(e)];case 1:return c=g.sent(),s?(typeof s.info=="function"&&(a=c.output,l=a.$metadata,f=Jd(a,["$metadata"]),s.info({clientName:r,commandName:i,input:o(e.input),output:u(f),metadata:l})),[2,c]):[2,c]}})})}}},Zd={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},ep=function(t){return{applyToStack:function(n){n.add(Qd(),Zd)}}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Sr=function(){return Sr=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Sr.apply(this,arguments)};function tp(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,n||[])).next())})}function np(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function rp(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,o=[],s;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Pt=function(){return Pt=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pt.apply(this,arguments)};function ip(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e}function Et(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,n||[])).next())})}function At(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function tn(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function op(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,o=[],s;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}function sp(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(op(arguments[n]));return t}var ap="X-Amz-Algorithm",up="X-Amz-Credential",Ec="X-Amz-Date",cp="X-Amz-SignedHeaders",lp="X-Amz-Expires",Ac="X-Amz-Signature",Ic="X-Amz-Security-Token",Tc="authorization",Cc=Ec.toLowerCase(),fp="date",hp=[Tc,Cc,fp],dp=Ac.toLowerCase(),Hi="x-amz-content-sha256",pp=Ic.toLowerCase(),gp={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},yp=/^proxy-/,vp=/^sec-/,Zr="AWS4-HMAC-SHA256",mp="AWS4-HMAC-SHA256-PAYLOAD",bp="UNSIGNED-PAYLOAD",wp=50,kc="aws4_request",Sp=60*60*24*7,Qn={},ei=[];function ti(t,n,e){return t+"/"+n+"/"+e+"/"+kc}var _p=function(t,n,e,r,i){return Et(void 0,void 0,void 0,function(){var o,s,u,c,a,l,f,g,v;return At(this,function(b){switch(b.label){case 0:return[4,Es(t,n.secretAccessKey,n.accessKeyId)];case 1:if(o=b.sent(),s=e+":"+r+":"+i+":"+Jt(o)+":"+n.sessionToken,s in Qn)return[2,Qn[s]];for(ei.push(s);ei.length>wp;)delete Qn[ei.shift()];u="AWS4"+n.secretAccessKey,b.label=2;case 2:b.trys.push([2,7,8,9]),c=tn([e,r,i,kc]),a=c.next(),b.label=3;case 3:return a.done?[3,6]:(l=a.value,[4,Es(t,u,l)]);case 4:u=b.sent(),b.label=5;case 5:return a=c.next(),[3,3];case 6:return[3,9];case 7:return f=b.sent(),g={error:f},[3,9];case 8:try{a&&!a.done&&(v=c.return)&&v.call(c)}finally{if(g)throw g.error}return[7];case 9:return[2,Qn[s]=u]}})})};function Es(t,n,e){var r=new t(n);return r.update(e),r.digest()}function As(t,n,e){var r,i,o=t.headers,s={};try{for(var u=tn(Object.keys(o).sort()),c=u.next();!c.done;c=u.next()){var a=c.value,l=a.toLowerCase();(l in gp||n!=null&&n.has(l)||yp.test(l)||vp.test(l))&&(!e||e&&!e.has(l))||(s[l]=o[a].trim().replace(/\s+/g," "))}}catch(f){r={error:f}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return s}function Ep(t){var n,e,r=t.query,i=r===void 0?{}:r,o=[],s={},u=function(f){if(f.toLowerCase()===dp)return"continue";o.push(f);var g=i[f];typeof g=="string"?s[f]=$t(f)+"="+$t(g):Array.isArray(g)&&(s[f]=g.slice(0).sort().reduce(function(v,b){return v.concat([$t(f)+"="+$t(b)])},[]).join("&"))};try{for(var c=tn(Object.keys(i).sort()),a=c.next();!a.done;a=c.next()){var l=a.value;u(l)}}catch(f){n={error:f}}finally{try{a&&!a.done&&(e=c.return)&&e.call(c)}finally{if(n)throw n.error}}return o.map(function(f){return s[f]}).filter(function(f){return f}).join("&")}var Ap=function(t){return typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]"};function ni(t,n){var e=t.headers,r=t.body;return Et(this,void 0,void 0,function(){var i,o,s,u,c,a,l;return At(this,function(f){switch(f.label){case 0:try{for(i=tn(Object.keys(e)),o=i.next();!o.done;o=i.next())if(s=o.value,s.toLowerCase()===Hi)return[2,e[s]]}catch(g){a={error:g}}finally{try{o&&!o.done&&(l=i.return)&&l.call(i)}finally{if(a)throw a.error}}return r!=null?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return typeof r=="string"||ArrayBuffer.isView(r)||Ap(r)?(u=new n,u.update(r),c=Jt,[4,u.digest()]):[3,3];case 2:return[2,c.apply(void 0,[f.sent()])];case 3:return[2,bp]}})})}function Ip(t,n){var e,r;t=t.toLowerCase();try{for(var i=tn(Object.keys(n)),o=i.next();!o.done;o=i.next()){var s=o.value;if(t===s.toLowerCase())return!0}}catch(u){e={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return!1}function Oc(t){var n=t.headers,e=t.query,r=ip(t,["headers","query"]);return Pt(Pt({},r),{headers:Pt({},n),query:e?Tp(e):void 0})}function Tp(t){return Object.keys(t).reduce(function(n,e){var r,i=t[e];return Pt(Pt({},n),(r={},r[e]=Array.isArray(i)?sp(i):i,r))},{})}function Cp(t,n){var e,r,i;n===void 0&&(n={});var o=typeof t.clone=="function"?t.clone():Oc(t),s=o.headers,u=o.query,c=u===void 0?{}:u;try{for(var a=tn(Object.keys(s)),l=a.next();!l.done;l=a.next()){var f=l.value,g=f.toLowerCase();g.substr(0,6)==="x-amz-"&&!(!((i=n.unhoistableHeaders)===null||i===void 0)&&i.has(g))&&(c[f]=s[f],delete s[f])}}catch(v){e={error:v}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return Pt(Pt({},t),{headers:s,query:c})}function Is(t){var n,e;t=typeof t.clone=="function"?t.clone():Oc(t);try{for(var r=tn(Object.keys(t.headers)),i=r.next();!i.done;i=r.next()){var o=i.value;hp.indexOf(o.toLowerCase())>-1&&delete t.headers[o]}}catch(s){n={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(n)throw n.error}}return t}function kp(t){return Op(t).toISOString().replace(/\.\d{3}Z$/,"Z")}function Op(t){return typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t}var Pp=function(){function t(n){var e=n.applyChecksum,r=n.credentials,i=n.region,o=n.service,s=n.sha256,u=n.uriEscapePath,c=u===void 0?!0:u;this.service=o,this.sha256=s,this.uriEscapePath=c,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=xp(i),this.credentialProvider=Np(r)}return t.prototype.presign=function(n,e){return e===void 0&&(e={}),Et(this,void 0,void 0,function(){var r,i,o,s,u,c,a,l,f,g,v,b,_,T,O,I,N,U,D,z,H,k,W,p;return At(this,function(y){switch(y.label){case 0:return r=e.signingDate,i=r===void 0?new Date:r,o=e.expiresIn,s=o===void 0?3600:o,u=e.unsignableHeaders,c=e.unhoistableHeaders,a=e.signableHeaders,l=e.signingRegion,f=e.signingService,[4,this.credentialProvider()];case 1:return g=y.sent(),l==null?[3,2]:(b=l,[3,4]);case 2:return[4,this.regionProvider()];case 3:b=y.sent(),y.label=4;case 4:return v=b,_=Zn(i),T=_.longDate,O=_.shortDate,s>Sp?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(I=ti(O,v,f??this.service),N=Cp(Is(n),{unhoistableHeaders:c}),g.sessionToken&&(N.query[Ic]=g.sessionToken),N.query[ap]=Zr,N.query[up]=g.accessKeyId+"/"+I,N.query[Ec]=T,N.query[lp]=s.toString(10),U=As(N,u,a),N.query[cp]=Ts(U),D=N.query,z=Ac,H=this.getSignature,k=[T,I,this.getSigningKey(g,v,O,f)],W=this.createCanonicalRequest,p=[N,U],[4,ni(n,this.sha256)]);case 5:return[4,H.apply(this,k.concat([W.apply(this,p.concat([y.sent()]))]))];case 6:return D[z]=y.sent(),[2,N]}})})},t.prototype.sign=function(n,e){return Et(this,void 0,void 0,function(){return At(this,function(r){return typeof n=="string"?[2,this.signString(n,e)]:n.headers&&n.payload?[2,this.signEvent(n,e)]:[2,this.signRequest(n,e)]})})},t.prototype.signEvent=function(n,e){var r=n.headers,i=n.payload,o=e.signingDate,s=o===void 0?new Date:o,u=e.priorSignature,c=e.signingRegion,a=e.signingService;return Et(this,void 0,void 0,function(){var l,f,g,v,b,_,T,O,I,N,U;return At(this,function(D){switch(D.label){case 0:return c==null?[3,1]:(f=c,[3,3]);case 1:return[4,this.regionProvider()];case 2:f=D.sent(),D.label=3;case 3:return l=f,g=Zn(s),v=g.shortDate,b=g.longDate,_=ti(v,l,a??this.service),[4,ni({headers:{},body:i},this.sha256)];case 4:return T=D.sent(),O=new this.sha256,O.update(r),N=Jt,[4,O.digest()];case 5:return I=N.apply(void 0,[D.sent()]),U=[mp,b,_,u,I,T].join(`
`),[2,this.signString(U,{signingDate:s,signingRegion:l,signingService:a})]}})})},t.prototype.signString=function(n,e){var r=e===void 0?{}:e,i=r.signingDate,o=i===void 0?new Date:i,s=r.signingRegion,u=r.signingService;return Et(this,void 0,void 0,function(){var c,a,l,f,g,v,b,_;return At(this,function(T){switch(T.label){case 0:return[4,this.credentialProvider()];case 1:return c=T.sent(),s==null?[3,2]:(l=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:l=T.sent(),T.label=4;case 4:return a=l,f=Zn(o).shortDate,b=(v=this.sha256).bind,[4,this.getSigningKey(c,a,f,u)];case 5:return g=new(b.apply(v,[void 0,T.sent()])),g.update(n),_=Jt,[4,g.digest()];case 6:return[2,_.apply(void 0,[T.sent()])]}})})},t.prototype.signRequest=function(n,e){var r=e===void 0?{}:e,i=r.signingDate,o=i===void 0?new Date:i,s=r.signableHeaders,u=r.unsignableHeaders,c=r.signingRegion,a=r.signingService;return Et(this,void 0,void 0,function(){var l,f,g,v,b,_,T,O,I,N,U;return At(this,function(D){switch(D.label){case 0:return[4,this.credentialProvider()];case 1:return l=D.sent(),c==null?[3,2]:(g=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:g=D.sent(),D.label=4;case 4:return f=g,v=Is(n),b=Zn(o),_=b.longDate,T=b.shortDate,O=ti(T,f,a??this.service),v.headers[Cc]=_,l.sessionToken&&(v.headers[pp]=l.sessionToken),[4,ni(v,this.sha256)];case 5:return I=D.sent(),!Ip(Hi,v.headers)&&this.applyChecksum&&(v.headers[Hi]=I),N=As(v,u,s),[4,this.getSignature(_,O,this.getSigningKey(l,f,T,a),this.createCanonicalRequest(v,N,I))];case 6:return U=D.sent(),v.headers[Tc]=Zr+" "+("Credential="+l.accessKeyId+"/"+O+", ")+("SignedHeaders="+Ts(N)+", ")+("Signature="+U),[2,v]}})})},t.prototype.createCanonicalRequest=function(n,e,r){var i=Object.keys(e).sort();return n.method+`
`+this.getCanonicalPath(n)+`
`+Ep(n)+`
`+i.map(function(o){return o+":"+e[o]}).join(`
`)+`

`+i.join(";")+`
`+r},t.prototype.createStringToSign=function(n,e,r){return Et(this,void 0,void 0,function(){var i,o;return At(this,function(s){switch(s.label){case 0:return i=new this.sha256,i.update(r),[4,i.digest()];case 1:return o=s.sent(),[2,Zr+`
`+n+`
`+e+`
`+Jt(o)]}})})},t.prototype.getCanonicalPath=function(n){var e=n.path;if(this.uriEscapePath){var r=encodeURIComponent(e.replace(/^\//,""));return"/"+r.replace(/%2F/g,"/")}return e},t.prototype.getSignature=function(n,e,r,i){return Et(this,void 0,void 0,function(){var o,s,u,c,a;return At(this,function(l){switch(l.label){case 0:return[4,this.createStringToSign(n,e,i)];case 1:return o=l.sent(),c=(u=this.sha256).bind,[4,r];case 2:return s=new(c.apply(u,[void 0,l.sent()])),s.update(o),a=Jt,[4,s.digest()];case 3:return[2,a.apply(void 0,[l.sent()])]}})})},t.prototype.getSigningKey=function(n,e,r,i){return _p(this.sha256,n,r,e,i||this.service)},t}(),Zn=function(t){var n=kp(t).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},Ts=function(t){return Object.keys(t).sort().join(";")},xp=function(t){if(typeof t=="string"){var n=Promise.resolve(t);return function(){return n}}else return t},Np=function(t){if(typeof t=="object"){var n=Promise.resolve(t);return function(){return n}}else return t};function Rp(t){var n=this,e=t.credentials||t.credentialDefaultProvider(t),r=ri(e),i=t.signingEscapePath,o=i===void 0?!0:i,s=t.systemClockOffset,u=s===void 0?t.systemClockOffset||0:s,c=t.sha256,a;return t.signer?a=ri(t.signer):a=function(){return ri(t.region)().then(function(l){return tp(n,void 0,void 0,function(){return np(this,function(f){switch(f.label){case 0:return[4,t.regionInfoProvider(l)];case 1:return[2,[f.sent()||{},l]]}})})}).then(function(l){var f=rp(l,2),g=f[0],v=f[1],b=g.signingRegion,_=g.signingService;return t.signingRegion=t.signingRegion||b||v,t.signingName=t.signingName||_||t.serviceId,new Pp({credentials:r,region:t.signingRegion,service:t.signingName,sha256:c,uriEscapePath:o})})},Sr(Sr({},t),{systemClockOffset:u,signingEscapePath:o,credentials:r,signer:a})}function ri(t){if(typeof t=="object"){var n=Promise.resolve(t);return function(){return n}}return t}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bn=function(){return bn=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bn.apply(this,arguments)};function Up(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,n||[])).next())})}function Dp(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function Pc(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,o=[],s;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}function Cs(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(Pc(arguments[n]));return t}function Mp(t){return bn(bn({},t),{customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent})}var ii="user-agent",jp="x-amz-user-agent",ks=" ",Lp=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Fp=function(t){return function(n,e){return function(r){return Up(void 0,void 0,void 0,function(){var i,o,s,u,c,a,l,f;return Dp(this,function(g){switch(g.label){case 0:return i=r.request,vn.isInstance(i)?(o=i.headers,s=((l=e==null?void 0:e.userAgent)===null||l===void 0?void 0:l.map(oi))||[],[4,t.defaultUserAgentProvider()]):[2,n(r)];case 1:return u=g.sent().map(oi),c=((f=t==null?void 0:t.customUserAgent)===null||f===void 0?void 0:f.map(oi))||[],o[jp]=Cs(u,s,c).join(ks),a=Cs(u.filter(function(v){return v.startsWith("aws-sdk-")}),c).join(ks),t.runtime!=="browser"&&a&&(o[ii]=o[ii]?o[ii]+" "+a:a),[2,n(bn(bn({},r),{request:i}))]}})})}}},oi=function(t){var n=Pc(t,2),e=n[0],r=n[1],i=e.indexOf("/"),o=e.substring(0,i),s=e.substring(i+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(function(u){return u&&u.length>0}).map(function(u){return u==null?void 0:u.replace(Lp,"_")}).join("/")},Bp={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},qp=function(t){return{applyToStack:function(n){n.add(Fp(t),Bp)}}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dt=function(){return dt=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},dt.apply(this,arguments)};function Kp(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vp(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,o=[],s;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}function si(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(Vp(arguments[n]));return t}var _r=function(){var t=[],n=[],e=new Set,r=function(l){return l.sort(function(f,g){return Os[g.step]-Os[f.step]||Ps[g.priority||"normal"]-Ps[f.priority||"normal"]})},i=function(l){var f=!1,g=function(v){return v.name&&v.name===l?(f=!0,e.delete(l),!1):!0};return t=t.filter(g),n=n.filter(g),f},o=function(l){var f=!1,g=function(v){return v.middleware===l?(f=!0,v.name&&e.delete(v.name),!1):!0};return t=t.filter(g),n=n.filter(g),f},s=function(l){return t.forEach(function(f){l.add(f.middleware,dt({},f))}),n.forEach(function(f){l.addRelativeTo(f.middleware,dt({},f))}),l},u=function(l){var f=[];return l.before.forEach(function(g){g.before.length===0&&g.after.length===0?f.push(g):f.push.apply(f,si(u(g)))}),f.push(l),l.after.reverse().forEach(function(g){g.before.length===0&&g.after.length===0?f.push(g):f.push.apply(f,si(u(g)))}),f},c=function(){var l=[],f=[],g={};t.forEach(function(b){var _=dt(dt({},b),{before:[],after:[]});_.name&&(g[_.name]=_),l.push(_)}),n.forEach(function(b){var _=dt(dt({},b),{before:[],after:[]});_.name&&(g[_.name]=_),f.push(_)}),f.forEach(function(b){if(b.toMiddleware){var _=g[b.toMiddleware];if(_===void 0)throw new Error(b.toMiddleware+" is not found when adding "+(b.name||"anonymous")+" middleware "+b.relation+" "+b.toMiddleware);b.relation==="after"&&_.after.push(b),b.relation==="before"&&_.before.push(b)}});var v=r(l).map(u).reduce(function(b,_){return b.push.apply(b,si(_)),b},[]);return v.map(function(b){return b.middleware})},a={add:function(l,f){f===void 0&&(f={});var g=f.name,v=f.override,b=dt({step:"initialize",priority:"normal",middleware:l},f);if(g){if(e.has(g)){if(!v)throw new Error("Duplicate middleware name '"+g+"'");var _=t.findIndex(function(O){return O.name===g}),T=t[_];if(T.step!==b.step||T.priority!==b.priority)throw new Error('"'+g+'" middleware with '+T.priority+" priority in "+T.step+" step cannot be "+("overridden by same-name middleware with "+b.priority+" priority in "+b.step+" step."));t.splice(_,1)}e.add(g)}t.push(b)},addRelativeTo:function(l,f){var g=f.name,v=f.override,b=dt({middleware:l},f);if(g){if(e.has(g)){if(!v)throw new Error("Duplicate middleware name '"+g+"'");var _=n.findIndex(function(O){return O.name===g}),T=n[_];if(T.toMiddleware!==b.toMiddleware||T.relation!==b.relation)throw new Error('"'+g+'" middleware '+T.relation+' "'+T.toMiddleware+'" middleware cannot be overridden '+("by same-name middleware "+b.relation+' "'+b.toMiddleware+'" middleware.'));n.splice(_,1)}e.add(g)}n.push(b)},clone:function(){return s(_r())},use:function(l){l.applyToStack(a)},remove:function(l){return typeof l=="string"?i(l):o(l)},removeByTag:function(l){var f=!1,g=function(v){var b=v.tags,_=v.name;return b&&b.includes(l)?(_&&e.delete(_),f=!0,!1):!0};return t=t.filter(g),n=n.filter(g),f},concat:function(l){var f=s(_r());return f.use(l),f},applyToStack:s,resolve:function(l,f){var g,v;try{for(var b=Kp(c().reverse()),_=b.next();!_.done;_=b.next()){var T=_.value;l=T(l,f)}}catch(O){g={error:O}}finally{try{_&&!_.done&&(v=b.return)&&v.call(b)}finally{if(g)throw g.error}}return l}};return a},Os={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Ps={high:3,normal:2,low:1},zp=function(){function t(n){this.middlewareStack=_r(),this.config=n}return t.prototype.send=function(n,e,r){var i=typeof e!="function"?e:void 0,o=typeof e=="function"?e:r,s=n.resolveMiddleware(this.middlewareStack,this.config,i);if(o)s(n).then(function(u){return o(null,u.output)},function(u){return o(u)}).catch(function(){});else return s(n).then(function(u){return u.output})},t.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},t}(),xc=function(){function t(){this.middlewareStack=_r()}return t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wi=function(t,n){return Wi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])},Wi(t,n)};function Gp(t,n){Wi(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}function Hp(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,o=[],s;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}function Wp(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(Hp(arguments[n]));return t}var Er=function(){var t=Object.getPrototypeOf(this).constructor,n=Function.bind.apply(String,Wp([null],arguments)),e=new n;return Object.setPrototypeOf(e,t.prototype),e};Er.prototype=Object.create(String.prototype,{constructor:{value:Er,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Er,String);(function(t){Gp(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.deserializeJSON=function(){return JSON.parse(t.prototype.toString.call(this))},n.prototype.toJSON=function(){return t.prototype.toString.call(this)},n.fromObject=function(e){return e instanceof n?e:e instanceof String||typeof e=="string"?new n(e):new n(JSON.stringify(e))},n})(Er);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ar=function(){return Ar=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ar.apply(this,arguments)};function Nc(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,n||[])).next())})}function Rc(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var Yp=function(t,n){return function(e,r){return function(i){return Nc(void 0,void 0,void 0,function(){var o,s;return Rc(this,function(u){switch(u.label){case 0:return[4,e(i)];case 1:return o=u.sent().response,[4,n(o,t)];case 2:return s=u.sent(),[2,{response:o,output:s}]}})})}}},Jp=function(t,n){return function(e,r){return function(i){return Nc(void 0,void 0,void 0,function(){var o;return Rc(this,function(s){switch(s.label){case 0:return[4,n(i.input,t)];case 1:return o=s.sent(),[2,e(Ar(Ar({},i),{request:o}))]}})})}}},$p={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Xp={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Uc(t,n,e){return{applyToStack:function(r){r.add(Yp(t,e),$p),r.add(Jp(t,n),Xp)}}}var Mt=new ye("CognitoCredentials"),Qp=new Promise(function(t,n){if(!lt().isBrowser)return Mt.debug("not in the browser, directly resolved"),t();var e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null;if(e)return Mt.debug("google api already loaded"),t();setTimeout(function(){return t()},2e3)}),Zp=function(){function t(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return t.prototype.refreshGoogleToken=function(){return Ee(this,void 0,void 0,function(){return we(this,function(n){switch(n.label){case 0:return this.initialized?[3,2]:(Mt.debug("need to wait for the Google SDK loaded"),[4,Qp]);case 1:n.sent(),this.initialized=!0,Mt.debug("finish waiting"),n.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}})})},t.prototype._refreshGoogleTokenImpl=function(){var n=null;return lt().isBrowser&&(n=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),n?new Promise(function(e,r){n.getAuthInstance().then(function(i){i||(Mt.debug("google Auth undefined"),r(new Bt("google Auth undefined")));var o=i.currentUser.get();o.isSignedIn()?(Mt.debug("refreshing the google access token"),o.reloadAuthResponse().then(function(s){var u=s.id_token,c=s.expires_at;e({token:u,expires_at:c})}).catch(function(s){s&&s.error==="network_error"?r("Network error reloading google auth response"):r(new Bt("Failed to reload google auth response"))})):r(new Bt("User is not signed in with Google"))}).catch(function(i){Mt.debug("Failed to refresh google token",i),r(new Bt("Failed to refresh google token"))})}):(Mt.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},t}(),Wt=new ye("CognitoCredentials"),eg=new Promise(function(t,n){if(!lt().isBrowser)return Wt.debug("not in the browser, directly resolved"),t();var e=window.FB;if(e)return Wt.debug("FB SDK already loaded"),t();setTimeout(function(){return t()},2e3)}),tg=function(){function t(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return t.prototype.refreshFacebookToken=function(){return Ee(this,void 0,void 0,function(){return we(this,function(n){switch(n.label){case 0:return this.initialized?[3,2]:(Wt.debug("need to wait for the Facebook SDK loaded"),[4,eg]);case 1:n.sent(),this.initialized=!0,Wt.debug("finish waiting"),n.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}})})},t.prototype._refreshFacebookTokenImpl=function(){var n=null;if(lt().isBrowser&&(n=window.FB),!n){var e="no fb sdk available";return Wt.debug(e),Promise.reject(new Bt(e))}return new Promise(function(r,i){n.getLoginStatus(function(o){if(!o||!o.authResponse){var s="no response from facebook when refreshing the jwt token";Wt.debug(s),i(new Bt(s))}else{var u=o.authResponse,c=u.accessToken,a=u.expiresIn,l=new Date,f=a*1e3+l.getTime();if(!c){var s="the jwtToken is undefined";Wt.debug(s),i(new Bt(s))}r({token:c,expires_at:f})}},{scope:"public_profile,email"})})},t}(),ng=new Zp,rg=new tg,zt={},ig=function(){function t(){}return t.setItem=function(n,e){return zt[n]=e,zt[n]},t.getItem=function(n){return Object.prototype.hasOwnProperty.call(zt,n)?zt[n]:void 0},t.removeItem=function(n){return delete zt[n]},t.clear=function(){return zt={},zt},t}(),Bo=function(){function t(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch{this.storageWindow=ig}}return t.prototype.getStorage=function(){return this.storageWindow},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Yi(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,n||[])).next())})}function Ji(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function og(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,o=[],s;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}const sg="@aws-sdk/client-cognito-identity",ag="AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native",ug="3.6.1",cg={clean:"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./",prepublishOnly:"yarn build",pretest:"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test:unit":"mocha **/cjs/**/*.spec.js","test:e2e":"mocha **/cjs/**/*.ispec.js && karma start karma.conf.js",test:"yarn test:unit","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json",build:"yarn build:cjs && yarn build:es",postbuild:"downlevel-dts types types/ts3.4"},lg="./dist/cjs/index.js",fg="./types/index.d.ts",hg="./dist/es/index.js",dg={"./runtimeConfig":"./runtimeConfig.browser"},pg=!1,gg={"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1",tslib:"^2.0.0"},yg={"@aws-sdk/client-documentation-generator":"3.6.1","@aws-sdk/client-iam":"3.6.1","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^12.7.5","downlevel-dts":"0.7.0",jest:"^26.1.0",rimraf:"^3.0.0",typedoc:"^0.19.2",typescript:"~4.1.2"},vg={node:">=10.0.0"},mg={"<4.0":{"types/*":["types/ts3.4/*"]}},bg={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},wg="Apache-2.0",Sg="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity",_g={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cognito-identity"},Eg={name:sg,description:ag,version:ug,scripts:cg,main:lg,types:fg,module:hg,browser:dg,"react-native":{"./runtimeConfig":"./runtimeConfig.native"},sideEffects:pg,dependencies:gg,devDependencies:yg,engines:vg,typesVersions:mg,author:bg,license:wg,homepage:Sg,repository:_g};var xs="cognito-identity.{region}.amazonaws.com",Ag="cognito-identity.{region}.amazonaws.com.cn",Ig="cognito-identity.{region}.c2s.ic.gov",Tg="cognito-identity.{region}.sc2s.sgov.gov",Cg="cognito-identity.{region}.amazonaws.com",kg=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Og=new Set(["cn-north-1","cn-northwest-1"]),Pg=new Set(["us-iso-east-1"]),xg=new Set(["us-isob-east-1"]),Ng=new Set(["us-gov-east-1","us-gov-west-1"]),Rg=function(t,n){var e=void 0;switch(t){case"ap-northeast-1":e={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":e={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":e={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":e={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":e={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":e={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":e={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":e={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":e={hostname:"cognito-identity.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":e={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":e={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":e={hostname:"cognito-identity.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":e={hostname:"cognito-identity-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":e={hostname:"cognito-identity-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-west-1":e={hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":e={hostname:"cognito-identity-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"sa-east-1":e={hostname:"cognito-identity.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":e={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":e={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-west-1":e={hostname:"cognito-identity.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":e={hostname:"cognito-identity.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":e={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:kg.has(t)&&(e={hostname:xs.replace("{region}",t),partition:"aws"}),Og.has(t)&&(e={hostname:Ag.replace("{region}",t),partition:"aws-cn"}),Pg.has(t)&&(e={hostname:Ig.replace("{region}",t),partition:"aws-iso"}),xg.has(t)&&(e={hostname:Tg.replace("{region}",t),partition:"aws-iso-b"}),Ng.has(t)&&(e={hostname:Cg.replace("{region}",t),partition:"aws-us-gov"}),e===void 0&&(e={hostname:xs.replace("{region}",t),partition:"aws"})}return Promise.resolve(M({signingService:"cognito-identity"},e))},Ns={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:Rg,serviceId:"Cognito Identity",urlParser:xd},Ug=M(M({},Ns),{runtime:"browser",base64Decoder:gc,base64Encoder:kh,bodyLengthChecker:md,credentialDefaultProvider:function(t){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:Cd({serviceId:Ns.serviceId,clientVersion:Eg.version}),maxAttempts:Fo,region:Rh("Region is missing"),requestHandler:new Th,sha256:ic.Sha256,streamCollector:Oh,utf8Decoder:$u,utf8Encoder:Xu}),Dg=function(t){Uo(n,t);function n(e){var r=this,i=M(M({},Ug),e),o=jd(i),s=Ud(o),u=Rp(s),c=yd(u),a=c,l=Mp(a);return r=t.call(this,l)||this,r.config=l,r.middlewareStack.use(Lh(r.config)),r.middlewareStack.use(Vd(r.config)),r.middlewareStack.use(Yd(r.config)),r.middlewareStack.use(ep(r.config)),r.middlewareStack.use(qp(r.config)),r}return n.prototype.destroy=function(){t.prototype.destroy.call(this)},n}(zp),Rs;(function(t){t.AUTHENTICATED_ROLE="AuthenticatedRole",t.DENY="Deny"})(Rs||(Rs={}));var Us;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Us||(Us={}));var Ds;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Ds||(Ds={}));var Ms;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Ms||(Ms={}));var js;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(js||(js={}));var Ls;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Ls||(Ls={}));var Fs;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Fs||(Fs={}));var Bs;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Bs||(Bs={}));var qs;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(qs||(qs={}));var Ks;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Ks||(Ks={}));var Vs;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Vs||(Vs={}));var zs;(function(t){t.ACCESS_DENIED="AccessDenied",t.INTERNAL_SERVER_ERROR="InternalServerError"})(zs||(zs={}));var Gs;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Gs||(Gs={}));var Hs;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Hs||(Hs={}));var Ws;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Ws||(Ws={}));var Ys;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Ys||(Ys={}));var Js;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Js||(Js={}));var $s;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})($s||($s={}));var Xs;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Xs||(Xs={}));var Qs;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Qs||(Qs={}));var $i;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})($i||($i={}));var Zs;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Zs||(Zs={}));var Xi;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Xi||(Xi={}));var ea;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(ea||(ea={}));var Qi;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Qi||(Qi={}));var Zi;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Zi||(Zi={}));var ta;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(ta||(ta={}));var na;(function(t){t.CONTAINS="Contains",t.EQUALS="Equals",t.NOT_EQUAL="NotEqual",t.STARTS_WITH="StartsWith"})(na||(na={}));var ra;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(ra||(ra={}));var ia;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(ia||(ia={}));var oa;(function(t){t.RULES="Rules",t.TOKEN="Token"})(oa||(oa={}));var sa;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(sa||(sa={}));var aa;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(aa||(aa={}));var ua;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(ua||(ua={}));var ca;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(ca||(ca={}));var la;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(la||(la={}));var fa;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(fa||(fa={}));var ha;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(ha||(ha={}));var da;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(da||(da={}));var pa;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(pa||(pa={}));var ga;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(ga||(ga={}));var ya;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(ya||(ya={}));var va;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(va||(va={}));var ma;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(ma||(ma={}));var ba;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(ba||(ba={}));var wa;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(wa||(wa={}));var Sa;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Sa||(Sa={}));var _a;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(_a||(_a={}));var Ea;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Ea||(Ea={}));var Aa;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Aa||(Aa={}));var Ia;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Ia||(Ia={}));var Ta;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Ta||(Ta={}));var Ca;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Ca||(Ca={}));var ka;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(ka||(ka={}));var Oa;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Oa||(Oa={}));var Pa;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(Pa||(Pa={}));var xa;(function(t){t.filterSensitiveLog=function(n){return M({},n)}})(xa||(xa={}));var Mg=function(t,n){return Ne(void 0,void 0,void 0,function(){var e,r;return Re(this,function(i){return e={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},r=JSON.stringify(zg(t)),[2,Vc(n,e,"/",void 0,r)]})})},jg=function(t,n){return Ne(void 0,void 0,void 0,function(){var e,r;return Re(this,function(i){return e={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},r=JSON.stringify(Gg(t)),[2,Vc(n,e,"/",void 0,r)]})})},Lg=function(t,n){return Ne(void 0,void 0,void 0,function(){var e,r,i;return Re(this,function(o){switch(o.label){case 0:return t.statusCode>=300?[2,Fg(t,n)]:[4,Lr(t.body,n)];case 1:return e=o.sent(),r={},r=Yg(e),i=M({$metadata:ae(t)},r),[2,Promise.resolve(i)]}})})},Fg=function(t,n){return Ne(void 0,void 0,void 0,function(){var e,r,i,o,s,u,c,a,l,f,g,v,b,_,T,O;return Re(this,function(I){switch(I.label){case 0:return r=[M({},t)],O={},[4,Lr(t.body,n)];case 1:switch(e=M.apply(void 0,r.concat([(O.body=I.sent(),O)])),o="UnknownError",o=zc(t,e.body),s=o,s){case"ExternalServiceException":return[3,2];case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":return[3,4];case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":return[3,6];case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":return[3,8];case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":return[3,10];case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":return[3,12];case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":return[3,14];case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":return[3,16];case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return u=[{}],[4,Dc(e)];case 3:return i=M.apply(void 0,[M.apply(void 0,u.concat([I.sent()])),{name:o,$metadata:ae(t)}]),[3,19];case 4:return c=[{}],[4,Mc(e)];case 5:return i=M.apply(void 0,[M.apply(void 0,c.concat([I.sent()])),{name:o,$metadata:ae(t)}]),[3,19];case 6:return a=[{}],[4,Kg(e)];case 7:return i=M.apply(void 0,[M.apply(void 0,a.concat([I.sent()])),{name:o,$metadata:ae(t)}]),[3,19];case 8:return l=[{}],[4,jc(e)];case 9:return i=M.apply(void 0,[M.apply(void 0,l.concat([I.sent()])),{name:o,$metadata:ae(t)}]),[3,19];case 10:return f=[{}],[4,Lc(e)];case 11:return i=M.apply(void 0,[M.apply(void 0,f.concat([I.sent()])),{name:o,$metadata:ae(t)}]),[3,19];case 12:return g=[{}],[4,Fc(e)];case 13:return i=M.apply(void 0,[M.apply(void 0,g.concat([I.sent()])),{name:o,$metadata:ae(t)}]),[3,19];case 14:return v=[{}],[4,Bc(e)];case 15:return i=M.apply(void 0,[M.apply(void 0,v.concat([I.sent()])),{name:o,$metadata:ae(t)}]),[3,19];case 16:return b=[{}],[4,qc(e)];case 17:return i=M.apply(void 0,[M.apply(void 0,b.concat([I.sent()])),{name:o,$metadata:ae(t)}]),[3,19];case 18:_=e.body,o=_.code||_.Code||o,i=M(M({},_),{name:""+o,message:_.message||_.Message||o,$fault:"client",$metadata:ae(t)}),I.label=19;case 19:return T=i.message||i.Message||o,i.message=T,delete i.Message,[2,Promise.reject(Object.assign(new Error(T),i))]}})})},Bg=function(t,n){return Ne(void 0,void 0,void 0,function(){var e,r,i;return Re(this,function(o){switch(o.label){case 0:return t.statusCode>=300?[2,qg(t,n)]:[4,Lr(t.body,n)];case 1:return e=o.sent(),r={},r=Jg(e),i=M({$metadata:ae(t)},r),[2,Promise.resolve(i)]}})})},qg=function(t,n){return Ne(void 0,void 0,void 0,function(){var e,r,i,o,s,u,c,a,l,f,g,v,b,_,T,O;return Re(this,function(I){switch(I.label){case 0:return r=[M({},t)],O={},[4,Lr(t.body,n)];case 1:switch(e=M.apply(void 0,r.concat([(O.body=I.sent(),O)])),o="UnknownError",o=zc(t,e.body),s=o,s){case"ExternalServiceException":return[3,2];case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":return[3,4];case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":return[3,6];case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":return[3,8];case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":return[3,10];case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":return[3,12];case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":return[3,14];case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":return[3,16];case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return u=[{}],[4,Dc(e)];case 3:return i=M.apply(void 0,[M.apply(void 0,u.concat([I.sent()])),{name:o,$metadata:ae(t)}]),[3,19];case 4:return c=[{}],[4,Mc(e)];case 5:return i=M.apply(void 0,[M.apply(void 0,c.concat([I.sent()])),{name:o,$metadata:ae(t)}]),[3,19];case 6:return a=[{}],[4,jc(e)];case 7:return i=M.apply(void 0,[M.apply(void 0,a.concat([I.sent()])),{name:o,$metadata:ae(t)}]),[3,19];case 8:return l=[{}],[4,Vg(e)];case 9:return i=M.apply(void 0,[M.apply(void 0,l.concat([I.sent()])),{name:o,$metadata:ae(t)}]),[3,19];case 10:return f=[{}],[4,Lc(e)];case 11:return i=M.apply(void 0,[M.apply(void 0,f.concat([I.sent()])),{name:o,$metadata:ae(t)}]),[3,19];case 12:return g=[{}],[4,Fc(e)];case 13:return i=M.apply(void 0,[M.apply(void 0,g.concat([I.sent()])),{name:o,$metadata:ae(t)}]),[3,19];case 14:return v=[{}],[4,Bc(e)];case 15:return i=M.apply(void 0,[M.apply(void 0,v.concat([I.sent()])),{name:o,$metadata:ae(t)}]),[3,19];case 16:return b=[{}],[4,qc(e)];case 17:return i=M.apply(void 0,[M.apply(void 0,b.concat([I.sent()])),{name:o,$metadata:ae(t)}]),[3,19];case 18:_=e.body,o=_.code||_.Code||o,i=M(M({},_),{name:""+o,message:_.message||_.Message||o,$fault:"client",$metadata:ae(t)}),I.label=19;case 19:return T=i.message||i.Message||o,i.message=T,delete i.Message,[2,Promise.reject(Object.assign(new Error(T),i))]}})})},Dc=function(t,n){return Ne(void 0,void 0,void 0,function(){var e,r,i;return Re(this,function(o){return e=t.body,r=Wg(e),i=M({name:"ExternalServiceException",$fault:"client",$metadata:ae(t)},r),[2,i]})})},Mc=function(t,n){return Ne(void 0,void 0,void 0,function(){var e,r,i;return Re(this,function(o){return e=t.body,r=$g(e),i=M({name:"InternalErrorException",$fault:"server",$metadata:ae(t)},r),[2,i]})})},Kg=function(t,n){return Ne(void 0,void 0,void 0,function(){var e,r,i;return Re(this,function(o){return e=t.body,r=Xg(e),i=M({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:ae(t)},r),[2,i]})})},jc=function(t,n){return Ne(void 0,void 0,void 0,function(){var e,r,i;return Re(this,function(o){return e=t.body,r=Qg(e),i=M({name:"InvalidParameterException",$fault:"client",$metadata:ae(t)},r),[2,i]})})},Vg=function(t,n){return Ne(void 0,void 0,void 0,function(){var e,r,i;return Re(this,function(o){return e=t.body,r=Zg(e),i=M({name:"LimitExceededException",$fault:"client",$metadata:ae(t)},r),[2,i]})})},Lc=function(t,n){return Ne(void 0,void 0,void 0,function(){var e,r,i;return Re(this,function(o){return e=t.body,r=ey(e),i=M({name:"NotAuthorizedException",$fault:"client",$metadata:ae(t)},r),[2,i]})})},Fc=function(t,n){return Ne(void 0,void 0,void 0,function(){var e,r,i;return Re(this,function(o){return e=t.body,r=ty(e),i=M({name:"ResourceConflictException",$fault:"client",$metadata:ae(t)},r),[2,i]})})},Bc=function(t,n){return Ne(void 0,void 0,void 0,function(){var e,r,i;return Re(this,function(o){return e=t.body,r=ny(e),i=M({name:"ResourceNotFoundException",$fault:"client",$metadata:ae(t)},r),[2,i]})})},qc=function(t,n){return Ne(void 0,void 0,void 0,function(){var e,r,i;return Re(this,function(o){return e=t.body,r=ry(e),i=M({name:"TooManyRequestsException",$fault:"client",$metadata:ae(t)},r),[2,i]})})},zg=function(t,n){return M(M(M({},t.CustomRoleArn!==void 0&&t.CustomRoleArn!==null&&{CustomRoleArn:t.CustomRoleArn}),t.IdentityId!==void 0&&t.IdentityId!==null&&{IdentityId:t.IdentityId}),t.Logins!==void 0&&t.Logins!==null&&{Logins:Kc(t.Logins)})},Gg=function(t,n){return M(M(M({},t.AccountId!==void 0&&t.AccountId!==null&&{AccountId:t.AccountId}),t.IdentityPoolId!==void 0&&t.IdentityPoolId!==null&&{IdentityPoolId:t.IdentityPoolId}),t.Logins!==void 0&&t.Logins!==null&&{Logins:Kc(t.Logins)})},Kc=function(t,n){return Object.entries(t).reduce(function(e,r){var i,o=Yf(r,2),s=o[0],u=o[1];return u===null?e:M(M({},e),(i={},i[s]=u,i))},{})},Hg=function(t,n){return{AccessKeyId:t.AccessKeyId!==void 0&&t.AccessKeyId!==null?t.AccessKeyId:void 0,Expiration:t.Expiration!==void 0&&t.Expiration!==null?new Date(Math.round(t.Expiration*1e3)):void 0,SecretKey:t.SecretKey!==void 0&&t.SecretKey!==null?t.SecretKey:void 0,SessionToken:t.SessionToken!==void 0&&t.SessionToken!==null?t.SessionToken:void 0}},Wg=function(t,n){return{message:t.message!==void 0&&t.message!==null?t.message:void 0}},Yg=function(t,n){return{Credentials:t.Credentials!==void 0&&t.Credentials!==null?Hg(t.Credentials):void 0,IdentityId:t.IdentityId!==void 0&&t.IdentityId!==null?t.IdentityId:void 0}},Jg=function(t,n){return{IdentityId:t.IdentityId!==void 0&&t.IdentityId!==null?t.IdentityId:void 0}},$g=function(t,n){return{message:t.message!==void 0&&t.message!==null?t.message:void 0}},Xg=function(t,n){return{message:t.message!==void 0&&t.message!==null?t.message:void 0}},Qg=function(t,n){return{message:t.message!==void 0&&t.message!==null?t.message:void 0}},Zg=function(t,n){return{message:t.message!==void 0&&t.message!==null?t.message:void 0}},ey=function(t,n){return{message:t.message!==void 0&&t.message!==null?t.message:void 0}},ty=function(t,n){return{message:t.message!==void 0&&t.message!==null?t.message:void 0}},ny=function(t,n){return{message:t.message!==void 0&&t.message!==null?t.message:void 0}},ry=function(t,n){return{message:t.message!==void 0&&t.message!==null?t.message:void 0}},ae=function(t){var n;return{httpStatusCode:t.statusCode,requestId:(n=t.headers["x-amzn-requestid"])!==null&&n!==void 0?n:t.headers["x-amzn-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}},iy=function(t,n){return t===void 0&&(t=new Uint8Array),t instanceof Uint8Array?Promise.resolve(t):n.streamCollector(t)||Promise.resolve(new Uint8Array)},oy=function(t,n){return iy(t,n).then(function(e){return n.utf8Encoder(e)})},Vc=function(t,n,e,r,i){return Ne(void 0,void 0,void 0,function(){var o,s,u,c,a,l;return Re(this,function(f){switch(f.label){case 0:return[4,t.endpoint()];case 1:return o=f.sent(),s=o.hostname,u=o.protocol,c=u===void 0?"https":u,a=o.port,l={protocol:c,hostname:s,port:a,method:"POST",path:e,headers:n},r!==void 0&&(l.hostname=r),i!==void 0&&(l.body=i),[2,new vn(l)]}})})},Lr=function(t,n){return oy(t,n).then(function(e){return e.length?JSON.parse(e):{}})},zc=function(t,n){var e=function(o,s){return Object.keys(o).find(function(u){return u.toLowerCase()===s.toLowerCase()})},r=function(o){var s=o;return s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},i=e(t.headers,"x-amzn-errortype");return i!==void 0?r(t.headers[i]):n.code!==void 0?r(n.code):n.__type!==void 0?r(n.__type):""},eo=function(t){Uo(n,t);function n(e){var r=t.call(this)||this;return r.input=e,r}return n.prototype.resolveMiddleware=function(e,r,i){this.middlewareStack.use(Uc(r,this.serialize,this.deserialize));var o=e.concat(this.middlewareStack),s=r.logger,u="CognitoIdentityClient",c="GetCredentialsForIdentityCommand",a={logger:s,clientName:u,commandName:c,inputFilterSensitiveLog:$i.filterSensitiveLog,outputFilterSensitiveLog:Xi.filterSensitiveLog},l=r.requestHandler;return o.resolve(function(f){return l.handle(f.request,i||{})},a)},n.prototype.serialize=function(e,r){return Mg(e,r)},n.prototype.deserialize=function(e,r){return Lg(e,r)},n}(xc),Un=function(t){Uo(n,t);function n(e){var r=t.call(this)||this;return r.input=e,r}return n.prototype.resolveMiddleware=function(e,r,i){this.middlewareStack.use(Uc(r,this.serialize,this.deserialize));var o=e.concat(this.middlewareStack),s=r.logger,u="CognitoIdentityClient",c="GetIdCommand",a={logger:s,clientName:u,commandName:c,inputFilterSensitiveLog:Qi.filterSensitiveLog,outputFilterSensitiveLog:Zi.filterSensitiveLog},l=r.requestHandler;return o.resolve(function(f){return l.handle(f.request,i||{})},a)},n.prototype.serialize=function(e,r){return jg(e,r)},n.prototype.deserialize=function(e,r){return Bg(e,r)},n}(xc);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var to=function(t,n){return to=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])},to(t,n)};function sy(t,n){to(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var Fr=function(t){sy(n,t);function n(e,r){r===void 0&&(r=!0);var i=t.call(this,e)||this;return i.tryNextLink=r,i}return n}(Error);function Gc(t){return Promise.all(Object.keys(t).reduce(function(n,e){var r=t[e];return typeof r=="string"?n.push([e,r]):n.push(r().then(function(i){return[e,i]})),n},[])).then(function(n){return n.reduce(function(e,r){var i=og(r,2),o=i[0],s=i[1];return e[o]=s,e},{})})}function xn(t){var n=this;return function(){return Yi(n,void 0,void 0,function(){var e,r,i,o,s,u,c,a,l,f,g,v,b;return Ji(this,function(_){switch(_.label){case 0:return f=(l=t.client).send,g=eo.bind,b={CustomRoleArn:t.customRoleArn,IdentityId:t.identityId},t.logins?[4,Gc(t.logins)]:[3,2];case 1:return v=_.sent(),[3,3];case 2:v=void 0,_.label=3;case 3:return[4,f.apply(l,[new(g.apply(eo,[void 0,(b.Logins=v,b)]))])];case 4:return e=_.sent().Credentials,r=e===void 0?uy():e,i=r.AccessKeyId,o=i===void 0?ay():i,s=r.Expiration,u=r.SecretKey,c=u===void 0?cy():u,a=r.SessionToken,[2,{identityId:t.identityId,accessKeyId:o,secretAccessKey:c,sessionToken:a,expiration:s}]}})})}}function ay(){throw new Fr("Response from Amazon Cognito contained no access key ID")}function uy(){throw new Fr("Response from Amazon Cognito contained no credentials")}function cy(){throw new Fr("Response from Amazon Cognito contained no secret key")}var ai="IdentityIds",ly=function(){function t(n){n===void 0&&(n="aws:cognito-identity-ids"),this.dbName=n}return t.prototype.getItem=function(n){return this.withObjectStore("readonly",function(e){var r=e.get(n);return new Promise(function(i){r.onerror=function(){return i(null)},r.onsuccess=function(){return i(r.result?r.result.value:null)}})}).catch(function(){return null})},t.prototype.removeItem=function(n){return this.withObjectStore("readwrite",function(e){var r=e.delete(n);return new Promise(function(i,o){r.onerror=function(){return o(r.error)},r.onsuccess=function(){return i()}})})},t.prototype.setItem=function(n,e){return this.withObjectStore("readwrite",function(r){var i=r.put({id:n,value:e});return new Promise(function(o,s){i.onerror=function(){return s(i.error)},i.onsuccess=function(){return o()}})})},t.prototype.getDb=function(){var n=self.indexedDB.open(this.dbName,1);return new Promise(function(e,r){n.onsuccess=function(){e(n.result)},n.onerror=function(){r(n.error)},n.onblocked=function(){r(new Error("Unable to access DB"))},n.onupgradeneeded=function(){var i=n.result;i.onerror=function(){r(new Error("Failed to create object store"))},i.createObjectStore(ai,{keyPath:"id"})}})},t.prototype.withObjectStore=function(n,e){return this.getDb().then(function(r){var i=r.transaction(ai,n);return i.oncomplete=function(){return r.close()},new Promise(function(o,s){i.onerror=function(){return s(i.error)},o(e(i.objectStore(ai)))}).catch(function(o){throw r.close(),o})})},t}(),fy=function(){function t(n){n===void 0&&(n={}),this.store=n}return t.prototype.getItem=function(n){return n in this.store?this.store[n]:null},t.prototype.removeItem=function(n){delete this.store[n]},t.prototype.setItem=function(n,e){this.store[n]=e},t}(),hy=new fy;function dy(){return typeof self=="object"&&self.indexedDB?new ly:typeof window=="object"&&window.localStorage?window.localStorage:hy}function py(t){var n=this,e=t.accountId,r=t.cache,i=r===void 0?dy():r,o=t.client,s=t.customRoleArn,u=t.identityPoolId,c=t.logins,a=t.userIdentifier,l=a===void 0?!c||Object.keys(c).length===0?"ANONYMOUS":void 0:a,f=l?"aws:cognito-identity-credentials:"+u+":"+l:void 0,g=function(){return Yi(n,void 0,void 0,function(){var v,b,_,T,O,I,N,U,D;return Ji(this,function(z){switch(z.label){case 0:return b=f,b?[4,i.getItem(f)]:[3,2];case 1:b=z.sent(),z.label=2;case 2:return v=b,v?[3,7]:(I=(O=o).send,N=Un.bind,D={AccountId:e,IdentityPoolId:u},c?[4,Gc(c)]:[3,4]);case 3:return U=z.sent(),[3,5];case 4:U=void 0,z.label=5;case 5:return[4,I.apply(O,[new(N.apply(Un,[void 0,(D.Logins=U,D)]))])];case 6:_=z.sent().IdentityId,T=_===void 0?gy():_,v=T,f&&Promise.resolve(i.setItem(f,v)).catch(function(){}),z.label=7;case 7:return g=xn({client:o,customRoleArn:s,logins:c,identityId:v}),[2,g()]}})})};return function(){return g().catch(function(v){return Yi(n,void 0,void 0,function(){return Ji(this,function(b){throw f&&Promise.resolve(i.removeItem(f)).catch(function(){}),v})})})}}function gy(){throw new Fr("Response from Amazon Cognito contained no identity ID")}function ui(t){var n=new Dg({region:t.region,customUserAgent:Mu()});return n.middlewareStack.add(function(e,r){return function(i){return e(yy(i))}},{step:"build",name:"cacheControlMiddleWare"}),n}function yy(t){return ue(ue({},t),{request:ue(ue({},t.request),{headers:ue(ue({},t.request.headers),{"cache-control":"no-store"})})})}var te=new ye("Credentials"),vy=50*60*1e3,my="CognitoIdentityId-",by=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",wy=function(t,n,e){gt.dispatch("core",{event:t,data:n,message:e},"Credentials",by)},Sy=function(){function t(n){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(n),this._refreshHandlers.google=ng.refreshGoogleToken,this._refreshHandlers.facebook=rg.refreshFacebookToken}return t.prototype.getModuleName=function(){return"Credentials"},t.prototype.getCredSource=function(){return this._credentials_source},t.prototype.configure=function(n){if(!n)return this._config||{};this._config=Object.assign({},this._config,n);var e=this._config.refreshHandlers;return e&&(this._refreshHandlers=ue(ue({},this._refreshHandlers),e)),this._storage=this._config.storage,this._storage||(this._storage=new Bo().getStorage()),this._storageSync=Promise.resolve(),typeof this._storage.sync=="function"&&(this._storageSync=this._storage.sync()),wy("credentials_configured",null,"Credentials has been configured successfully"),this._config},t.prototype.get=function(){return te.debug("getting credentials"),this._pickupCredentials()},t.prototype._getCognitoIdentityIdStorageKey=function(n){return""+my+n},t.prototype._pickupCredentials=function(){return te.debug("picking up credentials"),!this._gettingCredPromise||!this._gettingCredPromise.isPending()?(te.debug("getting new cred promise"),this._gettingCredPromise=ql(this._keepAlive())):te.debug("getting old cred promise"),this._gettingCredPromise},t.prototype._keepAlive=function(){return Ee(this,void 0,void 0,function(){var n,e,r,i,o,s,u,c;return we(this,function(a){switch(a.label){case 0:if(te.debug("checking if credentials exists and not expired"),n=this._credentials,n&&!this._isExpired(n)&&!this._isPastTTL())return te.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(n)];if(te.debug("need to get a new credential or refresh the existing one"),e=this.Auth,r=e===void 0?bt.Auth:e,!r||typeof r.currentUserCredentials!="function")return[2,this._setCredentialsForGuest()];if(!(!this._isExpired(n)&&this._isPastTTL()))return[3,6];te.debug("ttl has passed but token is not yet expired"),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,r.currentUserPoolUser()];case 2:return i=a.sent(),[4,r.currentSession()];case 3:return o=a.sent(),s=o.refreshToken,u=new Promise(function(l,f){i.refreshSession(s,function(g,v){return g?f(g):l(v)})}),[4,u];case 4:return a.sent(),[3,6];case 5:return c=a.sent(),te.debug("Error attempting to refreshing the session",c),[3,6];case 6:return[2,r.currentUserCredentials()]}})})},t.prototype.refreshFederatedToken=function(n){te.debug("Getting federated credentials");var e=n.provider,r=n.user,i=n.token,o=n.identity_id,s=n.expires_at;s=new Date(s).getFullYear()===1970?s*1e3:s;var u=this;return te.debug("checking if federated jwt token expired"),s>new Date().getTime()?(te.debug("token not expired"),this._setCredentialsFromFederation({provider:e,token:i,user:r,identity_id:o,expires_at:s})):u._refreshHandlers[e]&&typeof u._refreshHandlers[e]=="function"?(te.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:u._refreshHandlers[e],provider:e,user:r})):(te.debug("no refresh handler for provider:",e),this.clear(),Promise.reject("no refresh handler for provider"))},t.prototype._providerRefreshWithRetry=function(n){var e=this,r=n.refreshHandler,i=n.provider,o=n.user,s=10*1e3;return Fu(r,[],s).then(function(u){return te.debug("refresh federated token sucessfully",u),e._setCredentialsFromFederation({provider:i,token:u.token,user:o,identity_id:u.identity_id,expires_at:u.expires_at})}).catch(function(u){var c=typeof u=="string"&&u.toLowerCase().lastIndexOf("network error",u.length)===0;return c||e.clear(),te.debug("refresh federated token failed",u),Promise.reject("refreshing federation token failed: "+u)})},t.prototype._isExpired=function(n){if(!n)return te.debug("no credentials for expiration check"),!0;te.debug("are these credentials expired?",n);var e=Date.now(),r=n.expiration;return r.getTime()<=e},t.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},t.prototype._setCredentialsForGuest=function(){var n;return Ee(this,void 0,void 0,function(){var e,r,i,o,s,u,c,a,l,f,g,v=this;return we(this,function(b){switch(b.label){case 0:return te.debug("setting credentials for guest"),!((n=this._config)===null||n===void 0)&&n.identityPoolId||(this._config=Object.assign({},this._config,rc(this._config||{}).Auth)),e=this._config,r=e.identityPoolId,i=e.region,o=e.mandatorySignIn,s=e.identityPoolRegion,o?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:r?!s&&!i?(te.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(c=this,[4,this._getGuestIdentityId()]):(te.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return u=c._identityId=b.sent(),a=ui({region:s||i}),l=void 0,u?(f={identityId:u,client:a},l=xn(f)()):(g=function(){return Ee(v,void 0,void 0,function(){var _,T,O;return we(this,function(I){switch(I.label){case 0:return[4,a.send(new Un({IdentityPoolId:r}))];case 1:return _=I.sent().IdentityId,this._identityId=_,T={client:a,identityId:_},O=xn(T),[2,O()]}})})},l=g().catch(function(_){return Ee(v,void 0,void 0,function(){return we(this,function(T){throw _})})})),[2,this._loadCredentials(l,"guest",!1,null).then(function(_){return _}).catch(function(_){return Ee(v,void 0,void 0,function(){var T,O=this;return we(this,function(I){switch(I.label){case 0:return _.name==="ResourceNotFoundException"&&_.message==="Identity '"+u+"' not found."?(te.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]):[3,2];case 1:return I.sent(),T=function(){return Ee(O,void 0,void 0,function(){var N,U,D;return we(this,function(z){switch(z.label){case 0:return[4,a.send(new Un({IdentityPoolId:r}))];case 1:return N=z.sent().IdentityId,this._identityId=N,U={client:a,identityId:N},D=xn(U),[2,D()]}})})},l=T().catch(function(N){return Ee(O,void 0,void 0,function(){return we(this,function(U){throw N})})}),[2,this._loadCredentials(l,"guest",!1,null)];case 2:return[2,_]}})})})]}})})},t.prototype._setCredentialsFromFederation=function(n){var e=n.provider,r=n.token,i=n.identity_id,o={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"},s=o[e]||e;if(!s)return Promise.reject("You must specify a federated provider");var u={};u[s]=r;var c=this._config,a=c.identityPoolId,l=c.region,f=c.identityPoolRegion;if(!a)return te.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!f&&!l)return te.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var g=ui({region:f||l}),v=void 0;if(i){var b={identityId:i,logins:u,client:g};v=xn(b)()}else{var b={logins:u,identityPoolId:a,client:g};v=py(b)()}return this._loadCredentials(v,"federated",!0,n)},t.prototype._setCredentialsFromSession=function(n){var e=this;te.debug("set credentials from session");var r=n.getIdToken().getJwtToken(),i=this._config,o=i.region,s=i.userPoolId,u=i.identityPoolId,c=i.identityPoolRegion;if(!u)return te.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!c&&!o)return te.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var a="cognito-idp."+o+".amazonaws.com/"+s,l={};l[a]=r;var f=ui({region:c||o}),g=function(){return Ee(e,void 0,void 0,function(){var b,_,T,O,I,N,U,D,z,H;return we(this,function(k){switch(k.label){case 0:return[4,this._getGuestIdentityId()];case 1:return b=k.sent(),b?[3,3]:[4,f.send(new Un({IdentityPoolId:u,Logins:l}))];case 2:T=k.sent().IdentityId,_=T,k.label=3;case 3:return[4,f.send(new eo({IdentityId:b||_,Logins:l}))];case 4:return O=k.sent(),I=O.Credentials,N=I.AccessKeyId,U=I.Expiration,D=I.SecretKey,z=I.SessionToken,H=O.IdentityId,this._identityId=H,b?(te.debug("The guest identity "+b+" has been successfully linked to the logins"),b===H&&te.debug("The guest identity "+b+" has become the primary identity"),[4,this._removeGuestIdentityId()]):[3,6];case 5:k.sent(),k.label=6;case 6:return[2,{accessKeyId:N,secretAccessKey:D,sessionToken:z,expiration:U,identityId:H}]}})})},v=g().catch(function(b){return Ee(e,void 0,void 0,function(){return we(this,function(_){throw b})})});return this._loadCredentials(v,"userPool",!0,null)},t.prototype._loadCredentials=function(n,e,r,i){var o=this,s=this;return new Promise(function(u,c){n.then(function(a){return Ee(o,void 0,void 0,function(){var l,f,g,v,b;return we(this,function(_){switch(_.label){case 0:if(te.debug("Load credentials successfully",a),this._identityId&&!a.identityId&&(a.identityId=this._identityId),s._credentials=a,s._credentials.authenticated=r,s._credentials_source=e,s._nextCredentialsRefresh=new Date().getTime()+vy,e==="federated"){l=Object.assign({id:this._credentials.identityId},i.user),f=i.provider,g=i.token,v=i.expires_at,b=i.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:f,token:g,user:l,expires_at:v,identity_id:b}))}catch(T){te.debug("Failed to put federated info into auth storage",T)}}return e!=="guest"?[3,2]:[4,this._setGuestIdentityId(a.identityId)];case 1:_.sent(),_.label=2;case 2:return u(s._credentials),[2]}})})}).catch(function(a){if(a){te.debug("Failed to load credentials",n),te.debug("Error loading credentials",a),c(a);return}})})},t.prototype.set=function(n,e){return e==="session"?this._setCredentialsFromSession(n):e==="federation"?this._setCredentialsFromFederation(n):e==="guest"?this._setCredentialsForGuest():(te.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},t.prototype.clear=function(){return Ee(this,void 0,void 0,function(){return we(this,function(n){return this._credentials=null,this._credentials_source=null,te.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]})})},t.prototype._getGuestIdentityId=function(){return Ee(this,void 0,void 0,function(){var n,e;return we(this,function(r){switch(r.label){case 0:n=this._config.identityPoolId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(n))];case 3:return e=r.sent(),te.debug("Failed to get the cached guest identityId",e),[3,4];case 4:return[2]}})})},t.prototype._setGuestIdentityId=function(n){return Ee(this,void 0,void 0,function(){var e,r;return we(this,function(i){switch(i.label){case 0:e=this._config.identityPoolId,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._storageSync];case 2:return i.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(e),n),[3,4];case 3:return r=i.sent(),te.debug("Failed to cache guest identityId",r),[3,4];case 4:return[2]}})})},t.prototype._removeGuestIdentityId=function(){return Ee(this,void 0,void 0,function(){var n;return we(this,function(e){return n=this._config.identityPoolId,te.debug("removing "+this._getCognitoIdentityIdStorageKey(n)+" from storage"),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(n)),[2]})})},t.prototype.shear=function(n){return{accessKeyId:n.accessKeyId,sessionToken:n.sessionToken,secretAccessKey:n.secretAccessKey,identityId:n.identityId,authenticated:n.authenticated}},t}(),xt=new Sy(null);bt.register(xt);/*!
* cookie
* Copyright(c) 2012-2014 Roman Shtylman
* Copyright(c) 2015 Douglas Christopher Wilson
* MIT Licensed
*/var Hc=Ay,Na=Iy,_y=decodeURIComponent,Ey=encodeURIComponent,er=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Ay(t,n){if(typeof t!="string")throw new TypeError("argument str must be a string");for(var e={},r=n||{},i=t.split(";"),o=r.decode||_y,s=0;s<i.length;s++){var u=i[s],c=u.indexOf("=");if(!(c<0)){var a=u.substring(0,c).trim();if(e[a]==null){var l=u.substring(c+1,u.length).trim();l[0]==='"'&&(l=l.slice(1,-1)),e[a]=Ty(l,o)}}}return e}function Iy(t,n,e){var r=e||{},i=r.encode||Ey;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!er.test(t))throw new TypeError("argument name is invalid");var o=i(n);if(o&&!er.test(o))throw new TypeError("argument val is invalid");var s=t+"="+o;if(r.maxAge!=null){var u=r.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(u)}if(r.domain){if(!er.test(r.domain))throw new TypeError("option domain is invalid");s+="; Domain="+r.domain}if(r.path){if(!er.test(r.path))throw new TypeError("option path is invalid");s+="; Path="+r.path}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite){var c=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(c){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s}function Ty(t,n){try{return n(t)}catch{return t}}function Cy(){return typeof document=="object"&&typeof document.cookie=="string"}function ky(t,n){return typeof t=="string"?Hc(t,n):typeof t=="object"&&t!==null?t:{}}function Oy(t,n){return typeof n>"u"&&(n=!t||t[0]!=="{"&&t[0]!=="["&&t[0]!=='"'),!n}function Ra(t,n){n===void 0&&(n={});var e=Py(t);if(Oy(e,n.doNotParse))try{return JSON.parse(e)}catch{}return t}function Py(t){return t&&t[0]==="j"&&t[1]===":"?t.substr(2):t}var Yt=globalThis&&globalThis.__assign||function(){return Yt=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Yt.apply(this,arguments)},xy=function(){function t(n,e){var r=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=ky(n,e),new Promise(function(){r.HAS_DOCUMENT_COOKIE=Cy()}).catch(function(){})}return t.prototype._updateBrowserValues=function(n){this.HAS_DOCUMENT_COOKIE&&(this.cookies=Hc(document.cookie,n))},t.prototype._emitChange=function(n){for(var e=0;e<this.changeListeners.length;++e)this.changeListeners[e](n)},t.prototype.get=function(n,e,r){return e===void 0&&(e={}),this._updateBrowserValues(r),Ra(this.cookies[n],e)},t.prototype.getAll=function(n,e){n===void 0&&(n={}),this._updateBrowserValues(e);var r={};for(var i in this.cookies)r[i]=Ra(this.cookies[i],n);return r},t.prototype.set=function(n,e,r){var i;typeof e=="object"&&(e=JSON.stringify(e)),this.cookies=Yt(Yt({},this.cookies),(i={},i[n]=e,i)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=Na(n,e,r)),this._emitChange({name:n,value:e,options:r})},t.prototype.remove=function(n,e){var r=e=Yt(Yt({},e),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Yt({},this.cookies),delete this.cookies[n],this.HAS_DOCUMENT_COOKIE&&(document.cookie=Na(n,"",r)),this._emitChange({name:n,value:void 0,options:e})},t.prototype.addChangeListener=function(n){this.changeListeners.push(n)},t.prototype.removeChangeListener=function(n){var e=this.changeListeners.indexOf(n);e>=0&&this.changeListeners.splice(e,1)},t}();const ci=xy;var Ua=lt().isBrowser,Ny=365*24*60*60*1e3,Ry=function(){function t(n){n===void 0&&(n={}),this.cookies=new ci,this.store=Ua?window.localStorage:Object.create(null),this.cookies=n.req?new ci(n.req.headers.cookie):new ci,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(t.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),t.prototype.clear=function(){var n=this;Array.from(new Array(this.length)).map(function(e,r){return n.key(r)}).forEach(function(e){return n.removeItem(e)})},t.prototype.getItem=function(n){return this.getLocalItem(n)},t.prototype.getLocalItem=function(n){return Object.prototype.hasOwnProperty.call(this.store,n)?this.store[n]:null},t.prototype.getUniversalItem=function(n){return this.cookies.get(n)},t.prototype.key=function(n){return Object.keys(this.store)[n]},t.prototype.removeItem=function(n){this.removeLocalItem(n),this.removeUniversalItem(n)},t.prototype.removeLocalItem=function(n){delete this.store[n]},t.prototype.removeUniversalItem=function(n){this.cookies.remove(n,{path:"/"})},t.prototype.setItem=function(n,e){this.setLocalItem(n,e);var r=n.split(".").pop(),i=["LastAuthUser","accessToken","refreshToken","idToken"];i.includes(r??"")&&this.setUniversalItem(n,e,{expires:new Date(Date.now()+Ny)})},t.prototype.setLocalItem=function(n,e){this.store[n]=e},t.prototype.setUniversalItem=function(n,e,r){r===void 0&&(r={}),this.cookies.set(n,e,ue(ue({},r),{path:"/",sameSite:!0,secure:!(Ua&&window.location.hostname==="localhost")}))},t}(),Uy=typeof Symbol<"u"&&typeof Symbol.for=="function",Wc=Uy?Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER",Dy="x-amz-user-agent",My={userAgent:pt.userAgent};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var no=function(t,n){return no=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])},no(t,n)};function jy(t,n){no(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var at={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:new Bo().getStorage()};function Da(t){var n=0;n=t.length;for(var e=t.length;e>=0;e-=1){var r=t.charCodeAt(e);r>127&&r<=2047?n+=1:r>2047&&r<=65535&&(n+=2),r>=56320&&r<=57343&&(e-=1)}return n}function fn(){var t=new Date;return t.getTime()}function tr(t){return Number.isInteger?Number.isInteger(t):Ly(t)}function Ly(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}var _t=new ye("StorageCache"),Fy=function(){function t(n){this.config=Object.assign({},n),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return t.prototype.getModuleName=function(){return"Cache"},t.prototype.checkConfig=function(){tr(this.config.capacityInBytes)||(_t.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=at.capacityInBytes),tr(this.config.itemMaxSize)||(_t.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=at.itemMaxSize),tr(this.config.defaultTTL)||(_t.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=at.defaultTTL),tr(this.config.defaultPriority)||(_t.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=at.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(_t.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=at.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(_t.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=at.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(_t.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=at.warningThreshold);var n=5*1024*1024;this.config.capacityInBytes>n&&(_t.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=at.capacityInBytes)},t.prototype.fillCacheItem=function(n,e,r){var i={key:n,data:e,timestamp:fn(),visitedTime:fn(),priority:r.priority,expires:r.expires,type:typeof e,byteSize:0};return i.byteSize=Da(JSON.stringify(i)),i.byteSize=Da(JSON.stringify(i)),i},t.prototype.configure=function(n){return n?(n.keyPrefix&&_t.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,n,n.Cache),this.checkConfig(),this.config):this.config},t}(),De=new ye("Cache"),By=function(t){jy(n,t);function n(e){var r=this,i=e?Object.assign({},at,e):at;return r=t.call(this,i)||this,r.config.storage=i.storage,r.getItem=r.getItem.bind(r),r.setItem=r.setItem.bind(r),r.removeItem=r.removeItem.bind(r),r}return n.prototype._decreaseCurSizeInBytes=function(e){var r=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(r-e).toString())},n.prototype._increaseCurSizeInBytes=function(e){var r=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(r+e).toString())},n.prototype._refreshItem=function(e,r){return e.visitedTime=fn(),this.config.storage.setItem(r,JSON.stringify(e)),e},n.prototype._isExpired=function(e){var r=this.config.storage.getItem(e),i=JSON.parse(r);return fn()>=i.expires},n.prototype._removeItem=function(e,r){var i=r||JSON.parse(this.config.storage.getItem(e)).byteSize;this._decreaseCurSizeInBytes(i),this.config.storage.removeItem(e)},n.prototype._setItem=function(e,r){this._increaseCurSizeInBytes(r.byteSize);try{this.config.storage.setItem(e,JSON.stringify(r))}catch(i){this._decreaseCurSizeInBytes(r.byteSize),De.error("Failed to set item "+i)}},n.prototype._sizeToPop=function(e){var r=this.getCacheCurSize()+e-this.config.capacityInBytes,i=(1-this.config.warningThreshold)*this.config.capacityInBytes;return r>i?r:i},n.prototype._isCacheFull=function(e){return e+this.getCacheCurSize()>this.config.capacityInBytes},n.prototype._findValidKeys=function(){for(var e=[],r=[],i=0;i<this.config.storage.length;i+=1)r.push(this.config.storage.key(i));for(var i=0;i<r.length;i+=1){var o=r[i];o.indexOf(this.config.keyPrefix)===0&&o!==this.cacheCurSizeKey&&(this._isExpired(o)?this._removeItem(o):e.push(o))}return e},n.prototype._popOutItems=function(e,r){for(var i=[],o=r,s=0;s<e.length;s+=1){var u=this.config.storage.getItem(e[s]);if(u!=null){var c=JSON.parse(u);i.push(c)}}i.sort(function(a,l){return a.priority>l.priority?-1:a.priority<l.priority?1:a.visitedTime<l.visitedTime?-1:1});for(var s=0;s<i.length;s+=1)if(this._removeItem(i[s].key,i[s].byteSize),o-=i[s].byteSize,o<=0)return},n.prototype.setItem=function(e,r,i){De.log("Set item: key is "+e+", value is "+r+" with options: "+i);var o=this.config.keyPrefix+e;if(o===this.config.keyPrefix||o===this.cacheCurSizeKey){De.warn("Invalid key: should not be empty or 'CurSize'");return}if(typeof r>"u"){De.warn("The value of item should not be undefined!");return}var s={priority:i&&i.priority!==void 0?i.priority:this.config.defaultPriority,expires:i&&i.expires!==void 0?i.expires:this.config.defaultTTL+fn()};if(s.priority<1||s.priority>5){De.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");return}var u=this.fillCacheItem(o,r,s);if(u.byteSize>this.config.itemMaxSize){De.warn("Item with key: "+e+" you are trying to put into is too big!");return}try{var c=this.config.storage.getItem(o);if(c&&this._removeItem(o,JSON.parse(c).byteSize),this._isCacheFull(u.byteSize)){var a=this._findValidKeys();if(this._isCacheFull(u.byteSize)){var l=this._sizeToPop(u.byteSize);this._popOutItems(a,l)}}this._setItem(o,u)}catch(f){De.warn("setItem failed! "+f)}},n.prototype.getItem=function(e,r){De.log("Get item: key is "+e+" with options "+r);var i=null,o=this.config.keyPrefix+e;if(o===this.config.keyPrefix||o===this.cacheCurSizeKey)return De.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(i=this.config.storage.getItem(o),i!=null)if(this._isExpired(o))this._removeItem(o,JSON.parse(i).byteSize),i=null;else{var s=JSON.parse(i);return s=this._refreshItem(s,o),s.data}if(r&&r.callback!==void 0){var u=r.callback();return u!==null&&this.setItem(e,u,r),u}return null}catch(c){return De.warn("getItem failed! "+c),null}},n.prototype.removeItem=function(e){De.log("Remove item: key is "+e);var r=this.config.keyPrefix+e;if(!(r===this.config.keyPrefix||r===this.cacheCurSizeKey))try{var i=this.config.storage.getItem(r);i&&this._removeItem(r,JSON.parse(i).byteSize)}catch(o){De.warn("removeItem failed! "+o)}},n.prototype.clear=function(){De.log("Clear Cache");for(var e=[],r=0;r<this.config.storage.length;r+=1){var i=this.config.storage.key(r);i.indexOf(this.config.keyPrefix)===0&&e.push(i)}try{for(var r=0;r<e.length;r+=1)this.config.storage.removeItem(e[r])}catch(o){De.warn("clear failed! "+o)}},n.prototype.getAllKeys=function(){for(var e=[],r=0;r<this.config.storage.length;r+=1){var i=this.config.storage.key(r);i.indexOf(this.config.keyPrefix)===0&&i!==this.cacheCurSizeKey&&e.push(i.substring(this.config.keyPrefix.length))}return e},n.prototype.getCacheCurSize=function(){var e=this.config.storage.getItem(this.cacheCurSizeKey);return e||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),e="0"),Number(e)},n.prototype.createInstance=function(e){return(!e.keyPrefix||e.keyPrefix===at.keyPrefix)&&(De.error("invalid keyPrefix, setting keyPrefix with timeStamp"),e.keyPrefix=fn.toString()),new n(e)},n}(Fy),jn=new By;bt.register(jn);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ro=function(t,n){return ro=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])},ro(t,n)};function Yc(t,n){ro(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var Ce=function(){return Ce=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ce.apply(this,arguments)};function re(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,n||[])).next())})}function ie(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function It(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,o=[],s;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}var Ir;(function(t){t.Cognito="COGNITO",t.Google="Google",t.Facebook="Facebook",t.Amazon="LoginWithAmazon",t.Apple="SignInWithApple"})(Ir||(Ir={}));function li(t){var n=["provider"];return t&&!!n.find(function(e){return t.hasOwnProperty(e)})}function qy(t){var n=["customProvider"];return t&&!!n.find(function(e){return t.hasOwnProperty(e)})}function Ky(t){var n=["customState"];return t&&!!n.find(function(e){return t.hasOwnProperty(e)})}function Xt(t){return t.redirectSignIn!==void 0}var oe;(function(t){t.NoConfig="noConfig",t.MissingAuthConfig="missingAuthConfig",t.EmptyUsername="emptyUsername",t.InvalidUsername="invalidUsername",t.EmptyPassword="emptyPassword",t.EmptyCode="emptyCode",t.SignUpError="signUpError",t.NoMFA="noMFA",t.InvalidMFA="invalidMFA",t.EmptyChallengeResponse="emptyChallengeResponse",t.NoUserSession="noUserSession",t.Default="default",t.DeviceConfig="deviceConfig",t.NetworkError="networkError",t.AutoSignInError="autoSignInError"})(oe||(oe={}));function Vy(t){return!!t.username}var Ma;(function(t){t.API_KEY="API_KEY",t.AWS_IAM="AWS_IAM",t.OPENID_CONNECT="OPENID_CONNECT",t.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",t.AWS_LAMBDA="AWS_LAMBDA"})(Ma||(Ma={}));/*!
* Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
* SPDX-License-Identifier: Apache-2.0
*/var ja=function(){function t(e){var r=e||{},i=r.ValidationData,o=r.Username,s=r.Password,u=r.AuthParameters,c=r.ClientMetadata;this.validationData=i||{},this.authParameters=u||{},this.clientMetadata=c||{},this.username=o,this.password=s}var n=t.prototype;return n.getUsername=function(){return this.username},n.getPassword=function(){return this.password},n.getValidationData=function(){return this.validationData},n.getAuthParameters=function(){return this.authParameters},n.getClientMetadata=function(){return this.clientMetadata},t}(),se={},Br={};Br.byteLength=Hy;Br.toByteArray=Yy;Br.fromByteArray=Xy;var mt=[],$e=[],zy=typeof Uint8Array<"u"?Uint8Array:Array,fi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var nn=0,Gy=fi.length;nn<Gy;++nn)mt[nn]=fi[nn],$e[fi.charCodeAt(nn)]=nn;$e["-".charCodeAt(0)]=62;$e["_".charCodeAt(0)]=63;function Jc(t){var n=t.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=t.indexOf("=");e===-1&&(e=n);var r=e===n?0:4-e%4;return[e,r]}function Hy(t){var n=Jc(t),e=n[0],r=n[1];return(e+r)*3/4-r}function Wy(t,n,e){return(n+e)*3/4-e}function Yy(t){var n,e=Jc(t),r=e[0],i=e[1],o=new zy(Wy(t,r,i)),s=0,u=i>0?r-4:r,c;for(c=0;c<u;c+=4)n=$e[t.charCodeAt(c)]<<18|$e[t.charCodeAt(c+1)]<<12|$e[t.charCodeAt(c+2)]<<6|$e[t.charCodeAt(c+3)],o[s++]=n>>16&255,o[s++]=n>>8&255,o[s++]=n&255;return i===2&&(n=$e[t.charCodeAt(c)]<<2|$e[t.charCodeAt(c+1)]>>4,o[s++]=n&255),i===1&&(n=$e[t.charCodeAt(c)]<<10|$e[t.charCodeAt(c+1)]<<4|$e[t.charCodeAt(c+2)]>>2,o[s++]=n>>8&255,o[s++]=n&255),o}function Jy(t){return mt[t>>18&63]+mt[t>>12&63]+mt[t>>6&63]+mt[t&63]}function $y(t,n,e){for(var r,i=[],o=n;o<e;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(Jy(r));return i.join("")}function Xy(t){for(var n,e=t.length,r=e%3,i=[],o=16383,s=0,u=e-r;s<u;s+=o)i.push($y(t,s,s+o>u?u:s+o));return r===1?(n=t[e-1],i.push(mt[n>>2]+mt[n<<4&63]+"==")):r===2&&(n=(t[e-2]<<8)+t[e-1],i.push(mt[n>>10]+mt[n>>4&63]+mt[n<<2&63]+"=")),i.join("")}var qo={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */qo.read=function(t,n,e,r,i){var o,s,u=i*8-r-1,c=(1<<u)-1,a=c>>1,l=-7,f=e?i-1:0,g=e?-1:1,v=t[n+f];for(f+=g,o=v&(1<<-l)-1,v>>=-l,l+=u;l>0;o=o*256+t[n+f],f+=g,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=s*256+t[n+f],f+=g,l-=8);if(o===0)o=1-a;else{if(o===c)return s?NaN:(v?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-a}return(v?-1:1)*s*Math.pow(2,o-r)};qo.write=function(t,n,e,r,i,o){var s,u,c,a=o*8-i-1,l=(1<<a)-1,f=l>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=r?0:o-1,b=r?1:-1,_=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(u=isNaN(n)?1:0,s=l):(s=Math.floor(Math.log(n)/Math.LN2),n*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+f>=1?n+=g/c:n+=g*Math.pow(2,1-f),n*c>=2&&(s++,c/=2),s+f>=l?(u=0,s=l):s+f>=1?(u=(n*c-1)*Math.pow(2,i),s=s+f):(u=n*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[e+v]=u&255,v+=b,u/=256,i-=8);for(s=s<<i|u,a+=i;a>0;t[e+v]=s&255,v+=b,s/=256,a-=8);t[e+v-b]|=_*128};var Qy={}.toString,Zy=Array.isArray||function(t){return Qy.call(t)=="[object Array]"};/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <http://feross.org>
* @license  MIT
*/(function(t){var n=Br,e=qo,r=Zy;t.Buffer=u,t.SlowBuffer=O,t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=We.TYPED_ARRAY_SUPPORT!==void 0?We.TYPED_ARRAY_SUPPORT:i(),t.kMaxLength=o();function i(){try{var h=new Uint8Array(1);return h.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},h.foo()===42&&typeof h.subarray=="function"&&h.subarray(1,1).byteLength===0}catch{return!1}}function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(h,d){if(o()<d)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(h=new Uint8Array(d),h.__proto__=u.prototype):(h===null&&(h=new u(d)),h.length=d),h}function u(h,d,w){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(h,d,w);if(typeof h=="number"){if(typeof d=="string")throw new Error("If encoding is specified then the first argument must be a string");return f(this,h)}return c(this,h,d,w)}u.poolSize=8192,u._augment=function(h){return h.__proto__=u.prototype,h};function c(h,d,w,C){if(typeof d=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&d instanceof ArrayBuffer?b(h,d,w,C):typeof d=="string"?g(h,d,w):_(h,d)}u.from=function(h,d,w){return c(null,h,d,w)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0}));function a(h){if(typeof h!="number")throw new TypeError('"size" argument must be a number');if(h<0)throw new RangeError('"size" argument must not be negative')}function l(h,d,w,C){return a(d),d<=0?s(h,d):w!==void 0?typeof C=="string"?s(h,d).fill(w,C):s(h,d).fill(w):s(h,d)}u.alloc=function(h,d,w){return l(null,h,d,w)};function f(h,d){if(a(d),h=s(h,d<0?0:T(d)|0),!u.TYPED_ARRAY_SUPPORT)for(var w=0;w<d;++w)h[w]=0;return h}u.allocUnsafe=function(h){return f(null,h)},u.allocUnsafeSlow=function(h){return f(null,h)};function g(h,d,w){if((typeof w!="string"||w==="")&&(w="utf8"),!u.isEncoding(w))throw new TypeError('"encoding" must be a valid string encoding');var C=I(d,w)|0;h=s(h,C);var R=h.write(d,w);return R!==C&&(h=h.slice(0,R)),h}function v(h,d){var w=d.length<0?0:T(d.length)|0;h=s(h,w);for(var C=0;C<w;C+=1)h[C]=d[C]&255;return h}function b(h,d,w,C){if(d.byteLength,w<0||d.byteLength<w)throw new RangeError("'offset' is out of bounds");if(d.byteLength<w+(C||0))throw new RangeError("'length' is out of bounds");return w===void 0&&C===void 0?d=new Uint8Array(d):C===void 0?d=new Uint8Array(d,w):d=new Uint8Array(d,w,C),u.TYPED_ARRAY_SUPPORT?(h=d,h.__proto__=u.prototype):h=v(h,d),h}function _(h,d){if(u.isBuffer(d)){var w=T(d.length)|0;return h=s(h,w),h.length===0||d.copy(h,0,0,w),h}if(d){if(typeof ArrayBuffer<"u"&&d.buffer instanceof ArrayBuffer||"length"in d)return typeof d.length!="number"||Pl(d.length)?s(h,0):v(h,d);if(d.type==="Buffer"&&r(d.data))return v(h,d.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function T(h){if(h>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return h|0}function O(h){return+h!=h&&(h=0),u.alloc(+h)}u.isBuffer=function(h){return!!(h!=null&&h._isBuffer)},u.compare=function(h,d){if(!u.isBuffer(h)||!u.isBuffer(d))throw new TypeError("Arguments must be Buffers");if(h===d)return 0;for(var w=h.length,C=d.length,R=0,L=Math.min(w,C);R<L;++R)if(h[R]!==d[R]){w=h[R],C=d[R];break}return w<C?-1:C<w?1:0},u.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(h,d){if(!r(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return u.alloc(0);var w;if(d===void 0)for(d=0,w=0;w<h.length;++w)d+=h[w].length;var C=u.allocUnsafe(d),R=0;for(w=0;w<h.length;++w){var L=h[w];if(!u.isBuffer(L))throw new TypeError('"list" argument must be an Array of Buffers');L.copy(C,R),R+=L.length}return C};function I(h,d){if(u.isBuffer(h))return h.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(h)||h instanceof ArrayBuffer))return h.byteLength;typeof h!="string"&&(h=""+h);var w=h.length;if(w===0)return 0;for(var C=!1;;)switch(d){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":case void 0:return Ae(h).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return ht(h).length;default:if(C)return Ae(h).length;d=(""+d).toLowerCase(),C=!0}}u.byteLength=I;function N(h,d,w){var C=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,d>>>=0,w<=d))return"";for(h||(h="utf8");;)switch(h){case"hex":return x(this,d,w);case"utf8":case"utf-8":return A(this,d,w);case"ascii":return V(this,d,w);case"latin1":case"binary":return Z(this,d,w);case"base64":return E(this,d,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,d,w);default:if(C)throw new TypeError("Unknown encoding: "+h);h=(h+"").toLowerCase(),C=!0}}u.prototype._isBuffer=!0;function U(h,d,w){var C=h[d];h[d]=h[w],h[w]=C}u.prototype.swap16=function(){var h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var d=0;d<h;d+=2)U(this,d,d+1);return this},u.prototype.swap32=function(){var h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var d=0;d<h;d+=4)U(this,d,d+3),U(this,d+1,d+2);return this},u.prototype.swap64=function(){var h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var d=0;d<h;d+=8)U(this,d,d+7),U(this,d+1,d+6),U(this,d+2,d+5),U(this,d+3,d+4);return this},u.prototype.toString=function(){var h=this.length|0;return h===0?"":arguments.length===0?A(this,0,h):N.apply(this,arguments)},u.prototype.equals=function(h){if(!u.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:u.compare(this,h)===0},u.prototype.inspect=function(){var h="",d=t.INSPECT_MAX_BYTES;return this.length>0&&(h=this.toString("hex",0,d).match(/.{2}/g).join(" "),this.length>d&&(h+=" ... ")),"<Buffer "+h+">"},u.prototype.compare=function(h,d,w,C,R){if(!u.isBuffer(h))throw new TypeError("Argument must be a Buffer");if(d===void 0&&(d=0),w===void 0&&(w=h?h.length:0),C===void 0&&(C=0),R===void 0&&(R=this.length),d<0||w>h.length||C<0||R>this.length)throw new RangeError("out of range index");if(C>=R&&d>=w)return 0;if(C>=R)return-1;if(d>=w)return 1;if(d>>>=0,w>>>=0,C>>>=0,R>>>=0,this===h)return 0;for(var L=R-C,X=w-d,he=Math.min(L,X),Ie=this.slice(C,R),de=h.slice(d,w),be=0;be<he;++be)if(Ie[be]!==de[be]){L=Ie[be],X=de[be];break}return L<X?-1:X<L?1:0};function D(h,d,w,C,R){if(h.length===0)return-1;if(typeof w=="string"?(C=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,isNaN(w)&&(w=R?0:h.length-1),w<0&&(w=h.length+w),w>=h.length){if(R)return-1;w=h.length-1}else if(w<0)if(R)w=0;else return-1;if(typeof d=="string"&&(d=u.from(d,C)),u.isBuffer(d))return d.length===0?-1:z(h,d,w,C,R);if(typeof d=="number")return d=d&255,u.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?R?Uint8Array.prototype.indexOf.call(h,d,w):Uint8Array.prototype.lastIndexOf.call(h,d,w):z(h,[d],w,C,R);throw new TypeError("val must be string, number or Buffer")}function z(h,d,w,C,R){var L=1,X=h.length,he=d.length;if(C!==void 0&&(C=String(C).toLowerCase(),C==="ucs2"||C==="ucs-2"||C==="utf16le"||C==="utf-16le")){if(h.length<2||d.length<2)return-1;L=2,X/=2,he/=2,w/=2}function Ie($o,Xo){return L===1?$o[Xo]:$o.readUInt16BE(Xo*L)}var de;if(R){var be=-1;for(de=w;de<X;de++)if(Ie(h,de)===Ie(d,be===-1?0:de-be)){if(be===-1&&(be=de),de-be+1===he)return be*L}else be!==-1&&(de-=de-be),be=-1}else for(w+he>X&&(w=X-he),de=w;de>=0;de--){for(var Ue=!0,Gn=0;Gn<he;Gn++)if(Ie(h,de+Gn)!==Ie(d,Gn)){Ue=!1;break}if(Ue)return de}return-1}u.prototype.includes=function(h,d,w){return this.indexOf(h,d,w)!==-1},u.prototype.indexOf=function(h,d,w){return D(this,h,d,w,!0)},u.prototype.lastIndexOf=function(h,d,w){return D(this,h,d,w,!1)};function H(h,d,w,C){w=Number(w)||0;var R=h.length-w;C?(C=Number(C),C>R&&(C=R)):C=R;var L=d.length;if(L%2!==0)throw new TypeError("Invalid hex string");C>L/2&&(C=L/2);for(var X=0;X<C;++X){var he=parseInt(d.substr(X*2,2),16);if(isNaN(he))return X;h[w+X]=he}return X}function k(h,d,w,C){return Nt(Ae(d,h.length-w),h,w,C)}function W(h,d,w,C){return Nt(Ke(d),h,w,C)}function p(h,d,w,C){return W(h,d,w,C)}function y(h,d,w,C){return Nt(ht(d),h,w,C)}function m(h,d,w,C){return Nt(ft(d,h.length-w),h,w,C)}u.prototype.write=function(h,d,w,C){if(d===void 0)C="utf8",w=this.length,d=0;else if(w===void 0&&typeof d=="string")C=d,w=this.length,d=0;else if(isFinite(d))d=d|0,isFinite(w)?(w=w|0,C===void 0&&(C="utf8")):(C=w,w=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var R=this.length-d;if((w===void 0||w>R)&&(w=R),h.length>0&&(w<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");for(var L=!1;;)switch(C){case"hex":return H(this,h,d,w);case"utf8":case"utf-8":return k(this,h,d,w);case"ascii":return W(this,h,d,w);case"latin1":case"binary":return p(this,h,d,w);case"base64":return y(this,h,d,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,h,d,w);default:if(L)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),L=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(h,d,w){return d===0&&w===h.length?n.fromByteArray(h):n.fromByteArray(h.slice(d,w))}function A(h,d,w){w=Math.min(h.length,w);for(var C=[],R=d;R<w;){var L=h[R],X=null,he=L>239?4:L>223?3:L>191?2:1;if(R+he<=w){var Ie,de,be,Ue;switch(he){case 1:L<128&&(X=L);break;case 2:Ie=h[R+1],(Ie&192)===128&&(Ue=(L&31)<<6|Ie&63,Ue>127&&(X=Ue));break;case 3:Ie=h[R+1],de=h[R+2],(Ie&192)===128&&(de&192)===128&&(Ue=(L&15)<<12|(Ie&63)<<6|de&63,Ue>2047&&(Ue<55296||Ue>57343)&&(X=Ue));break;case 4:Ie=h[R+1],de=h[R+2],be=h[R+3],(Ie&192)===128&&(de&192)===128&&(be&192)===128&&(Ue=(L&15)<<18|(Ie&63)<<12|(de&63)<<6|be&63,Ue>65535&&Ue<1114112&&(X=Ue))}}X===null?(X=65533,he=1):X>65535&&(X-=65536,C.push(X>>>10&1023|55296),X=56320|X&1023),C.push(X),R+=he}return P(C)}var S=4096;function P(h){var d=h.length;if(d<=S)return String.fromCharCode.apply(String,h);for(var w="",C=0;C<d;)w+=String.fromCharCode.apply(String,h.slice(C,C+=S));return w}function V(h,d,w){var C="";w=Math.min(h.length,w);for(var R=d;R<w;++R)C+=String.fromCharCode(h[R]&127);return C}function Z(h,d,w){var C="";w=Math.min(h.length,w);for(var R=d;R<w;++R)C+=String.fromCharCode(h[R]);return C}function x(h,d,w){var C=h.length;(!d||d<0)&&(d=0),(!w||w<0||w>C)&&(w=C);for(var R="",L=d;L<w;++L)R+=_e(h[L]);return R}function B(h,d,w){for(var C=h.slice(d,w),R="",L=0;L<C.length;L+=2)R+=String.fromCharCode(C[L]+C[L+1]*256);return R}u.prototype.slice=function(h,d){var w=this.length;h=~~h,d=d===void 0?w:~~d,h<0?(h+=w,h<0&&(h=0)):h>w&&(h=w),d<0?(d+=w,d<0&&(d=0)):d>w&&(d=w),d<h&&(d=h);var C;if(u.TYPED_ARRAY_SUPPORT)C=this.subarray(h,d),C.__proto__=u.prototype;else{var R=d-h;C=new u(R,void 0);for(var L=0;L<R;++L)C[L]=this[L+h]}return C};function G(h,d,w){if(h%1!==0||h<0)throw new RangeError("offset is not uint");if(h+d>w)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUIntLE=function(h,d,w){h=h|0,d=d|0,w||G(h,d,this.length);for(var C=this[h],R=1,L=0;++L<d&&(R*=256);)C+=this[h+L]*R;return C},u.prototype.readUIntBE=function(h,d,w){h=h|0,d=d|0,w||G(h,d,this.length);for(var C=this[h+--d],R=1;d>0&&(R*=256);)C+=this[h+--d]*R;return C},u.prototype.readUInt8=function(h,d){return d||G(h,1,this.length),this[h]},u.prototype.readUInt16LE=function(h,d){return d||G(h,2,this.length),this[h]|this[h+1]<<8},u.prototype.readUInt16BE=function(h,d){return d||G(h,2,this.length),this[h]<<8|this[h+1]},u.prototype.readUInt32LE=function(h,d){return d||G(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},u.prototype.readUInt32BE=function(h,d){return d||G(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},u.prototype.readIntLE=function(h,d,w){h=h|0,d=d|0,w||G(h,d,this.length);for(var C=this[h],R=1,L=0;++L<d&&(R*=256);)C+=this[h+L]*R;return R*=128,C>=R&&(C-=Math.pow(2,8*d)),C},u.prototype.readIntBE=function(h,d,w){h=h|0,d=d|0,w||G(h,d,this.length);for(var C=d,R=1,L=this[h+--C];C>0&&(R*=256);)L+=this[h+--C]*R;return R*=128,L>=R&&(L-=Math.pow(2,8*d)),L},u.prototype.readInt8=function(h,d){return d||G(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},u.prototype.readInt16LE=function(h,d){d||G(h,2,this.length);var w=this[h]|this[h+1]<<8;return w&32768?w|4294901760:w},u.prototype.readInt16BE=function(h,d){d||G(h,2,this.length);var w=this[h+1]|this[h]<<8;return w&32768?w|4294901760:w},u.prototype.readInt32LE=function(h,d){return d||G(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},u.prototype.readInt32BE=function(h,d){return d||G(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},u.prototype.readFloatLE=function(h,d){return d||G(h,4,this.length),e.read(this,h,!0,23,4)},u.prototype.readFloatBE=function(h,d){return d||G(h,4,this.length),e.read(this,h,!1,23,4)},u.prototype.readDoubleLE=function(h,d){return d||G(h,8,this.length),e.read(this,h,!0,52,8)},u.prototype.readDoubleBE=function(h,d){return d||G(h,8,this.length),e.read(this,h,!1,52,8)};function j(h,d,w,C,R,L){if(!u.isBuffer(h))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>R||d<L)throw new RangeError('"value" argument is out of bounds');if(w+C>h.length)throw new RangeError("Index out of range")}u.prototype.writeUIntLE=function(h,d,w,C){if(h=+h,d=d|0,w=w|0,!C){var R=Math.pow(2,8*w)-1;j(this,h,d,w,R,0)}var L=1,X=0;for(this[d]=h&255;++X<w&&(L*=256);)this[d+X]=h/L&255;return d+w},u.prototype.writeUIntBE=function(h,d,w,C){if(h=+h,d=d|0,w=w|0,!C){var R=Math.pow(2,8*w)-1;j(this,h,d,w,R,0)}var L=w-1,X=1;for(this[d+L]=h&255;--L>=0&&(X*=256);)this[d+L]=h/X&255;return d+w},u.prototype.writeUInt8=function(h,d,w){return h=+h,d=d|0,w||j(this,h,d,1,255,0),u.TYPED_ARRAY_SUPPORT||(h=Math.floor(h)),this[d]=h&255,d+1};function $(h,d,w,C){d<0&&(d=65535+d+1);for(var R=0,L=Math.min(h.length-w,2);R<L;++R)h[w+R]=(d&255<<8*(C?R:1-R))>>>(C?R:1-R)*8}u.prototype.writeUInt16LE=function(h,d,w){return h=+h,d=d|0,w||j(this,h,d,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[d]=h&255,this[d+1]=h>>>8):$(this,h,d,!0),d+2},u.prototype.writeUInt16BE=function(h,d,w){return h=+h,d=d|0,w||j(this,h,d,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[d]=h>>>8,this[d+1]=h&255):$(this,h,d,!1),d+2};function ee(h,d,w,C){d<0&&(d=4294967295+d+1);for(var R=0,L=Math.min(h.length-w,4);R<L;++R)h[w+R]=d>>>(C?R:3-R)*8&255}u.prototype.writeUInt32LE=function(h,d,w){return h=+h,d=d|0,w||j(this,h,d,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[d+3]=h>>>24,this[d+2]=h>>>16,this[d+1]=h>>>8,this[d]=h&255):ee(this,h,d,!0),d+4},u.prototype.writeUInt32BE=function(h,d,w){return h=+h,d=d|0,w||j(this,h,d,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[d]=h>>>24,this[d+1]=h>>>16,this[d+2]=h>>>8,this[d+3]=h&255):ee(this,h,d,!1),d+4},u.prototype.writeIntLE=function(h,d,w,C){if(h=+h,d=d|0,!C){var R=Math.pow(2,8*w-1);j(this,h,d,w,R-1,-R)}var L=0,X=1,he=0;for(this[d]=h&255;++L<w&&(X*=256);)h<0&&he===0&&this[d+L-1]!==0&&(he=1),this[d+L]=(h/X>>0)-he&255;return d+w},u.prototype.writeIntBE=function(h,d,w,C){if(h=+h,d=d|0,!C){var R=Math.pow(2,8*w-1);j(this,h,d,w,R-1,-R)}var L=w-1,X=1,he=0;for(this[d+L]=h&255;--L>=0&&(X*=256);)h<0&&he===0&&this[d+L+1]!==0&&(he=1),this[d+L]=(h/X>>0)-he&255;return d+w},u.prototype.writeInt8=function(h,d,w){return h=+h,d=d|0,w||j(this,h,d,1,127,-128),u.TYPED_ARRAY_SUPPORT||(h=Math.floor(h)),h<0&&(h=255+h+1),this[d]=h&255,d+1},u.prototype.writeInt16LE=function(h,d,w){return h=+h,d=d|0,w||j(this,h,d,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[d]=h&255,this[d+1]=h>>>8):$(this,h,d,!0),d+2},u.prototype.writeInt16BE=function(h,d,w){return h=+h,d=d|0,w||j(this,h,d,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[d]=h>>>8,this[d+1]=h&255):$(this,h,d,!1),d+2},u.prototype.writeInt32LE=function(h,d,w){return h=+h,d=d|0,w||j(this,h,d,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[d]=h&255,this[d+1]=h>>>8,this[d+2]=h>>>16,this[d+3]=h>>>24):ee(this,h,d,!0),d+4},u.prototype.writeInt32BE=function(h,d,w){return h=+h,d=d|0,w||j(this,h,d,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),u.TYPED_ARRAY_SUPPORT?(this[d]=h>>>24,this[d+1]=h>>>16,this[d+2]=h>>>8,this[d+3]=h&255):ee(this,h,d,!1),d+4};function fe(h,d,w,C,R,L){if(w+C>h.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function me(h,d,w,C,R){return R||fe(h,d,w,4),e.write(h,d,w,C,23,4),w+4}u.prototype.writeFloatLE=function(h,d,w){return me(this,h,d,!0,w)},u.prototype.writeFloatBE=function(h,d,w){return me(this,h,d,!1,w)};function Pe(h,d,w,C,R){return R||fe(h,d,w,8),e.write(h,d,w,C,52,8),w+8}u.prototype.writeDoubleLE=function(h,d,w){return Pe(this,h,d,!0,w)},u.prototype.writeDoubleBE=function(h,d,w){return Pe(this,h,d,!1,w)},u.prototype.copy=function(h,d,w,C){if(w||(w=0),!C&&C!==0&&(C=this.length),d>=h.length&&(d=h.length),d||(d=0),C>0&&C<w&&(C=w),C===w||h.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(w<0||w>=this.length)throw new RangeError("sourceStart out of bounds");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),h.length-d<C-w&&(C=h.length-d+w);var R=C-w,L;if(this===h&&w<d&&d<C)for(L=R-1;L>=0;--L)h[L+d]=this[L+w];else if(R<1e3||!u.TYPED_ARRAY_SUPPORT)for(L=0;L<R;++L)h[L+d]=this[L+w];else Uint8Array.prototype.set.call(h,this.subarray(w,w+R),d);return R},u.prototype.fill=function(h,d,w,C){if(typeof h=="string"){if(typeof d=="string"?(C=d,d=0,w=this.length):typeof w=="string"&&(C=w,w=this.length),h.length===1){var R=h.charCodeAt(0);R<256&&(h=R)}if(C!==void 0&&typeof C!="string")throw new TypeError("encoding must be a string");if(typeof C=="string"&&!u.isEncoding(C))throw new TypeError("Unknown encoding: "+C)}else typeof h=="number"&&(h=h&255);if(d<0||this.length<d||this.length<w)throw new RangeError("Out of range index");if(w<=d)return this;d=d>>>0,w=w===void 0?this.length:w>>>0,h||(h=0);var L;if(typeof h=="number")for(L=d;L<w;++L)this[L]=h;else{var X=u.isBuffer(h)?h:Ae(new u(h,C).toString()),he=X.length;for(L=0;L<w-d;++L)this[L+d]=X[L%he]}return this};var qe=/[^+\/0-9A-Za-z-_]/g;function Ye(h){if(h=et(h).replace(qe,""),h.length<2)return"";for(;h.length%4!==0;)h=h+"=";return h}function et(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function _e(h){return h<16?"0"+h.toString(16):h.toString(16)}function Ae(h,d){d=d||1/0;for(var w,C=h.length,R=null,L=[],X=0;X<C;++X){if(w=h.charCodeAt(X),w>55295&&w<57344){if(!R){if(w>56319){(d-=3)>-1&&L.push(239,191,189);continue}else if(X+1===C){(d-=3)>-1&&L.push(239,191,189);continue}R=w;continue}if(w<56320){(d-=3)>-1&&L.push(239,191,189),R=w;continue}w=(R-55296<<10|w-56320)+65536}else R&&(d-=3)>-1&&L.push(239,191,189);if(R=null,w<128){if((d-=1)<0)break;L.push(w)}else if(w<2048){if((d-=2)<0)break;L.push(w>>6|192,w&63|128)}else if(w<65536){if((d-=3)<0)break;L.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((d-=4)<0)break;L.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return L}function Ke(h){for(var d=[],w=0;w<h.length;++w)d.push(h.charCodeAt(w)&255);return d}function ft(h,d){for(var w,C,R,L=[],X=0;X<h.length&&!((d-=2)<0);++X)w=h.charCodeAt(X),C=w>>8,R=w%256,L.push(R),L.push(C);return L}function ht(h){return n.toByteArray(Ye(h))}function Nt(h,d,w,C){for(var R=0;R<C&&!(R+w>=d.length||R>=h.length);++R)d[R+w]=h[R];return R}function Pl(h){return h!==h}})(se);var Qe;typeof window<"u"&&window.crypto&&(Qe=window.crypto);!Qe&&typeof window<"u"&&window.msCrypto&&(Qe=window.msCrypto);!Qe&&typeof global<"u"&&global.crypto&&(Qe=global.crypto);if(!Qe&&typeof require=="function")try{Qe=require("crypto")}catch{}function ev(){if(Qe){if(typeof Qe.getRandomValues=="function")try{return Qe.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof Qe.randomBytes=="function")try{return Qe.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")}function tv(t){for(var n=t.words,e=t.sigBytes,r=[],i=0;i<e;i++){var o=n[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((o&15).toString(16))}return r.join("")}var nv=function(){function t(e,r){e=this.words=e||[],r!=null?this.sigBytes=r:this.sigBytes=e.length*4}var n=t.prototype;return n.random=function(e){for(var r=[],i=0;i<e;i+=4)r.push(ev());return new t(r,e)},n.toString=function(){return tv(this)},t}();function Y(t,n){t!=null&&this.fromString(t,n)}function je(){return new Y(null)}var qt,rv=0xdeadbeefcafe,La=(rv&16777215)==15715070;function iv(t,n,e,r,i,o){for(;--o>=0;){var s=n*this[t++]+e[r]+i;i=Math.floor(s/67108864),e[r++]=s&67108863}return i}function ov(t,n,e,r,i,o){for(var s=n&32767,u=n>>15;--o>=0;){var c=this[t]&32767,a=this[t++]>>15,l=u*c+a*s;c=s*c+((l&32767)<<15)+e[r]+(i&1073741823),i=(c>>>30)+(l>>>15)+u*a+(i>>>30),e[r++]=c&1073741823}return i}function sv(t,n,e,r,i,o){for(var s=n&16383,u=n>>14;--o>=0;){var c=this[t]&16383,a=this[t++]>>14,l=u*c+a*s;c=s*c+((l&16383)<<14)+e[r]+i,i=(c>>28)+(l>>14)+u*a,e[r++]=c&268435455}return i}var Fa=typeof navigator<"u";Fa&&La&&navigator.appName=="Microsoft Internet Explorer"?(Y.prototype.am=ov,qt=30):Fa&&La&&navigator.appName!="Netscape"?(Y.prototype.am=iv,qt=26):(Y.prototype.am=sv,qt=28);Y.prototype.DB=qt;Y.prototype.DM=(1<<qt)-1;Y.prototype.DV=1<<qt;var Ko=52;Y.prototype.FV=Math.pow(2,Ko);Y.prototype.F1=Ko-qt;Y.prototype.F2=2*qt-Ko;var av="0123456789abcdefghijklmnopqrstuvwxyz",qr=new Array,En,Ze;En="0".charCodeAt(0);for(Ze=0;Ze<=9;++Ze)qr[En++]=Ze;En="a".charCodeAt(0);for(Ze=10;Ze<36;++Ze)qr[En++]=Ze;En="A".charCodeAt(0);for(Ze=10;Ze<36;++Ze)qr[En++]=Ze;function Ba(t){return av.charAt(t)}function uv(t,n){var e=qr[t.charCodeAt(n)];return e??-1}function cv(t){for(var n=this.t-1;n>=0;--n)t[n]=this[n];t.t=this.t,t.s=this.s}function lv(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0}function Vo(t){var n=je();return n.fromInt(t),n}function fv(t,n){var e;if(n==16)e=4;else if(n==8)e=3;else if(n==2)e=1;else if(n==32)e=5;else if(n==4)e=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;for(var r=t.length,i=!1,o=0;--r>=0;){var s=uv(t,r);if(s<0){t.charAt(r)=="-"&&(i=!0);continue}i=!1,o==0?this[this.t++]=s:o+e>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,o+=e,o>=this.DB&&(o-=this.DB)}this.clamp(),i&&Y.ZERO.subTo(this,this)}function hv(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function dv(t){if(this.s<0)return"-"+this.negate().toString(t);var n;if(t==16)n=4;else if(t==8)n=3;else if(t==2)n=1;else if(t==32)n=5;else if(t==4)n=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");var e=(1<<n)-1,r,i=!1,o="",s=this.t,u=this.DB-s*this.DB%n;if(s-- >0)for(u<this.DB&&(r=this[s]>>u)>0&&(i=!0,o=Ba(r));s>=0;)u<n?(r=(this[s]&(1<<u)-1)<<n-u,r|=this[--s]>>(u+=this.DB-n)):(r=this[s]>>(u-=n)&e,u<=0&&(u+=this.DB,--s)),r>0&&(i=!0),i&&(o+=Ba(r));return i?o:"0"}function pv(){var t=je();return Y.ZERO.subTo(this,t),t}function gv(){return this.s<0?this.negate():this}function yv(t){var n=this.s-t.s;if(n!=0)return n;var e=this.t;if(n=e-t.t,n!=0)return this.s<0?-n:n;for(;--e>=0;)if((n=this[e]-t[e])!=0)return n;return 0}function zo(t){var n=1,e;return(e=t>>>16)!=0&&(t=e,n+=16),(e=t>>8)!=0&&(t=e,n+=8),(e=t>>4)!=0&&(t=e,n+=4),(e=t>>2)!=0&&(t=e,n+=2),(e=t>>1)!=0&&(t=e,n+=1),n}function vv(){return this.t<=0?0:this.DB*(this.t-1)+zo(this[this.t-1]^this.s&this.DM)}function mv(t,n){var e;for(e=this.t-1;e>=0;--e)n[e+t]=this[e];for(e=t-1;e>=0;--e)n[e]=0;n.t=this.t+t,n.s=this.s}function bv(t,n){for(var e=t;e<this.t;++e)n[e-t]=this[e];n.t=Math.max(this.t-t,0),n.s=this.s}function wv(t,n){var e=t%this.DB,r=this.DB-e,i=(1<<r)-1,o=Math.floor(t/this.DB),s=this.s<<e&this.DM,u;for(u=this.t-1;u>=0;--u)n[u+o+1]=this[u]>>r|s,s=(this[u]&i)<<e;for(u=o-1;u>=0;--u)n[u]=0;n[o]=s,n.t=this.t+o+1,n.s=this.s,n.clamp()}function Sv(t,n){n.s=this.s;var e=Math.floor(t/this.DB);if(e>=this.t){n.t=0;return}var r=t%this.DB,i=this.DB-r,o=(1<<r)-1;n[0]=this[e]>>r;for(var s=e+1;s<this.t;++s)n[s-e-1]|=(this[s]&o)<<i,n[s-e]=this[s]>>r;r>0&&(n[this.t-e-1]|=(this.s&o)<<i),n.t=this.t-e,n.clamp()}function _v(t,n){for(var e=0,r=0,i=Math.min(t.t,this.t);e<i;)r+=this[e]-t[e],n[e++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;e<this.t;)r+=this[e],n[e++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;e<t.t;)r-=t[e],n[e++]=r&this.DM,r>>=this.DB;r-=t.s}n.s=r<0?-1:0,r<-1?n[e++]=this.DV+r:r>0&&(n[e++]=r),n.t=e,n.clamp()}function Ev(t,n){var e=this.abs(),r=t.abs(),i=e.t;for(n.t=i+r.t;--i>=0;)n[i]=0;for(i=0;i<r.t;++i)n[i+e.t]=e.am(0,r[i],n,i,0,e.t);n.s=0,n.clamp(),this.s!=t.s&&Y.ZERO.subTo(n,n)}function Av(t){for(var n=this.abs(),e=t.t=2*n.t;--e>=0;)t[e]=0;for(e=0;e<n.t-1;++e){var r=n.am(e,n[e],t,2*e,0,1);(t[e+n.t]+=n.am(e+1,2*n[e],t,2*e+1,r,n.t-e-1))>=n.DV&&(t[e+n.t]-=n.DV,t[e+n.t+1]=1)}t.t>0&&(t[t.t-1]+=n.am(e,n[e],t,2*e,0,1)),t.s=0,t.clamp()}function Iv(t,n,e){var r=t.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t){n!=null&&n.fromInt(0),e!=null&&this.copyTo(e);return}e==null&&(e=je());var o=je(),s=this.s,u=t.s,c=this.DB-zo(r[r.t-1]);c>0?(r.lShiftTo(c,o),i.lShiftTo(c,e)):(r.copyTo(o),i.copyTo(e));var a=o.t,l=o[a-1];if(l!=0){var f=l*(1<<this.F1)+(a>1?o[a-2]>>this.F2:0),g=this.FV/f,v=(1<<this.F1)/f,b=1<<this.F2,_=e.t,T=_-a,O=n??je();for(o.dlShiftTo(T,O),e.compareTo(O)>=0&&(e[e.t++]=1,e.subTo(O,e)),Y.ONE.dlShiftTo(a,O),O.subTo(o,o);o.t<a;)o[o.t++]=0;for(;--T>=0;){var I=e[--_]==l?this.DM:Math.floor(e[_]*g+(e[_-1]+b)*v);if((e[_]+=o.am(0,I,e,T,0,a))<I)for(o.dlShiftTo(T,O),e.subTo(O,e);e[_]<--I;)e.subTo(O,e)}n!=null&&(e.drShiftTo(a,n),s!=u&&Y.ZERO.subTo(n,n)),e.t=a,e.clamp(),c>0&&e.rShiftTo(c,e),s<0&&Y.ZERO.subTo(e,e)}}}function Tv(t){var n=je();return this.abs().divRemTo(t,null,n),this.s<0&&n.compareTo(Y.ZERO)>0&&t.subTo(n,n),n}function Cv(){if(this.t<1)return 0;var t=this[0];if(!(t&1))return 0;var n=t&3;return n=n*(2-(t&15)*n)&15,n=n*(2-(t&255)*n)&255,n=n*(2-((t&65535)*n&65535))&65535,n=n*(2-t*n%this.DV)%this.DV,n>0?this.DV-n:-n}function kv(t){return this.compareTo(t)==0}function Ov(t,n){for(var e=0,r=0,i=Math.min(t.t,this.t);e<i;)r+=this[e]+t[e],n[e++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;e<this.t;)r+=this[e],n[e++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;e<t.t;)r+=t[e],n[e++]=r&this.DM,r>>=this.DB;r+=t.s}n.s=r<0?-1:0,r>0?n[e++]=r:r<-1&&(n[e++]=this.DV+r),n.t=e,n.clamp()}function Pv(t){var n=je();return this.addTo(t,n),n}function xv(t){var n=je();return this.subTo(t,n),n}function Nv(t){var n=je();return this.multiplyTo(t,n),n}function Rv(t){var n=je();return this.divRemTo(t,n,null),n}function An(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function Uv(t){var n=je();return t.abs().dlShiftTo(this.m.t,n),n.divRemTo(this.m,null,n),t.s<0&&n.compareTo(Y.ZERO)>0&&this.m.subTo(n,n),n}function Dv(t){var n=je();return t.copyTo(n),this.reduce(n),n}function Mv(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var n=0;n<this.m.t;++n){var e=t[n]&32767,r=e*this.mpl+((e*this.mph+(t[n]>>15)*this.mpl&this.um)<<15)&t.DM;for(e=n+this.m.t,t[e]+=this.m.am(0,r,t,n,0,this.m.t);t[e]>=t.DV;)t[e]-=t.DV,t[++e]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function jv(t,n){t.squareTo(n),this.reduce(n)}function Lv(t,n,e){t.multiplyTo(n,e),this.reduce(e)}An.prototype.convert=Uv;An.prototype.revert=Dv;An.prototype.reduce=Mv;An.prototype.mulTo=Lv;An.prototype.sqrTo=jv;function Fv(t,n,e){var r=t.bitLength(),i,o=Vo(1),s=new An(n);if(r<=0)return o;r<18?i=1:r<48?i=3:r<144?i=4:r<768?i=5:i=6;var u=new Array,c=3,a=i-1,l=(1<<i)-1;if(u[1]=s.convert(this),i>1){var f=je();for(s.sqrTo(u[1],f);c<=l;)u[c]=je(),s.mulTo(f,u[c-2],u[c]),c+=2}var g=t.t-1,v,b=!0,_=je(),T;for(r=zo(t[g])-1;g>=0;){for(r>=a?v=t[g]>>r-a&l:(v=(t[g]&(1<<r+1)-1)<<a-r,g>0&&(v|=t[g-1]>>this.DB+r-a)),c=i;!(v&1);)v>>=1,--c;if((r-=c)<0&&(r+=this.DB,--g),b)u[v].copyTo(o),b=!1;else{for(;c>1;)s.sqrTo(o,_),s.sqrTo(_,o),c-=2;c>0?s.sqrTo(o,_):(T=o,o=_,_=T),s.mulTo(_,u[v],o)}for(;g>=0&&!(t[g]&1<<r);)s.sqrTo(o,_),T=o,o=_,_=T,--r<0&&(r=this.DB-1,--g)}var O=s.revert(o);return e(null,O),O}Y.prototype.copyTo=cv;Y.prototype.fromInt=lv;Y.prototype.fromString=fv;Y.prototype.clamp=hv;Y.prototype.dlShiftTo=mv;Y.prototype.drShiftTo=bv;Y.prototype.lShiftTo=wv;Y.prototype.rShiftTo=Sv;Y.prototype.subTo=_v;Y.prototype.multiplyTo=Ev;Y.prototype.squareTo=Av;Y.prototype.divRemTo=Iv;Y.prototype.invDigit=Cv;Y.prototype.addTo=Ov;Y.prototype.toString=dv;Y.prototype.negate=pv;Y.prototype.abs=gv;Y.prototype.compareTo=yv;Y.prototype.bitLength=vv;Y.prototype.mod=Tv;Y.prototype.equals=kv;Y.prototype.add=Pv;Y.prototype.subtract=xv;Y.prototype.multiply=Nv;Y.prototype.divide=Rv;Y.prototype.modPow=Fv;Y.ZERO=Vo(0);Y.ONE=Vo(1);/*!
* Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
* SPDX-License-Identifier: Apache-2.0
*/function hi(t){return se.Buffer.from(new nv().random(t).toString(),"hex")}var Bv=/^[89a-f]/i,qv="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",Kv="userAttributes.",rn=function(){function t(e){this.N=new Y(qv,16),this.g=new Y("2",16),this.k=new Y(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=se.Buffer.from("Caldera Derived Key","utf8"),this.poolName=e}var n=t.prototype;return n.getSmallAValue=function(){return this.smallAValue},n.getLargeAValue=function(e){var r=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,function(i,o){i&&e(i,null),r.largeAValue=o,e(null,r.largeAValue)})},n.generateRandomSmallA=function(){var e=hi(128).toString("hex"),r=new Y(e,16);return r},n.generateRandomString=function(){return hi(40).toString("base64")},n.getRandomPassword=function(){return this.randomPassword},n.getSaltDevices=function(){return this.SaltToHashDevices},n.getVerifierDevices=function(){return this.verifierDevices},n.generateHashDevice=function(e,r,i){var o=this;this.randomPassword=this.generateRandomString();var s=""+e+r+":"+this.randomPassword,u=this.hash(s),c=hi(16).toString("hex");this.SaltToHashDevices=this.padHex(new Y(c,16)),this.g.modPow(new Y(this.hexHash(this.SaltToHashDevices+u),16),this.N,function(a,l){a&&i(a,null),o.verifierDevices=o.padHex(l),i(null,null)})},n.calculateA=function(e,r){var i=this;this.g.modPow(e,this.N,function(o,s){o&&r(o,null),s.mod(i.N).equals(Y.ZERO)&&r(new Error("Illegal paramater. A mod N cannot be 0."),null),r(null,s)})},n.calculateU=function(e,r){this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(r));var i=new Y(this.UHexHash,16);return i},n.hash=function(e){var r=new Ot.Sha256;r.update(e);var i=r.digestSync(),o=se.Buffer.from(i).toString("hex");return new Array(64-o.length).join("0")+o},n.hexHash=function(e){return this.hash(se.Buffer.from(e,"hex"))},n.computehkdf=function(e,r){var i=se.Buffer.concat([this.infoBits,se.Buffer.from(String.fromCharCode(1),"utf8")]),o=new Ot.Sha256(r);o.update(e);var s=o.digestSync(),u=new Ot.Sha256(s);u.update(i);var c=u.digestSync(),a=c,l=a.slice(0,16);return l},n.getPasswordAuthenticationKey=function(e,r,i,o,s){var u=this;if(i.mod(this.N).equals(Y.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,i),this.UValue.equals(Y.ZERO))throw new Error("U cannot be zero.");var c=""+this.poolName+e+":"+r,a=this.hash(c),l=new Y(this.hexHash(this.padHex(o)+a),16);this.calculateS(l,i,function(f,g){f&&s(f,null);var v=u.computehkdf(se.Buffer.from(u.padHex(g),"hex"),se.Buffer.from(u.padHex(u.UValue),"hex"));s(null,v)})},n.calculateS=function(e,r,i){var o=this;this.g.modPow(e,this.N,function(s,u){s&&i(s,null);var c=r.subtract(o.k.multiply(u));c.modPow(o.smallAValue.add(o.UValue.multiply(e)),o.N,function(a,l){a&&i(a,null),i(null,l.mod(o.N))})})},n.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return Kv},n.padHex=function(e){if(!(e instanceof Y))throw new Error("Not a BigInteger");var r=e.compareTo(Y.ZERO)<0,i=e.abs().toString(16);if(i=i.length%2!==0?"0"+i:i,i=Bv.test(i)?"00"+i:i,r){var o=i.split("").map(function(u){var c=~parseInt(u,16)&15;return"0123456789ABCDEF".charAt(c)}).join(""),s=new Y(o,16).add(Y.ONE);i=s.toString(16),i.toUpperCase().startsWith("FF8")&&(i=i.substring(2))}return i},t}();/*!
* Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
* SPDX-License-Identifier: Apache-2.0
*/var $c=function(){function t(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var n=t.prototype;return n.getJwtToken=function(){return this.jwtToken},n.getExpiration=function(){return this.payload.exp},n.getIssuedAt=function(){return this.payload.iat},n.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(se.Buffer.from(e,"base64").toString("utf8"))}catch{return{}}},t}();function Vv(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,io(t,n)}function io(t,n){return io=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},io(t,n)}var oo=function(t){Vv(n,t);function n(e){var r=e===void 0?{}:e,i=r.AccessToken;return t.call(this,i||"")||this}return n}($c);function zv(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,so(t,n)}function so(t,n){return so=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},so(t,n)}var ao=function(t){zv(n,t);function n(e){var r=e===void 0?{}:e,i=r.IdToken;return t.call(this,i||"")||this}return n}($c);/*!
* Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
* SPDX-License-Identifier: Apache-2.0
*/var uo=function(){function t(e){var r=e===void 0?{}:e,i=r.RefreshToken;this.token=i||""}var n=t.prototype;return n.getToken=function(){return this.token},t}(),Gv="5.0.4";/*!
* Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
* SPDX-License-Identifier: Apache-2.0
*/var co="aws-amplify/"+Gv,jt={userAgent:co+" js",product:"",navigator:null,isReactNative:!1};if(typeof navigator<"u"&&navigator.product)switch(jt.product=navigator.product||"",jt.navigator=navigator||null,navigator.product){case"ReactNative":jt.userAgent=co+" react-native",jt.isReactNative=!0;break;default:jt.userAgent=co+" js",jt.isReactNative=!1;break}var Hv=function(){return jt.userAgent};/*!
* Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
* SPDX-License-Identifier: Apache-2.0
*/var lo=function(){function t(e){var r=e===void 0?{}:e,i=r.IdToken,o=r.RefreshToken,s=r.AccessToken,u=r.ClockDrift;if(s==null||i==null)throw new Error("Id token and Access Token must be present.");this.idToken=i,this.refreshToken=o,this.accessToken=s,this.clockDrift=u===void 0?this.calculateClockDrift():u}var n=t.prototype;return n.getIdToken=function(){return this.idToken},n.getRefreshToken=function(){return this.refreshToken},n.getAccessToken=function(){return this.accessToken},n.getClockDrift=function(){return this.clockDrift},n.calculateClockDrift=function(){var e=Math.floor(new Date/1e3),r=Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt());return e-r},n.isValid=function(){var e=Math.floor(new Date/1e3),r=e-this.clockDrift;return r<this.accessToken.getExpiration()&&r<this.idToken.getExpiration()},t}();/*!
* Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
* SPDX-License-Identifier: Apache-2.0
*/var Wv=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Yv=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],qa=function(){function t(){}var n=t.prototype;return n.getNowString=function(){var e=new Date,r=Yv[e.getUTCDay()],i=Wv[e.getUTCMonth()],o=e.getUTCDate(),s=e.getUTCHours();s<10&&(s="0"+s);var u=e.getUTCMinutes();u<10&&(u="0"+u);var c=e.getUTCSeconds();c<10&&(c="0"+c);var a=e.getUTCFullYear(),l=r+" "+i+" "+o+" "+s+":"+u+":"+c+" UTC "+a;return l},t}();/*!
* Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
* SPDX-License-Identifier: Apache-2.0
*/var cn=function(){function t(e){var r=e===void 0?{}:e,i=r.Name,o=r.Value;this.Name=i||"",this.Value=o||""}var n=t.prototype;return n.getValue=function(){return this.Value},n.setValue=function(e){return this.Value=e,this},n.getName=function(){return this.Name},n.setName=function(e){return this.Name=e,this},n.toString=function(){return JSON.stringify(this)},n.toJSON=function(){return{Name:this.Name,Value:this.Value}},t}();/*!
* Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
* SPDX-License-Identifier: Apache-2.0
*/var Gt={},Jv=function(){function t(){}return t.setItem=function(n,e){return Gt[n]=e,Gt[n]},t.getItem=function(n){return Object.prototype.hasOwnProperty.call(Gt,n)?Gt[n]:void 0},t.removeItem=function(n){return delete Gt[n]},t.clear=function(){return Gt={},Gt},t}(),Xc=function(){function t(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch{this.storageWindow=Jv}}var n=t.prototype;return n.getStorage=function(){return this.storageWindow},t}();/*!
* Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
* SPDX-License-Identifier: Apache-2.0
*/var $v=typeof navigator<"u",Ka=$v?jt.isReactNative?"react-native":navigator.userAgent:"nodejs",fo=function(){function t(e){if(e==null||e.Username==null||e.Pool==null)throw new Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||new Xc().getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var n=t.prototype;return n.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},n.getSignInUserSession=function(){return this.signInUserSession},n.getUsername=function(){return this.username},n.getAuthenticationFlowType=function(){return this.authenticationFlowType},n.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},n.initiateAuth=function(e,r){var i=this,o=e.getAuthParameters();o.USERNAME=this.username;var s=Object.keys(e.getValidationData()).length!==0?e.getValidationData():e.getClientMetadata(),u={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:o,ClientMetadata:s};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",u,function(c,a){if(c)return r.onFailure(c);var l=a.ChallengeName,f=a.ChallengeParameters;return l==="CUSTOM_CHALLENGE"?(i.Session=a.Session,r.customChallenge(f)):(i.signInUserSession=i.getCognitoUserSession(a.AuthenticationResult),i.cacheTokens(),r.onSuccess(i.signInUserSession))})},n.authenticateUser=function(e,r){return this.authenticationFlowType==="USER_PASSWORD_AUTH"?this.authenticateUserPlainUsernamePassword(e,r):this.authenticationFlowType==="USER_SRP_AUTH"||this.authenticationFlowType==="CUSTOM_AUTH"?this.authenticateUserDefaultAuth(e,r):r.onFailure(new Error("Authentication flow type is invalid."))},n.authenticateUserDefaultAuth=function(e,r){var i=this,o=new rn(this.pool.getUserPoolName()),s=new qa,u,c,a={};this.deviceKey!=null&&(a.DEVICE_KEY=this.deviceKey),a.USERNAME=this.username,o.getLargeAValue(function(l,f){l&&r.onFailure(l),a.SRP_A=f.toString(16),i.authenticationFlowType==="CUSTOM_AUTH"&&(a.CHALLENGE_NAME="SRP_A");var g=Object.keys(e.getValidationData()).length!==0?e.getValidationData():e.getClientMetadata(),v={AuthFlow:i.authenticationFlowType,ClientId:i.pool.getClientId(),AuthParameters:a,ClientMetadata:g};i.getUserContextData(i.username)&&(v.UserContextData=i.getUserContextData(i.username)),i.client.request("InitiateAuth",v,function(b,_){if(b)return r.onFailure(b);var T=_.ChallengeParameters;i.username=T.USER_ID_FOR_SRP,i.userDataKey=i.keyPrefix+"."+i.username+".userData",u=new Y(T.SRP_B,16),c=new Y(T.SALT,16),i.getCachedDeviceKeyAndPassword(),o.getPasswordAuthenticationKey(i.username,e.getPassword(),u,c,function(O,I){O&&r.onFailure(O);var N=s.getNowString(),U=se.Buffer.concat([se.Buffer.from(i.pool.getUserPoolName(),"utf8"),se.Buffer.from(i.username,"utf8"),se.Buffer.from(T.SECRET_BLOCK,"base64"),se.Buffer.from(N,"utf8")]),D=new Ot.Sha256(I);D.update(U);var z=D.digestSync(),H=se.Buffer.from(z).toString("base64"),k={};k.USERNAME=i.username,k.PASSWORD_CLAIM_SECRET_BLOCK=T.SECRET_BLOCK,k.TIMESTAMP=N,k.PASSWORD_CLAIM_SIGNATURE=H,i.deviceKey!=null&&(k.DEVICE_KEY=i.deviceKey);var W=function y(m,E){return i.client.request("RespondToAuthChallenge",m,function(A,S){return A&&A.code==="ResourceNotFoundException"&&A.message.toLowerCase().indexOf("device")!==-1?(k.DEVICE_KEY=null,i.deviceKey=null,i.randomPassword=null,i.deviceGroupKey=null,i.clearCachedDeviceKeyAndPassword(),y(m,E)):E(A,S)})},p={ChallengeName:"PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:k,Session:_.Session,ClientMetadata:g};i.getUserContextData()&&(p.UserContextData=i.getUserContextData()),W(p,function(y,m){return y?r.onFailure(y):i.authenticateUserInternal(m,o,r)})})})})},n.authenticateUserPlainUsernamePassword=function(e,r){var i=this,o={};if(o.USERNAME=this.username,o.PASSWORD=e.getPassword(),!o.PASSWORD){r.onFailure(new Error("PASSWORD parameter is required"));return}var s=new rn(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),this.deviceKey!=null&&(o.DEVICE_KEY=this.deviceKey);var u=Object.keys(e.getValidationData()).length!==0?e.getValidationData():e.getClientMetadata(),c={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:o,ClientMetadata:u};this.getUserContextData(this.username)&&(c.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",c,function(a,l){return a?r.onFailure(a):i.authenticateUserInternal(l,s,r)})},n.authenticateUserInternal=function(e,r,i){var o=this,s=e.ChallengeName,u=e.ChallengeParameters;if(s==="SMS_MFA")return this.Session=e.Session,i.mfaRequired(s,u);if(s==="SELECT_MFA_TYPE")return this.Session=e.Session,i.selectMFAType(s,u);if(s==="MFA_SETUP")return this.Session=e.Session,i.mfaSetup(s,u);if(s==="SOFTWARE_TOKEN_MFA")return this.Session=e.Session,i.totpRequired(s,u);if(s==="CUSTOM_CHALLENGE")return this.Session=e.Session,i.customChallenge(u);if(s==="NEW_PASSWORD_REQUIRED"){this.Session=e.Session;var c=null,a=null,l=[],f=r.getNewPasswordRequiredChallengeUserAttributePrefix();if(u&&(c=JSON.parse(e.ChallengeParameters.userAttributes),a=JSON.parse(e.ChallengeParameters.requiredAttributes)),a)for(var g=0;g<a.length;g++)l[g]=a[g].substr(f.length);return i.newPasswordRequired(c,l)}if(s==="DEVICE_SRP_AUTH"){this.Session=e.Session,this.getDeviceResponse(i);return}this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=s,this.cacheTokens();var v=e.AuthenticationResult.NewDeviceMetadata;if(v==null)return i.onSuccess(this.signInUserSession);r.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(b){if(b)return i.onFailure(b);var _={Salt:se.Buffer.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:se.Buffer.from(r.getVerifierDevices(),"hex").toString("base64")};o.verifierDevices=_.PasswordVerifier,o.deviceGroupKey=v.DeviceGroupKey,o.randomPassword=r.getRandomPassword(),o.client.request("ConfirmDevice",{DeviceKey:v.DeviceKey,AccessToken:o.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:_,DeviceName:Ka},function(T,O){return T?i.onFailure(T):(o.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,o.cacheDeviceKeyAndPassword(),O.UserConfirmationNecessary===!0?i.onSuccess(o.signInUserSession,O.UserConfirmationNecessary):i.onSuccess(o.signInUserSession))})})},n.completeNewPasswordChallenge=function(e,r,i,o){var s=this;if(!e)return i.onFailure(new Error("New password is required."));var u=new rn(this.pool.getUserPoolName()),c=u.getNewPasswordRequiredChallengeUserAttributePrefix(),a={};r&&Object.keys(r).forEach(function(f){a[c+f]=r[f]}),a.NEW_PASSWORD=e,a.USERNAME=this.username;var l={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:a,Session:this.Session,ClientMetadata:o};this.getUserContextData()&&(l.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",l,function(f,g){return f?i.onFailure(f):s.authenticateUserInternal(g,u,i)})},n.getDeviceResponse=function(e,r){var i=this,o=new rn(this.deviceGroupKey),s=new qa,u={};u.USERNAME=this.username,u.DEVICE_KEY=this.deviceKey,o.getLargeAValue(function(c,a){c&&e.onFailure(c),u.SRP_A=a.toString(16);var l={ChallengeName:"DEVICE_SRP_AUTH",ClientId:i.pool.getClientId(),ChallengeResponses:u,ClientMetadata:r,Session:i.Session};i.getUserContextData()&&(l.UserContextData=i.getUserContextData()),i.client.request("RespondToAuthChallenge",l,function(f,g){if(f)return e.onFailure(f);var v=g.ChallengeParameters,b=new Y(v.SRP_B,16),_=new Y(v.SALT,16);o.getPasswordAuthenticationKey(i.deviceKey,i.randomPassword,b,_,function(T,O){if(T)return e.onFailure(T);var I=s.getNowString(),N=se.Buffer.concat([se.Buffer.from(i.deviceGroupKey,"utf8"),se.Buffer.from(i.deviceKey,"utf8"),se.Buffer.from(v.SECRET_BLOCK,"base64"),se.Buffer.from(I,"utf8")]),U=new Ot.Sha256(O);U.update(N);var D=U.digestSync(),z=se.Buffer.from(D).toString("base64"),H={};H.USERNAME=i.username,H.PASSWORD_CLAIM_SECRET_BLOCK=v.SECRET_BLOCK,H.TIMESTAMP=I,H.PASSWORD_CLAIM_SIGNATURE=z,H.DEVICE_KEY=i.deviceKey;var k={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:H,Session:g.Session};i.getUserContextData()&&(k.UserContextData=i.getUserContextData()),i.client.request("RespondToAuthChallenge",k,function(W,p){return W?e.onFailure(W):(i.signInUserSession=i.getCognitoUserSession(p.AuthenticationResult),i.cacheTokens(),e.onSuccess(i.signInUserSession))})})})})},n.confirmRegistration=function(e,r,i,o){var s={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:r,ClientMetadata:o};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",s,function(u){return u?i(u,null):i(null,"SUCCESS")})},n.sendCustomChallengeAnswer=function(e,r,i){var o=this,s={};s.USERNAME=this.username,s.ANSWER=e;var u=new rn(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),this.deviceKey!=null&&(s.DEVICE_KEY=this.deviceKey);var c={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:s,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:i};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",c,function(a,l){return a?r.onFailure(a):o.authenticateUserInternal(l,u,r)})},n.sendMFACode=function(e,r,i,o){var s=this,u={};u.USERNAME=this.username,u.SMS_MFA_CODE=e;var c=i||"SMS_MFA";c==="SOFTWARE_TOKEN_MFA"&&(u.SOFTWARE_TOKEN_MFA_CODE=e),this.deviceKey!=null&&(u.DEVICE_KEY=this.deviceKey);var a={ChallengeName:c,ChallengeResponses:u,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:o};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,function(l,f){if(l)return r.onFailure(l);var g=f.ChallengeName;if(g==="DEVICE_SRP_AUTH"){s.getDeviceResponse(r);return}if(s.signInUserSession=s.getCognitoUserSession(f.AuthenticationResult),s.cacheTokens(),f.AuthenticationResult.NewDeviceMetadata==null)return r.onSuccess(s.signInUserSession);var v=new rn(s.pool.getUserPoolName());v.generateHashDevice(f.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,f.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(b){if(b)return r.onFailure(b);var _={Salt:se.Buffer.from(v.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:se.Buffer.from(v.getVerifierDevices(),"hex").toString("base64")};s.verifierDevices=_.PasswordVerifier,s.deviceGroupKey=f.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,s.randomPassword=v.getRandomPassword(),s.client.request("ConfirmDevice",{DeviceKey:f.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:s.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:_,DeviceName:Ka},function(T,O){return T?r.onFailure(T):(s.deviceKey=f.AuthenticationResult.NewDeviceMetadata.DeviceKey,s.cacheDeviceKeyAndPassword(),O.UserConfirmationNecessary===!0?r.onSuccess(s.signInUserSession,O.UserConfirmationNecessary):r.onSuccess(s.signInUserSession))})})})},n.changePassword=function(e,r,i,o){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return i(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:r,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:o},function(s){return s?i(s,null):i(null,"SUCCESS")})},n.enableMFA=function(e){if(this.signInUserSession==null||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var r=[],i={DeliveryMedium:"SMS",AttributeName:"phone_number"};r.push(i),this.client.request("SetUserSettings",{MFAOptions:r,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o){return o?e(o,null):e(null,"SUCCESS")})},n.setUserMfaPreference=function(e,r,i){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:r,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o){return o?i(o,null):i(null,"SUCCESS")})},n.disableMFA=function(e){if(this.signInUserSession==null||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var r=[];this.client.request("SetUserSettings",{MFAOptions:r,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i){return i?e(i,null):e(null,"SUCCESS")})},n.deleteUser=function(e,r){var i=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},function(o){return o?e(o,null):(i.clearCachedUser(),e(null,"SUCCESS"))})},n.updateAttributes=function(e,r,i){var o=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return r(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:i},function(s,u){return s?r(s,null):o.getUserData(function(){return r(null,"SUCCESS",u)},{bypassCache:!0})})},n.getUserAttributes=function(e){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(r,i){if(r)return e(r,null);for(var o=[],s=0;s<i.UserAttributes.length;s++){var u={Name:i.UserAttributes[s].Name,Value:i.UserAttributes[s].Value},c=new cn(u);o.push(c)}return e(null,o)})},n.getMFAOptions=function(e){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(r,i){return r?e(r,null):e(null,i.MFAOptions)})},n.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},n.refreshSessionIfPossible=function(e){var r=this;return e===void 0&&(e={}),new Promise(function(i){var o=r.signInUserSession.getRefreshToken();o&&o.getToken()?r.refreshSession(o,i,e.clientMetadata):i()})},n.getUserData=function(e,r){var i=this;if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return this.clearCachedUserData(),e(new Error("User is not authenticated"),null);var o=this.getUserDataFromCache();if(!o){this.fetchUserData().then(function(s){e(null,s)}).catch(e);return}if(this.isFetchUserDataAndTokenRequired(r)){this.fetchUserData().then(function(s){return i.refreshSessionIfPossible(r).then(function(){return s})}).then(function(s){return e(null,s)}).catch(e);return}try{e(null,JSON.parse(o));return}catch(s){this.clearCachedUserData(),e(s,null);return}},n.getUserDataFromCache=function(){var e=this.storage.getItem(this.userDataKey);return e},n.isFetchUserDataAndTokenRequired=function(e){var r=e||{},i=r.bypassCache,o=i===void 0?!1:i;return o},n.fetchUserData=function(){var e=this;return this.createGetUserRequest().then(function(r){return e.cacheUserData(r),r})},n.deleteAttributes=function(e,r){var i=this;if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return r(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o){return o?r(o,null):i.getUserData(function(){return r(null,"SUCCESS")},{bypassCache:!0})})},n.resendConfirmationCode=function(e,r){var i={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:r};this.client.request("ResendConfirmationCode",i,function(o,s){return o?e(o,null):e(null,s)})},n.getSession=function(e,r){if(r===void 0&&(r={}),this.username==null)return e(new Error("Username is null. Cannot retrieve a new session"),null);if(this.signInUserSession!=null&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var i="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,o=i+".idToken",s=i+".accessToken",u=i+".refreshToken",c=i+".clockDrift";if(this.storage.getItem(o)){var a=new ao({IdToken:this.storage.getItem(o)}),l=new oo({AccessToken:this.storage.getItem(s)}),f=new uo({RefreshToken:this.storage.getItem(u)}),g=parseInt(this.storage.getItem(c),0)||0,v={IdToken:a,AccessToken:l,RefreshToken:f,ClockDrift:g},b=new lo(v);if(b.isValid())return this.signInUserSession=b,e(null,this.signInUserSession);if(!f.getToken())return e(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(f,e,r.clientMetadata)}else e(new Error("Local storage is missing an ID Token, Please authenticate"),null)},n.refreshSession=function(e,r,i){var o=this,s=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(r):r,u={};u.REFRESH_TOKEN=e.getToken();var c="CognitoIdentityServiceProvider."+this.pool.getClientId(),a=c+".LastAuthUser";if(this.storage.getItem(a)){this.username=this.storage.getItem(a);var l=c+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(l),u.DEVICE_KEY=this.deviceKey}var f={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:u,ClientMetadata:i};this.getUserContextData()&&(f.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",f,function(g,v){if(g)return g.code==="NotAuthorizedException"&&o.clearCachedUser(),s(g,null);if(v){var b=v.AuthenticationResult;return Object.prototype.hasOwnProperty.call(b,"RefreshToken")||(b.RefreshToken=e.getToken()),o.signInUserSession=o.getCognitoUserSession(b),o.cacheTokens(),s(null,o.signInUserSession)}})},n.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),r=e+"."+this.username+".idToken",i=e+"."+this.username+".accessToken",o=e+"."+this.username+".refreshToken",s=e+"."+this.username+".clockDrift",u=e+".LastAuthUser";this.storage.setItem(r,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(i,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(o,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(s,""+this.signInUserSession.getClockDrift()),this.storage.setItem(u,this.username)},n.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},n.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},n.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},n.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=e+".deviceKey",i=e+".randomPasswordKey",o=e+".deviceGroupKey";this.storage.setItem(r,this.deviceKey),this.storage.setItem(i,this.randomPassword),this.storage.setItem(o,this.deviceGroupKey)},n.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=e+".deviceKey",i=e+".randomPasswordKey",o=e+".deviceGroupKey";this.storage.getItem(r)&&(this.deviceKey=this.storage.getItem(r),this.randomPassword=this.storage.getItem(i),this.deviceGroupKey=this.storage.getItem(o))},n.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=e+".deviceKey",i=e+".randomPasswordKey",o=e+".deviceGroupKey";this.storage.removeItem(r),this.storage.removeItem(i),this.storage.removeItem(o)},n.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),r=e+"."+this.username+".idToken",i=e+"."+this.username+".accessToken",o=e+"."+this.username+".refreshToken",s=e+".LastAuthUser",u=e+"."+this.username+".clockDrift";this.storage.removeItem(r),this.storage.removeItem(i),this.storage.removeItem(o),this.storage.removeItem(s),this.storage.removeItem(u)},n.getCognitoUserSession=function(e){var r=new ao(e),i=new oo(e),o=new uo(e),s={IdToken:r,AccessToken:i,RefreshToken:o};return new lo(s)},n.forgotPassword=function(e,r){var i={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",i,function(o,s){return o?e.onFailure(o):typeof e.inputVerificationCode=="function"?e.inputVerificationCode(s):e.onSuccess(s)})},n.confirmPassword=function(e,r,i,o){var s={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:r,ClientMetadata:o};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",s,function(u){return u?i.onFailure(u):i.onSuccess("SUCCESS")})},n.getAttributeVerificationCode=function(e,r,i){if(this.signInUserSession==null||!this.signInUserSession.isValid())return r.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:i},function(o,s){return o?r.onFailure(o):typeof r.inputVerificationCode=="function"?r.inputVerificationCode(s):r.onSuccess("SUCCESS")})},n.verifyAttribute=function(e,r,i){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:r,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o){return o?i.onFailure(o):i.onSuccess("SUCCESS")})},n.getDevice=function(e){if(this.signInUserSession==null||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(r,i){return r?e.onFailure(r):e.onSuccess(i)})},n.forgetSpecificDevice=function(e,r){if(this.signInUserSession==null||!this.signInUserSession.isValid())return r.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},function(i){return i?r.onFailure(i):r.onSuccess("SUCCESS")})},n.forgetDevice=function(e){var r=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(i){return r.deviceKey=null,r.deviceGroupKey=null,r.randomPassword=null,r.clearCachedDeviceKeyAndPassword(),e.onSuccess(i)}})},n.setDeviceStatusRemembered=function(e){if(this.signInUserSession==null||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(r){return r?e.onFailure(r):e.onSuccess("SUCCESS")})},n.setDeviceStatusNotRemembered=function(e){if(this.signInUserSession==null||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(r){return r?e.onFailure(r):e.onSuccess("SUCCESS")})},n.listDevices=function(e,r,i){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));var o={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};r&&(o.PaginationToken=r),this.client.request("ListDevices",o,function(s,u){return s?i.onFailure(s):i.onSuccess(u)})},n.globalSignOut=function(e){var r=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i){return i?e.onFailure(i):(r.clearCachedUser(),e.onSuccess("SUCCESS"))})},n.signOut=function(e){var r=this;if(!e||typeof e!="function"){this.cleanClientData();return}this.getSession(function(i,o){if(i)return e(i);r.revokeTokens(function(s){r.cleanClientData(),e(s)})})},n.revokeTokens=function(e){if(e===void 0&&(e=function(){}),typeof e!="function")throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession){var r=new Error("User is not authenticated");return e(r)}if(!this.signInUserSession.getAccessToken()){var i=new Error("No Access token available");return e(i)}var o=this.signInUserSession.getRefreshToken().getToken(),s=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(s)&&o)return this.revokeToken({token:o,callback:e});e()},n.isSessionRevocable=function(e){if(e&&typeof e.decodePayload=="function")try{var r=e.decodePayload(),i=r.origin_jti;return!!i}catch{}return!1},n.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},n.revokeToken=function(e){var r=e.token,i=e.callback;this.client.requestWithRetry("RevokeToken",{Token:r,ClientId:this.pool.getClientId()},function(o){if(o)return i(o);i()})},n.sendMFASelectionAnswer=function(e,r){var i=this,o={};o.USERNAME=this.username,o.ANSWER=e;var s={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,function(u,c){if(u)return r.onFailure(u);if(i.Session=c.Session,e==="SMS_MFA")return r.mfaRequired(c.ChallengeName,c.ChallengeParameters);if(e==="SOFTWARE_TOKEN_MFA")return r.totpRequired(c.ChallengeName,c.ChallengeParameters)})},n.getUserContextData=function(){var e=this.pool;return e.getUserContextData(this.username)},n.associateSoftwareToken=function(e){var r=this;this.signInUserSession!=null&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i,o){return i?e.onFailure(i):e.associateSecretCode(o.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(i,o){return i?e.onFailure(i):(r.Session=o.Session,e.associateSecretCode(o.SecretCode))})},n.verifySoftwareToken=function(e,r,i){var o=this;this.signInUserSession!=null&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:r},function(s,u){return s?i.onFailure(s):i.onSuccess(u)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:r},function(s,u){if(s)return i.onFailure(s);o.Session=u.Session;var c={};c.USERNAME=o.username;var a={ChallengeName:"MFA_SETUP",ClientId:o.pool.getClientId(),ChallengeResponses:c,Session:o.Session};o.getUserContextData()&&(a.UserContextData=o.getUserContextData()),o.client.request("RespondToAuthChallenge",a,function(l,f){return l?i.onFailure(l):(o.signInUserSession=o.getCognitoUserSession(f.AuthenticationResult),o.cacheTokens(),i.onSuccess(o.signInUserSession))})})},t}();function Xv(t,n){return n=n||{},new Promise(function(e,r){var i=new XMLHttpRequest,o=[],s=[],u={},c=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:c,headers:{keys:function(){return o},entries:function(){return s},get:function(l){return u[l.toLowerCase()]},has:function(l){return l.toLowerCase()in u}}}};for(var a in i.open(n.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(l,f,g){o.push(f=f.toLowerCase()),s.push([f,g]),u[f]=u[f]?u[f]+","+g:g}),e(c())},i.onerror=r,i.withCredentials=n.credentials=="include",n.headers)i.setRequestHeader(a,n.headers[a]);i.send(n.body||null)})}const Qv=Object.freeze(Object.defineProperty({__proto__:null,default:Xv},Symbol.toStringTag,{value:"Module"})),Va=Io(Qv);self.fetch||(self.fetch=Va.default||Va);function Qc(){}Qc.prototype.userAgent=Hv();function Zv(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,Ln(t,n)}function ho(t){var n=typeof Map=="function"?new Map:void 0;return ho=function(e){if(e===null||!tm(e))return e;if(typeof e!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(e))return n.get(e);n.set(e,r)}function r(){return ur(e,arguments,po(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Ln(r,e)},ho(t)}function ur(t,n,e){return em()?ur=Reflect.construct.bind():ur=function(r,i,o){var s=[null];s.push.apply(s,i);var u=Function.bind.apply(r,s),c=new u;return o&&Ln(c,o.prototype),c},ur.apply(null,arguments)}function em(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tm(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Ln(t,n){return Ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},Ln(t,n)}function po(t){return po=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},po(t)}var nm=function(t){Zv(n,t);function n(e,r,i,o){var s;return s=t.call(this,e)||this,s.code=r,s.name=i,s.statusCode=o,s}return n}(ho(Error)),rm=function(){function t(e,r,i){this.endpoint=r||"https://cognito-idp."+e+".amazonaws.com/";var o=i||{},s=o.credentials;this.fetchOptions=s?{credentials:s}:{}}var n=t.prototype;return n.promisifyRequest=function(e,r){var i=this;return new Promise(function(o,s){i.request(e,r,function(u,c){u?s(new nm(u.message,u.code,u.name,u.statusCode)):o(c)})})},n.requestWithRetry=function(e,r,i){var o=this,s=5*1e3;am(function(u){return new Promise(function(c,a){o.request(e,u,function(l,f){l?a(l):c(f)})})},[r],s).then(function(u){return i(null,u)}).catch(function(u){return i(u)})},n.request=function(e,r,i){var o={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":Qc.prototype.userAgent,"Cache-Control":"no-store"},s=Object.assign({},this.fetchOptions,{headers:o,method:"POST",mode:"cors",body:JSON.stringify(r)}),u;fetch(this.endpoint,s).then(function(c){return u=c,c},function(c){throw c instanceof TypeError?new Error("Network error"):c}).then(function(c){return c.json().catch(function(){return{}})}).then(function(c){if(u.ok)return i(null,c);var a=(c.__type||c.code).split("#").pop(),l=new Error(c.message||c.Message||null);return l.name=a,l.code=a,i(l)}).catch(function(c){if(u&&u.headers&&u.headers.get("x-amzn-errortype"))try{var a=u.headers.get("x-amzn-errortype").split(":")[0],l=new Error(u.status?u.status.toString():null);return l.code=a,l.name=a,l.statusCode=u.status,i(l)}catch{return i(c)}else c instanceof Error&&c.message==="Network error"&&(c.code="NetworkError");return i(c)})},t}(),nr={debug:function(){}},im=function(t){var n="nonRetryable";return t&&t[n]};function Zc(t,n,e,r){if(r===void 0&&(r=1),typeof t!="function")throw Error("functionToRetry must be a function");return nr.debug(t.name+" attempt #"+r+" with args: "+JSON.stringify(n)),t.apply(void 0,n).catch(function(i){if(nr.debug("error on "+t.name,i),im(i))throw nr.debug(t.name+" non retryable error",i),i;var o=e(r,n,i);if(nr.debug(t.name+" retrying in "+o+" ms"),o!==!1)return new Promise(function(s){return setTimeout(s,o)}).then(function(){return Zc(t,n,e,r+1)});throw i})}function om(t){var n=100,e=100;return function(r){var i=Math.pow(2,r)*n+e*Math.random();return i>t?!1:i}}var sm=5*60*1e3;function am(t,n,e){return e===void 0&&(e=sm),Zc(t,n,om(e))}/*!
* Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
* SPDX-License-Identifier: Apache-2.0
*/var um=55,cm=function(){function t(e,r){var i=e||{},o=i.UserPoolId,s=i.ClientId,u=i.endpoint,c=i.fetchOptions,a=i.AdvancedSecurityDataCollectionFlag;if(!o||!s)throw new Error("Both UserPoolId and ClientId are required.");if(o.length>um||!/^[\w-]+_[0-9a-zA-Z]+$/.test(o))throw new Error("Invalid UserPoolId format.");var l=o.split("_")[0];this.userPoolId=o,this.clientId=s,this.client=new rm(l,u,c),this.advancedSecurityDataCollectionFlag=a!==!1,this.storage=e.Storage||new Xc().getStorage(),r&&(this.wrapRefreshSessionCallback=r)}var n=t.prototype;return n.getUserPoolId=function(){return this.userPoolId},n.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},n.getClientId=function(){return this.clientId},n.signUp=function(e,r,i,o,s,u){var c=this,a={ClientId:this.clientId,Username:e,Password:r,UserAttributes:i,ValidationData:o,ClientMetadata:u};this.getUserContextData(e)&&(a.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",a,function(l,f){if(l)return s(l,null);var g={Username:e,Pool:c,Storage:c.storage},v={user:new fo(g),userConfirmed:f.UserConfirmed,userSub:f.UserSub,codeDeliveryDetails:f.CodeDeliveryDetails};return s(null,v)})},n.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",r=this.storage.getItem(e);if(r){var i={Username:r,Pool:this,Storage:this.storage};return new fo(i)}return null},n.getUserContextData=function(e){if(!(typeof AmazonCognitoAdvancedSecurityData>"u")){var r=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var i=r.getData(e,this.userPoolId,this.clientId);if(i){var o={EncodedData:i};return o}}return{}}},t}(),el={exports:{}};/*!
* JavaScript Cookie v2.2.1
* https://github.com/js-cookie/js-cookie
*
* Copyright 2006, 2015 Klaus Hartl & Fagner Brack
* Released under the MIT license
*/(function(t,n){(function(e){var r;if(t.exports=e(),r=!0,!r){var i=window.Cookies,o=window.Cookies=e();o.noConflict=function(){return window.Cookies=i,o}}})(function(){function e(){for(var o=0,s={};o<arguments.length;o++){var u=arguments[o];for(var c in u)s[c]=u[c]}return s}function r(o){return o.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function i(o){function s(){}function u(a,l,f){if(!(typeof document>"u")){f=e({path:"/"},s.defaults,f),typeof f.expires=="number"&&(f.expires=new Date(new Date*1+f.expires*864e5)),f.expires=f.expires?f.expires.toUTCString():"";try{var g=JSON.stringify(l);/^[\{\[]/.test(g)&&(l=g)}catch{}l=o.write?o.write(l,a):encodeURIComponent(String(l)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),a=encodeURIComponent(String(a)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var v="";for(var b in f)f[b]&&(v+="; "+b,f[b]!==!0&&(v+="="+f[b].split(";")[0]));return document.cookie=a+"="+l+v}}function c(a,l){if(!(typeof document>"u")){for(var f={},g=document.cookie?document.cookie.split("; "):[],v=0;v<g.length;v++){var b=g[v].split("="),_=b.slice(1).join("=");!l&&_.charAt(0)==='"'&&(_=_.slice(1,-1));try{var T=r(b[0]);if(_=(o.read||o)(_,T)||r(_),l)try{_=JSON.parse(_)}catch{}if(f[T]=_,a===T)break}catch{}}return a?f[a]:f}}return s.set=u,s.get=function(a){return c(a,!1)},s.getJSON=function(a){return c(a,!0)},s.remove=function(a,l){u(a,"",e(l,{expires:-1}))},s.defaults={},s.withConverter=i,s}return i(function(){})})})(el);var kn=el.exports,lm=function(){function t(e){if(e===void 0&&(e={}),e.domain&&(this.domain=e.domain),e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if(e.sameSite==="none"&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var n=t.prototype;return n.setItem=function(e,r){var i={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(i.sameSite=this.sameSite),kn.set(e,r,i),kn.get(e)},n.getItem=function(e){return kn.get(e)},n.removeItem=function(e){var r={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(r.sameSite=this.sameSite),kn.remove(e,r)},n.clear=function(){for(var e=kn.get(),r=Object.keys(e).length,i=0;i<r;++i)this.removeItem(Object.keys(e)[i]);return{}},t}(),Tr={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */Tr.exports;(function(t,n){(function(e){var r=n&&!n.nodeType&&n,i=t&&!t.nodeType&&t,o=typeof We=="object"&&We;(o.global===o||o.window===o||o.self===o)&&(e=o);var s,u=2147483647,c=36,a=1,l=26,f=38,g=700,v=72,b=128,_="-",T=/^xn--/,O=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,N={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},U=c-a,D=Math.floor,z=String.fromCharCode,H;function k(B){throw RangeError(N[B])}function W(B,G){for(var j=B.length,$=[];j--;)$[j]=G(B[j]);return $}function p(B,G){var j=B.split("@"),$="";j.length>1&&($=j[0]+"@",B=j[1]),B=B.replace(I,".");var ee=B.split("."),fe=W(ee,G).join(".");return $+fe}function y(B){for(var G=[],j=0,$=B.length,ee,fe;j<$;)ee=B.charCodeAt(j++),ee>=55296&&ee<=56319&&j<$?(fe=B.charCodeAt(j++),(fe&64512)==56320?G.push(((ee&1023)<<10)+(fe&1023)+65536):(G.push(ee),j--)):G.push(ee);return G}function m(B){return W(B,function(G){var j="";return G>65535&&(G-=65536,j+=z(G>>>10&1023|55296),G=56320|G&1023),j+=z(G),j}).join("")}function E(B){return B-48<10?B-22:B-65<26?B-65:B-97<26?B-97:c}function A(B,G){return B+22+75*(B<26)-((G!=0)<<5)}function S(B,G,j){var $=0;for(B=j?D(B/g):B>>1,B+=D(B/G);B>U*l>>1;$+=c)B=D(B/U);return D($+(U+1)*B/(B+f))}function P(B){var G=[],j=B.length,$,ee=0,fe=b,me=v,Pe,qe,Ye,et,_e,Ae,Ke,ft,ht;for(Pe=B.lastIndexOf(_),Pe<0&&(Pe=0),qe=0;qe<Pe;++qe)B.charCodeAt(qe)>=128&&k("not-basic"),G.push(B.charCodeAt(qe));for(Ye=Pe>0?Pe+1:0;Ye<j;){for(et=ee,_e=1,Ae=c;Ye>=j&&k("invalid-input"),Ke=E(B.charCodeAt(Ye++)),(Ke>=c||Ke>D((u-ee)/_e))&&k("overflow"),ee+=Ke*_e,ft=Ae<=me?a:Ae>=me+l?l:Ae-me,!(Ke<ft);Ae+=c)ht=c-ft,_e>D(u/ht)&&k("overflow"),_e*=ht;$=G.length+1,me=S(ee-et,$,et==0),D(ee/$)>u-fe&&k("overflow"),fe+=D(ee/$),ee%=$,G.splice(ee++,0,fe)}return m(G)}function V(B){var G,j,$,ee,fe,me,Pe,qe,Ye,et,_e,Ae=[],Ke,ft,ht,Nt;for(B=y(B),Ke=B.length,G=b,j=0,fe=v,me=0;me<Ke;++me)_e=B[me],_e<128&&Ae.push(z(_e));for($=ee=Ae.length,ee&&Ae.push(_);$<Ke;){for(Pe=u,me=0;me<Ke;++me)_e=B[me],_e>=G&&_e<Pe&&(Pe=_e);for(ft=$+1,Pe-G>D((u-j)/ft)&&k("overflow"),j+=(Pe-G)*ft,G=Pe,me=0;me<Ke;++me)if(_e=B[me],_e<G&&++j>u&&k("overflow"),_e==G){for(qe=j,Ye=c;et=Ye<=fe?a:Ye>=fe+l?l:Ye-fe,!(qe<et);Ye+=c)Nt=qe-et,ht=c-et,Ae.push(z(A(et+Nt%ht,0))),qe=D(Nt/ht);Ae.push(z(A(qe,0))),fe=S(j,ft,$==ee),j=0,++$}++j,++G}return Ae.join("")}function Z(B){return p(B,function(G){return T.test(G)?P(G.slice(4).toLowerCase()):G})}function x(B){return p(B,function(G){return O.test(G)?"xn--"+V(G):G})}if(s={version:"1.3.2",ucs2:{decode:y,encode:m},decode:P,encode:V,toASCII:x,toUnicode:Z},r&&i)if(t.exports==r)i.exports=s;else for(H in s)s.hasOwnProperty(H)&&(r[H]=s[H]);else e.punycode=s})(We)})(Tr,Tr.exports);var fm=Tr.exports,hm={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},Fn={};function dm(t,n){return Object.prototype.hasOwnProperty.call(t,n)}var pm=function(t,n,e,r){n=n||"&",e=e||"=";var i={};if(typeof t!="string"||t.length===0)return i;var o=/\+/g;t=t.split(n);var s=1e3;r&&typeof r.maxKeys=="number"&&(s=r.maxKeys);var u=t.length;s>0&&u>s&&(u=s);for(var c=0;c<u;++c){var a=t[c].replace(o,"%20"),l=a.indexOf(e),f,g,v,b;l>=0?(f=a.substr(0,l),g=a.substr(l+1)):(f=a,g=""),v=decodeURIComponent(f),b=decodeURIComponent(g),dm(i,v)?Array.isArray(i[v])?i[v].push(b):i[v]=[i[v],b]:i[v]=b}return i},On=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},gm=function(t,n,e,r){return n=n||"&",e=e||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var o=encodeURIComponent(On(i))+e;return Array.isArray(t[i])?t[i].map(function(s){return o+encodeURIComponent(On(s))}).join(n):o+encodeURIComponent(On(t[i]))}).join(n):r?encodeURIComponent(On(r))+e+encodeURIComponent(On(t)):""};Fn.decode=Fn.parse=pm;Fn.encode=Fn.stringify=gm;var ym=fm,yt=hm,vt=Go,vm=Tm;function ct(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var mm=/^([a-z0-9.+-]+:)/i,bm=/:[0-9]*$/,wm=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Sm=["<",">",'"',"`"," ","\r",`
`,"	"],_m=["{","}","|","\\","^","`"].concat(Sm),go=["'"].concat(_m),za=["%","/","?",";","#"].concat(go),Ga=["/","?","#"],Em=255,Ha=/^[+a-z0-9A-Z_-]{0,63}$/,Am=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Im={javascript:!0,"javascript:":!0},yo={javascript:!0,"javascript:":!0},dn={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},vo=Fn;function Go(t,n,e){if(t&&yt.isObject(t)&&t instanceof ct)return t;var r=new ct;return r.parse(t,n,e),r}ct.prototype.parse=function(t,n,e){if(!yt.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",o=t.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),t=o.join(i);var u=t;if(u=u.trim(),!e&&t.split("#").length===1){var c=wm.exec(u);if(c)return this.path=u,this.href=u,this.pathname=c[1],c[2]?(this.search=c[2],n?this.query=vo.parse(this.search.substr(1)):this.query=this.search.substr(1)):n&&(this.search="",this.query={}),this}var a=mm.exec(u);if(a){a=a[0];var l=a.toLowerCase();this.protocol=l,u=u.substr(a.length)}if(e||a||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var f=u.substr(0,2)==="//";f&&!(a&&yo[a])&&(u=u.substr(2),this.slashes=!0)}if(!yo[a]&&(f||a&&!dn[a])){for(var g=-1,v=0;v<Ga.length;v++){var b=u.indexOf(Ga[v]);b!==-1&&(g===-1||b<g)&&(g=b)}var _,T;g===-1?T=u.lastIndexOf("@"):T=u.lastIndexOf("@",g),T!==-1&&(_=u.slice(0,T),u=u.slice(T+1),this.auth=decodeURIComponent(_)),g=-1;for(var v=0;v<za.length;v++){var b=u.indexOf(za[v]);b!==-1&&(g===-1||b<g)&&(g=b)}g===-1&&(g=u.length),this.host=u.slice(0,g),u=u.slice(g),this.parseHost(),this.hostname=this.hostname||"";var O=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!O)for(var I=this.hostname.split(/\./),v=0,N=I.length;v<N;v++){var U=I[v];if(U&&!U.match(Ha)){for(var D="",z=0,H=U.length;z<H;z++)U.charCodeAt(z)>127?D+="x":D+=U[z];if(!D.match(Ha)){var k=I.slice(0,v),W=I.slice(v+1),p=U.match(Am);p&&(k.push(p[1]),W.unshift(p[2])),W.length&&(u="/"+W.join(".")+u),this.hostname=k.join(".");break}}}this.hostname.length>Em?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=ym.toASCII(this.hostname));var y=this.port?":"+this.port:"",m=this.hostname||"";this.host=m+y,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),u[0]!=="/"&&(u="/"+u))}if(!Im[l])for(var v=0,N=go.length;v<N;v++){var E=go[v];if(u.indexOf(E)!==-1){var A=encodeURIComponent(E);A===E&&(A=escape(E)),u=u.split(E).join(A)}}var S=u.indexOf("#");S!==-1&&(this.hash=u.substr(S),u=u.slice(0,S));var P=u.indexOf("?");if(P!==-1?(this.search=u.substr(P),this.query=u.substr(P+1),n&&(this.query=vo.parse(this.query)),u=u.slice(0,P)):n&&(this.search="",this.query={}),u&&(this.pathname=u),dn[l]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var y=this.pathname||"",V=this.search||"";this.path=y+V}return this.href=this.format(),this};function Tm(t){return yt.isString(t)&&(t=Go(t)),t instanceof ct?t.format():ct.prototype.format.call(t)}ct.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var n=this.protocol||"",e=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&yt.isObject(this.query)&&Object.keys(this.query).length&&(o=vo.stringify(this.query));var s=this.search||o&&"?"+o||"";return n&&n.substr(-1)!==":"&&(n+=":"),this.slashes||(!n||dn[n])&&i!==!1?(i="//"+(i||""),e&&e.charAt(0)!=="/"&&(e="/"+e)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),s&&s.charAt(0)!=="?"&&(s="?"+s),e=e.replace(/[?#]/g,function(u){return encodeURIComponent(u)}),s=s.replace("#","%23"),n+i+e+s+r};ct.prototype.resolve=function(t){return this.resolveObject(Go(t,!1,!0)).format()};ct.prototype.resolveObject=function(t){if(yt.isString(t)){var n=new ct;n.parse(t,!1,!0),t=n}for(var e=new ct,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];e[o]=this[o]}if(e.hash=t.hash,t.href==="")return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),u=0;u<s.length;u++){var c=s[u];c!=="protocol"&&(e[c]=t[c])}return dn[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!dn[t.protocol]){for(var a=Object.keys(t),l=0;l<a.length;l++){var f=a[l];e[f]=t[f]}return e.href=e.format(),e}if(e.protocol=t.protocol,!t.host&&!yo[t.protocol]){for(var N=(t.pathname||"").split("/");N.length&&!(t.host=N.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),N[0]!==""&&N.unshift(""),N.length<2&&N.unshift(""),e.pathname=N.join("/")}else e.pathname=t.pathname;if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var g=e.pathname||"",v=e.search||"";e.path=g+v}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var b=e.pathname&&e.pathname.charAt(0)==="/",_=t.host||t.pathname&&t.pathname.charAt(0)==="/",T=_||b||e.host&&t.pathname,O=T,I=e.pathname&&e.pathname.split("/")||[],N=t.pathname&&t.pathname.split("/")||[],U=e.protocol&&!dn[e.protocol];if(U&&(e.hostname="",e.port=null,e.host&&(I[0]===""?I[0]=e.host:I.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(N[0]===""?N[0]=t.host:N.unshift(t.host)),t.host=null),T=T&&(N[0]===""||I[0]==="")),_)e.host=t.host||t.host===""?t.host:e.host,e.hostname=t.hostname||t.hostname===""?t.hostname:e.hostname,e.search=t.search,e.query=t.query,I=N;else if(N.length)I||(I=[]),I.pop(),I=I.concat(N),e.search=t.search,e.query=t.query;else if(!yt.isNullOrUndefined(t.search)){if(U){e.hostname=e.host=I.shift();var D=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;D&&(e.auth=D.shift(),e.host=e.hostname=D.shift())}return e.search=t.search,e.query=t.query,(!yt.isNull(e.pathname)||!yt.isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!I.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var z=I.slice(-1)[0],H=(e.host||t.host||I.length>1)&&(z==="."||z==="..")||z==="",k=0,W=I.length;W>=0;W--)z=I[W],z==="."?I.splice(W,1):z===".."?(I.splice(W,1),k++):k&&(I.splice(W,1),k--);if(!T&&!O)for(;k--;k)I.unshift("..");T&&I[0]!==""&&(!I[0]||I[0].charAt(0)!=="/")&&I.unshift(""),H&&I.join("/").substr(-1)!=="/"&&I.push("");var p=I[0]===""||I[0]&&I[0].charAt(0)==="/";if(U){e.hostname=e.host=p?"":I.length?I.shift():"";var D=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;D&&(e.auth=D.shift(),e.host=e.hostname=D.shift())}return T=T||e.host&&I.length,T&&!p&&I.unshift(""),I.length?e.pathname=I.join("/"):(e.pathname=null,e.path=null),(!yt.isNull(e.pathname)||!yt.isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e};ct.prototype.parseHost=function(){var t=this.host,n=bm.exec(t);n&&(n=n[0],n!==":"&&(this.port=n.substr(1)),t=t.substr(0,t.length-n.length)),t&&(this.hostname=t)};var Cm="_self",km=function(t){var n=window.open(t,Cm);return n?Promise.resolve(n):Promise.reject()},Om=function(t){window.sessionStorage.setItem("oauth_state",t)},Pm=function(){var t=window.sessionStorage.getItem("oauth_state");return window.sessionStorage.removeItem("oauth_state"),t},xm=function(t){window.sessionStorage.setItem("ouath_pkce_key",t)},Nm=function(){var t=window.sessionStorage.getItem("ouath_pkce_key");return window.sessionStorage.removeItem("ouath_pkce_key"),t},Rm=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",di=function(t,n,e){gt.dispatch("auth",{event:t,data:n,message:e},"Auth",Rm)},on=new ye("OAuth"),Um=function(){function t(n){var e=n.config,r=n.cognitoClientId,i=n.scopes,o=i===void 0?[]:i;if(this._urlOpener=e.urlOpener||km,this._config=e,this._cognitoClientId=r,!this.isValidScopes(o))throw Error("scopes must be a String Array");this._scopes=o}return t.prototype.isValidScopes=function(n){return Array.isArray(n)&&n.every(function(e){return typeof e=="string"})},t.prototype.oauthSignIn=function(n,e,r,i,o,s){n===void 0&&(n="code"),o===void 0&&(o=Ir.Cognito);var u=this._generateState(32),c=s?u+"-"+nf(s):u;Om(c);var a=this._generateRandom(128);xm(a);var l=this._generateChallenge(a),f="S256",g=this._scopes.join(" "),v=Object.entries(Ce(Ce({redirect_uri:r,response_type:n,client_id:i,identity_provider:o,scope:g,state:c},n==="code"?{code_challenge:l}:{}),n==="code"?{code_challenge_method:f}:{})).map(function(_){var T=It(_,2),O=T[0],I=T[1];return encodeURIComponent(O)+"="+encodeURIComponent(I)}).join("&"),b="https://"+e+"/oauth2/authorize?"+v;on.debug("Redirecting to "+b),this._urlOpener(b,r)},t.prototype._handleCodeFlow=function(n){return re(this,void 0,void 0,function(){var e,r,i,o,s,u,c,a,l,f,g,v,b,_;return ie(this,function(T){switch(T.label){case 0:return e=(vt(n).query||"").split("&").map(function(O){return O.split("=")}).reduce(function(O,I){var N,U=It(I,2),D=U[0],z=U[1];return Ce(Ce({},O),(N={},N[D]=z,N))},{code:void 0}).code,r=vt(n).pathname||"/",i=vt(this._config.redirectSignIn).pathname||"/",!e||r!==i?[2]:(o="https://"+this._config.domain+"/oauth2/token",di("codeFlow",{},"Retrieving tokens from "+o),s=Xt(this._config)?this._cognitoClientId:this._config.clientID,u=Xt(this._config)?this._config.redirectSignIn:this._config.redirectUri,c=Nm(),a=Ce({grant_type:"authorization_code",code:e,client_id:s,redirect_uri:u},c?{code_verifier:c}:{}),on.debug("Calling token endpoint: "+o+" with",a),l=Object.entries(a).map(function(O){var I=It(O,2),N=I[0],U=I[1];return encodeURIComponent(N)+"="+encodeURIComponent(U)}).join("&"),[4,fetch(o,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:l})]);case 1:return[4,T.sent().json()];case 2:if(f=T.sent(),g=f.access_token,v=f.refresh_token,b=f.id_token,_=f.error,_)throw new Error(_);return[2,{accessToken:g,refreshToken:v,idToken:b}]}})})},t.prototype._handleImplicitFlow=function(n){return re(this,void 0,void 0,function(){var e,r,i;return ie(this,function(o){return e=(vt(n).hash||"#").substr(1).split("&").map(function(s){return s.split("=")}).reduce(function(s,u){var c,a=It(u,2),l=a[0],f=a[1];return Ce(Ce({},s),(c={},c[l]=f,c))},{id_token:void 0,access_token:void 0}),r=e.id_token,i=e.access_token,di("implicitFlow",{},"Got tokens from "+n),on.debug("Retrieving implicit tokens from "+n+" with"),[2,{accessToken:i,idToken:r,refreshToken:null}]})})},t.prototype.handleAuthResponse=function(n){return re(this,void 0,void 0,function(){var e,r,i,o,s,u,c;return ie(this,function(a){switch(a.label){case 0:if(a.trys.push([0,5,,6]),e=n?Ce(Ce({},(vt(n).hash||"#").substr(1).split("&").map(function(l){return l.split("=")}).reduce(function(l,f){var g=It(f,2),v=g[0],b=g[1];return l[v]=b,l},{})),(vt(n).query||"").split("&").map(function(l){return l.split("=")}).reduce(function(l,f){var g=It(f,2),v=g[0],b=g[1];return l[v]=b,l},{})):{},r=e.error,i=e.error_description,r)throw new Error(i);return o=this._validateState(e),on.debug("Starting "+this._config.responseType+" flow with "+n),this._config.responseType!=="code"?[3,2]:(s=[{}],[4,this._handleCodeFlow(n)]);case 1:return[2,Ce.apply(void 0,[Ce.apply(void 0,s.concat([a.sent()])),{state:o}])];case 2:return u=[{}],[4,this._handleImplicitFlow(n)];case 3:return[2,Ce.apply(void 0,[Ce.apply(void 0,u.concat([a.sent()])),{state:o}])];case 4:return[3,6];case 5:throw c=a.sent(),on.debug("Error handling auth response.",c),c;case 6:return[2]}})})},t.prototype._validateState=function(n){if(n){var e=Pm(),r=n.state;if(e&&e!==r)throw new Error("Invalid state in OAuth flow");return r}},t.prototype.signOut=function(){return re(this,void 0,void 0,function(){var n,e,r;return ie(this,function(i){return n="https://"+this._config.domain+"/logout?",e=Xt(this._config)?this._cognitoClientId:this._config.oauth.clientID,r=Xt(this._config)?this._config.redirectSignOut:this._config.returnTo,n+=Object.entries({client_id:e,logout_uri:encodeURIComponent(r)}).map(function(o){var s=It(o,2),u=s[0],c=s[1];return u+"="+c}).join("&"),di("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+n),on.debug("Signing out from "+n),[2,this._urlOpener(n,r)]})})},t.prototype._generateState=function(n){for(var e="",r=n,i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";r>0;--r)e+=i[Math.round(Math.random()*(i.length-1))];return e},t.prototype._generateChallenge=function(n){var e=new Ot.Sha256;e.update(n);var r=e.digestSync(),i=se.Buffer.from(r).toString("base64"),o=this._base64URL(i);return o},t.prototype._base64URL=function(n){return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},t.prototype._generateRandom=function(n){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=new Uint8Array(n);if(typeof window<"u"&&window.crypto)window.crypto.getRandomValues(r);else for(var i=0;i<n;i+=1)r[i]=Math.random()*e.length|0;return this._bufferToString(r)},t.prototype._bufferToString=function(n){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=[],i=0;i<n.byteLength;i+=1){var o=n[i]%e.length;r.push(e[o])}return r.join("")},t}();const Dm=Um,Mm=function(t){if(lt().isBrowser&&window.location){var n=window.location.href;t({url:n})}else if(!lt().isNode)throw new Error("Not supported")};var Te;(function(t){t.DEFAULT_MSG="Authentication Error",t.EMPTY_EMAIL="Email cannot be empty",t.EMPTY_PHONE="Phone number cannot be empty",t.EMPTY_USERNAME="Username cannot be empty",t.INVALID_USERNAME="The username should either be a string or one of the sign in types",t.EMPTY_PASSWORD="Password cannot be empty",t.EMPTY_CODE="Confirmation code cannot be empty",t.SIGN_UP_ERROR="Error creating account",t.NO_MFA="No valid MFA method provided",t.INVALID_MFA="Invalid MFA type",t.EMPTY_CHALLENGE="Challenge response cannot be empty",t.NO_USER_SESSION="Failed to get the session because the user is empty",t.NETWORK_ERROR="Network Error",t.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",t.AUTOSIGNIN_ERROR="Please use your credentials to sign in"})(Te||(Te={}));var jm=new ye("AuthError"),Dt=function(t){Yc(n,t);function n(e){var r=this,i=Fm[e],o=i.message,s=i.log;return r=t.call(this,o)||this,r.constructor=n,Object.setPrototypeOf(r,n.prototype),r.name="AuthError",r.log=s||o,jm.error(r.log),r}return n}(Error),Lm=function(t){Yc(n,t);function n(e){var r=t.call(this,e)||this;return r.constructor=n,Object.setPrototypeOf(r,n.prototype),r.name="NoUserPoolError",r}return n}(Dt),Fm={noConfig:{message:Te.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly.
            This error is typically caused by one of the following scenarios:

            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point
                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information
            
            2. There might be multiple conflicting versions of amplify packages in your node_modules.
				Refer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)
        `},missingAuthConfig:{message:Te.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly. 
            The configuration object is missing required auth properties.
            This error is typically caused by one of the following scenarios:

            1. Did you run \`amplify push\` after adding auth via \`amplify add auth\`?
                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information

            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.
        `},emptyUsername:{message:Te.EMPTY_USERNAME},invalidUsername:{message:Te.INVALID_USERNAME},emptyPassword:{message:Te.EMPTY_PASSWORD},emptyCode:{message:Te.EMPTY_CODE},signUpError:{message:Te.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:Te.NO_MFA},invalidMFA:{message:Te.INVALID_MFA},emptyChallengeResponse:{message:Te.EMPTY_CHALLENGE},noUserSession:{message:Te.NO_USER_SESSION},deviceConfig:{message:Te.DEVICE_CONFIG},networkError:{message:Te.NETWORK_ERROR},autoSignInError:{message:Te.AUTOSIGNIN_ERROR},default:{message:Te.DEFAULT_MSG}},K=new ye("AuthClass"),Wa="aws.cognito.signin.user.admin",Bm=10*1e3,qm=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",ne=function(t,n,e){gt.dispatch("auth",{event:t,data:n,message:e},"Auth",qm)},Km=60,Vm=3*60*1e3,zm=function(){function t(n){var e=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.autoSignInInitiated=!1,this.inflightSessionPromise=null,this.inflightSessionPromiseCounter=0,this.Credentials=xt,this.wrapRefreshSessionCallback=function(r){var i=function(o,s){return s?ne("tokenRefresh",void 0,"New token retrieved"):ne("tokenRefresh_failure",o,"Failed to retrieve new token"),r(o,s)};return i},this.configure(n),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),gt.listen("auth",function(r){var i=r.payload,o=i.event;switch(o){case"verify":case"signIn":e._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":e._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":e._storage.setItem("amplify-signin-with-hostedUI","true");break}})}return t.prototype.getModuleName=function(){return"Auth"},t.prototype.configure=function(n){var e=this;if(!n)return this._config||{};K.debug("configure Auth");var r=Object.assign({},this._config,rc(n).Auth,n);this._config=r;var i=this._config,o=i.userPoolId,s=i.userPoolWebClientId,u=i.cookieStorage,c=i.oauth,a=i.region,l=i.identityPoolId,f=i.mandatorySignIn,g=i.refreshHandlers,v=i.identityPoolRegion,b=i.clientMetadata,_=i.endpoint,T=i.storage;if(!T)u?this._storage=new lm(u):this._storage=n.ssr?new Ry:new Bo().getStorage();else{if(!this._isValidAuthStorage(T))throw K.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=T}if(this._storageSync=Promise.resolve(),typeof this._storage.sync=="function"&&(this._storageSync=this._storage.sync()),o){var O={UserPoolId:o,ClientId:s,endpoint:_};O.Storage=this._storage,this.userPool=new cm(O,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:f,region:a,userPoolId:o,identityPoolId:l,refreshHandlers:g,storage:this._storage,identityPoolRegion:v});var I=c?Xt(this._config.oauth)?c:c.awsCognito:void 0;if(I){var N=Object.assign({cognitoClientId:s,UserPoolId:o,domain:I.domain,scopes:I.scope,redirectSignIn:I.redirectSignIn,redirectSignOut:I.redirectSignOut,responseType:I.responseType,Storage:this._storage,urlOpener:I.urlOpener,clientMetadata:b},I.options);this._oAuthHandler=new Dm({scopes:N.scopes,config:N,cognitoClientId:N.cognitoClientId});var U={};Mm(function(z){var H=z.url;U[H]||(U[H]=!0,e._handleAuthResponse(H))})}if(ne("configured",null,"The Auth category has been configured successfully"),!this.autoSignInInitiated&&typeof this._storage.getItem=="function"){var D=this.isTrueStorageValue("amplify-polling-started");D&&(ne("autoSignIn_failure",null,oe.AutoSignInError),this._storage.removeItem("amplify-auto-sign-in")),this._storage.removeItem("amplify-polling-started")}return this._config},t.prototype.signUp=function(n){for(var e=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o,s,u;if(!this.userPool)return this.rejectNoUserPool();var c=null,a=null,l=[],f=null,g,v={enabled:!1},b={},_={};if(n&&typeof n=="string"){c=n,a=r?r[0]:null;var T=r?r[1]:null,O=r?r[2]:null;T&&l.push(new cn({Name:"email",Value:T})),O&&l.push(new cn({Name:"phone_number",Value:O}))}else if(n&&typeof n=="object"){c=n.username,a=n.password,n&&n.clientMetadata?g=n.clientMetadata:this._config.clientMetadata&&(g=this._config.clientMetadata);var I=n.attributes;I&&Object.keys(I).map(function(U){l.push(new cn({Name:U,Value:I[U]}))});var N=n.validationData;N&&(f=[],Object.keys(N).map(function(U){f.push(new cn({Name:U,Value:N[U]}))})),v=(o=n.autoSignIn)!==null&&o!==void 0?o:{enabled:!1},v.enabled&&(this._storage.setItem("amplify-auto-sign-in","true"),b=(s=v.validationData)!==null&&s!==void 0?s:{},_=(u=v.clientMetaData)!==null&&u!==void 0?u:{})}else return this.rejectAuthError(oe.SignUpError);return c?a?(K.debug("signUp attrs:",l),K.debug("signUp validation data:",f),new Promise(function(U,D){e.userPool.signUp(c,a,l,f,function(z,H){z?(ne("signUp_failure",z,c+" failed to signup"),D(z)):(ne("signUp",H,c+" has signed up successfully"),v.enabled&&e.handleAutoSignIn(c,a,b,_,H),U(H))},g)})):this.rejectAuthError(oe.EmptyPassword):this.rejectAuthError(oe.EmptyUsername)},t.prototype.handleAutoSignIn=function(n,e,r,i,o){this.autoSignInInitiated=!0;var s=new ja({Username:n,Password:e,ValidationData:r,ClientMetadata:i});o.userConfirmed?this.signInAfterUserConfirmed(s):this._config.signUpVerificationMethod==="link"?this.handleLinkAutoSignIn(s):this.handleCodeAutoSignIn(s)},t.prototype.handleCodeAutoSignIn=function(n){var e=this,r=function(i){var o=i.payload;o.event==="confirmSignUp"&&e.signInAfterUserConfirmed(n,r)};gt.listen("auth",r)},t.prototype.handleLinkAutoSignIn=function(n){var e=this;this._storage.setItem("amplify-polling-started","true");var r=Date.now(),i=setInterval(function(){Date.now()-r>Vm?(clearInterval(i),ne("autoSignIn_failure",null,"Please confirm your account and use your credentials to sign in."),e._storage.removeItem("amplify-auto-sign-in")):e.signInAfterUserConfirmed(n,null,i)},5e3)},t.prototype.signInAfterUserConfirmed=function(n,e,r){return re(this,void 0,void 0,function(){var i,o,s=this;return ie(this,function(u){switch(u.label){case 0:i=this.createCognitoUser(n.getUsername()),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,i.authenticateUser(n,this.authCallbacks(i,function(c){ne("autoSignIn",c,n.getUsername()+" has signed in successfully"),e&&gt.remove("auth",e),r&&(clearInterval(r),s._storage.removeItem("amplify-polling-started")),s._storage.removeItem("amplify-auto-sign-in")},function(c){K.error(c),s._storage.removeItem("amplify-auto-sign-in")}))];case 2:return u.sent(),[3,4];case 3:return o=u.sent(),K.error(o),[3,4];case 4:return[2]}})})},t.prototype.confirmSignUp=function(n,e,r){var i=this;if(!this.userPool)return this.rejectNoUserPool();if(!n)return this.rejectAuthError(oe.EmptyUsername);if(!e)return this.rejectAuthError(oe.EmptyCode);var o=this.createCognitoUser(n),s=r&&typeof r.forceAliasCreation=="boolean"?r.forceAliasCreation:!0,u;return r&&r.clientMetadata?u=r.clientMetadata:this._config.clientMetadata&&(u=this._config.clientMetadata),new Promise(function(c,a){o.confirmRegistration(e,s,function(l,f){if(l)a(l);else{ne("confirmSignUp",f,n+" has been confirmed successfully");var g=i.isTrueStorageValue("amplify-auto-sign-in");g&&!i.autoSignInInitiated&&(ne("autoSignIn_failure",null,oe.AutoSignInError),i._storage.removeItem("amplify-auto-sign-in")),c(f)}},u)})},t.prototype.isTrueStorageValue=function(n){var e=this._storage.getItem(n);return e?e==="true":!1},t.prototype.resendSignUp=function(n,e){if(e===void 0&&(e=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!n)return this.rejectAuthError(oe.EmptyUsername);var r=this.createCognitoUser(n);return new Promise(function(i,o){r.resendConfirmationCode(function(s,u){s?o(s):i(u)},e)})},t.prototype.signIn=function(n,e,r){if(r===void 0&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var i=null,o=null,s={};if(typeof n=="string")i=n,o=e;else if(Vy(n))typeof e<"u"&&K.warn("The password should be defined under the first parameter object!"),i=n.username,o=n.password,s=n.validationData;else return this.rejectAuthError(oe.InvalidUsername);if(!i)return this.rejectAuthError(oe.EmptyUsername);var u=new ja({Username:i,Password:o,ValidationData:s,ClientMetadata:r});return o?this.signInWithPassword(u):this.signInWithoutPassword(u)},t.prototype.authCallbacks=function(n,e,r){var i=this,o=this;return{onSuccess:function(s){return re(i,void 0,void 0,function(){var u,c,a,l;return ie(this,function(f){switch(f.label){case 0:K.debug(s),delete n.challengeName,delete n.challengeParam,f.label=1;case 1:return f.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return f.sent(),[4,this.Credentials.set(s,"session")];case 3:return u=f.sent(),K.debug("succeed to get cognito credentials",u),[3,9];case 4:return c=f.sent(),K.debug("cannot get cognito credentials",c),[3,9];case 5:return f.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return a=f.sent(),o.user=a,ne("signIn",a,"A user "+n.getUsername()+" has been signed in"),e(a),[3,8];case 7:return l=f.sent(),K.error("Failed to get the signed in user",l),r(l),[3,8];case 8:return[7];case 9:return[2]}})})},onFailure:function(s){K.debug("signIn failure",s),ne("signIn_failure",s,n.getUsername()+" failed to signin"),r(s)},customChallenge:function(s){K.debug("signIn custom challenge answer required"),n.challengeName="CUSTOM_CHALLENGE",n.challengeParam=s,e(n)},mfaRequired:function(s,u){K.debug("signIn MFA required"),n.challengeName=s,n.challengeParam=u,e(n)},mfaSetup:function(s,u){K.debug("signIn mfa setup",s),n.challengeName=s,n.challengeParam=u,e(n)},newPasswordRequired:function(s,u){K.debug("signIn new password"),n.challengeName="NEW_PASSWORD_REQUIRED",n.challengeParam={userAttributes:s,requiredAttributes:u},e(n)},totpRequired:function(s,u){K.debug("signIn totpRequired"),n.challengeName=s,n.challengeParam=u,e(n)},selectMFAType:function(s,u){K.debug("signIn selectMFAType",s),n.challengeName=s,n.challengeParam=u,e(n)}}},t.prototype.signInWithPassword=function(n){var e=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var r=this.createCognitoUser(n.getUsername());return this.pendingSignIn=new Promise(function(i,o){r.authenticateUser(n,e.authCallbacks(r,function(s){e.pendingSignIn=null,i(s)},function(s){e.pendingSignIn=null,o(s)}))}),this.pendingSignIn},t.prototype.signInWithoutPassword=function(n){var e=this,r=this.createCognitoUser(n.getUsername());return r.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise(function(i,o){r.initiateAuth(n,e.authCallbacks(r,i,o))})},t.prototype.getMFAOptions=function(n){return new Promise(function(e,r){n.getMFAOptions(function(i,o){if(i){K.debug("get MFA Options failed",i),r(i);return}K.debug("get MFA options success",o),e(o)})})},t.prototype.getPreferredMFA=function(n,e){var r=this,i=this;return new Promise(function(o,s){var u=r._config.clientMetadata,c=e?e.bypassCache:!1;n.getUserData(function(a,l){return re(r,void 0,void 0,function(){var f,g;return ie(this,function(v){switch(v.label){case 0:if(!a)return[3,5];if(K.debug("getting preferred mfa failed",a),!this.isSessionInvalid(a))return[3,4];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return v.sent(),[3,4];case 3:return f=v.sent(),s(new Error("Session is invalid due to: "+a.message+" and failed to clean up invalid session: "+f.message)),[2];case 4:return s(a),[2];case 5:return g=i._getMfaTypeFromUserData(l),g?(o(g),[2]):(s("invalid MFA Type"),[2])}})})},{bypassCache:c,clientMetadata:u})})},t.prototype._getMfaTypeFromUserData=function(n){var e=null,r=n.PreferredMfaSetting;if(r)e=r;else{var i=n.UserMFASettingList;if(i)i.length===0?e="NOMFA":K.debug("invalid case for getPreferredMFA",n);else{var o=n.MFAOptions;o?e="SMS_MFA":e="NOMFA"}}return e},t.prototype._getUserData=function(n,e){var r=this;return new Promise(function(i,o){n.getUserData(function(s,u){return re(r,void 0,void 0,function(){var c;return ie(this,function(a){switch(a.label){case 0:if(!s)return[3,5];if(K.debug("getting user data failed",s),!this.isSessionInvalid(s))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return a.sent(),[3,4];case 3:return c=a.sent(),o(new Error("Session is invalid due to: "+s.message+" and failed to clean up invalid session: "+c.message)),[2];case 4:return o(s),[2];case 5:i(u),a.label=6;case 6:return[2]}})})},e)})},t.prototype.setPreferredMFA=function(n,e){return re(this,void 0,void 0,function(){var r,i,o,s,u,c,a,l=this;return ie(this,function(f){switch(f.label){case 0:return r=this._config.clientMetadata,[4,this._getUserData(n,{bypassCache:!0,clientMetadata:r})];case 1:switch(i=f.sent(),o=null,s=null,u=e,u){case"TOTP":return[3,2];case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":return[3,3];case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return s={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return c=i.UserMFASettingList,[4,this._getMfaTypeFromUserData(i)];case 5:if(a=f.sent(),a==="NOMFA")return[2,Promise.resolve("No change for mfa type")];if(a==="SMS_MFA")o={PreferredMfa:!1,Enabled:!1};else if(a==="SOFTWARE_TOKEN_MFA")s={PreferredMfa:!1,Enabled:!1};else return[2,this.rejectAuthError(oe.InvalidMFA)];return c&&c.length!==0&&c.forEach(function(g){g==="SMS_MFA"?o={PreferredMfa:!1,Enabled:!1}:g==="SOFTWARE_TOKEN_MFA"&&(s={PreferredMfa:!1,Enabled:!1})}),[3,7];case 6:return K.debug("no validmfa method provided"),[2,this.rejectAuthError(oe.NoMFA)];case 7:return[2,new Promise(function(g,v){n.setUserMfaPreference(o,s,function(b,_){if(b)return K.debug("Set user mfa preference error",b),v(b);K.debug("Set user mfa success",_),K.debug("Caching the latest user data into local"),n.getUserData(function(T,O){return re(l,void 0,void 0,function(){var I;return ie(this,function(N){switch(N.label){case 0:if(!T)return[3,5];if(K.debug("getting user data failed",T),!this.isSessionInvalid(T))return[3,4];N.label=1;case 1:return N.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return N.sent(),[3,4];case 3:return I=N.sent(),v(new Error("Session is invalid due to: "+T.message+" and failed to clean up invalid session: "+I.message)),[2];case 4:return[2,v(T)];case 5:return[2,g(_)]}})})},{bypassCache:!0,clientMetadata:r})})})]}})})},t.prototype.disableSMS=function(n){return new Promise(function(e,r){n.disableMFA(function(i,o){if(i){K.debug("disable mfa failed",i),r(i);return}K.debug("disable mfa succeed",o),e(o)})})},t.prototype.enableSMS=function(n){return new Promise(function(e,r){n.enableMFA(function(i,o){if(i){K.debug("enable mfa failed",i),r(i);return}K.debug("enable mfa succeed",o),e(o)})})},t.prototype.setupTOTP=function(n){return new Promise(function(e,r){n.associateSoftwareToken({onFailure:function(i){K.debug("associateSoftwareToken failed",i),r(i)},associateSecretCode:function(i){K.debug("associateSoftwareToken success",i),e(i)}})})},t.prototype.verifyTotpToken=function(n,e){K.debug("verification totp token",n,e);var r;n&&typeof n.getSignInUserSession=="function"&&(r=n.getSignInUserSession());var i=r==null?void 0:r.isValid();return new Promise(function(o,s){n.verifySoftwareToken(e,"My TOTP device",{onFailure:function(u){K.debug("verifyTotpToken failed",u),s(u)},onSuccess:function(u){i||ne("signIn",n,"A user "+n.getUsername()+" has been signed in"),ne("verify",n,"A user "+n.getUsername()+" has been verified"),K.debug("verifyTotpToken success",u),o(u)}})})},t.prototype.confirmSignIn=function(n,e,r,i){var o=this;if(i===void 0&&(i=this._config.clientMetadata),!e)return this.rejectAuthError(oe.EmptyCode);var s=this;return new Promise(function(u,c){n.sendMFACode(e,{onSuccess:function(a){return re(o,void 0,void 0,function(){var l,f,g,v;return ie(this,function(b){switch(b.label){case 0:K.debug(a),b.label=1;case 1:return b.trys.push([1,4,5,10]),[4,this.Credentials.clear()];case 2:return b.sent(),[4,this.Credentials.set(a,"session")];case 3:return l=b.sent(),K.debug("succeed to get cognito credentials",l),[3,10];case 4:return f=b.sent(),K.debug("cannot get cognito credentials",f),[3,10];case 5:s.user=n,b.label=6;case 6:return b.trys.push([6,8,,9]),[4,this.currentUserPoolUser()];case 7:return g=b.sent(),n.attributes=g.attributes,[3,9];case 8:return v=b.sent(),K.debug("cannot get updated Cognito User",v),[3,9];case 9:return ne("signIn",n,"A user "+n.getUsername()+" has been signed in"),u(n),[7];case 10:return[2]}})})},onFailure:function(a){K.debug("confirm signIn failure",a),c(a)}},r,i)})},t.prototype.completeNewPassword=function(n,e,r,i){var o=this;if(r===void 0&&(r={}),i===void 0&&(i=this._config.clientMetadata),!e)return this.rejectAuthError(oe.EmptyPassword);var s=this;return new Promise(function(u,c){n.completeNewPasswordChallenge(e,r,{onSuccess:function(a){return re(o,void 0,void 0,function(){var l,f;return ie(this,function(g){switch(g.label){case 0:K.debug(a),g.label=1;case 1:return g.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return g.sent(),[4,this.Credentials.set(a,"session")];case 3:return l=g.sent(),K.debug("succeed to get cognito credentials",l),[3,6];case 4:return f=g.sent(),K.debug("cannot get cognito credentials",f),[3,6];case 5:return s.user=n,ne("signIn",n,"A user "+n.getUsername()+" has been signed in"),u(n),[7];case 6:return[2]}})})},onFailure:function(a){K.debug("completeNewPassword failure",a),ne("completeNewPassword_failure",a,o.user+" failed to complete the new password flow"),c(a)},mfaRequired:function(a,l){K.debug("signIn MFA required"),n.challengeName=a,n.challengeParam=l,u(n)},mfaSetup:function(a,l){K.debug("signIn mfa setup",a),n.challengeName=a,n.challengeParam=l,u(n)},totpRequired:function(a,l){K.debug("signIn mfa setup",a),n.challengeName=a,n.challengeParam=l,u(n)}},i)})},t.prototype.sendCustomChallengeAnswer=function(n,e,r){var i=this;return r===void 0&&(r=this._config.clientMetadata),this.userPool?e?new Promise(function(o,s){n.sendCustomChallengeAnswer(e,i.authCallbacks(n,o,s),r)}):this.rejectAuthError(oe.EmptyChallengeResponse):this.rejectNoUserPool()},t.prototype.deleteUserAttributes=function(n,e){var r=this;return new Promise(function(i,o){r.userSession(n).then(function(s){n.deleteAttributes(e,function(u,c){return u?o(u):i(c)})})})},t.prototype.deleteUser=function(){return re(this,void 0,void 0,function(){var n,e,r=this;return ie(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._storageSync];case 1:return i.sent(),[3,3];case 2:throw n=i.sent(),K.debug("Failed to sync cache info into memory",n),new Error(n);case 3:return e=this._oAuthHandler&&this._storage.getItem("amplify-signin-with-hostedUI")==="true",[2,new Promise(function(o,s){return re(r,void 0,void 0,function(){var u,c=this;return ie(this,function(a){if(this.userPool)if(u=this.userPool.getCurrentUser(),u)u.getSession(function(l,f){return re(c,void 0,void 0,function(){var g,v=this;return ie(this,function(b){switch(b.label){case 0:if(!l)return[3,5];if(K.debug("Failed to get the user session",l),!this.isSessionInvalid(l))return[3,4];b.label=1;case 1:return b.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(u)];case 2:return b.sent(),[3,4];case 3:return g=b.sent(),s(new Error("Session is invalid due to: "+l.message+" and failed to clean up invalid session: "+g.message)),[2];case 4:return[2,s(l)];case 5:u.deleteUser(function(_,T){if(_)s(_);else{ne("userDeleted",T,"The authenticated user has been deleted."),u.signOut(),v.user=null;try{v.cleanCachedItems()}catch{K.debug("failed to clear cached items")}e?v.oAuthSignOutRedirect(o,s):(ne("signOut",v.user,"A user has been signed out"),o(T))}}),b.label=6;case 6:return[2]}})})});else return K.debug("Failed to get user from user pool"),[2,s(new Error("No current user."))];else K.debug("no Congito User pool"),s(new Error("Cognito User pool does not exist"));return[2]})})})]}})})},t.prototype.updateUserAttributes=function(n,e,r){var i=this;r===void 0&&(r=this._config.clientMetadata);var o=[],s=this;return new Promise(function(u,c){s.userSession(n).then(function(a){for(var l in e)if(l!=="sub"&&l.indexOf("_verified")<0){var f={Name:l,Value:e[l]};o.push(f)}n.updateAttributes(o,function(g,v,b){if(g)return ne("updateUserAttributes_failure",g,"Failed to update attributes"),c(g);var _=i.createUpdateAttributesResultList(e,b==null?void 0:b.CodeDeliveryDetailsList);return ne("updateUserAttributes",_,"Attributes successfully updated"),u(v)},r)})})},t.prototype.createUpdateAttributesResultList=function(n,e){var r={};return Object.keys(n).forEach(function(i){r[i]={isUpdated:!0};var o=e==null?void 0:e.find(function(s){return s.AttributeName===i});o&&(r[i].isUpdated=!1,r[i].codeDeliveryDetails=o)}),r},t.prototype.userAttributes=function(n){var e=this;return new Promise(function(r,i){e.userSession(n).then(function(o){n.getUserAttributes(function(s,u){s?i(s):r(u)})})})},t.prototype.verifiedContact=function(n){var e=this;return this.userAttributes(n).then(function(r){var i=e.attributesToObject(r),o={},s={};return i.email&&(i.email_verified?s.email=i.email:o.email=i.email),i.phone_number&&(i.phone_number_verified?s.phone_number=i.phone_number:o.phone_number=i.phone_number),{verified:s,unverified:o}})},t.prototype.isErrorWithMessage=function(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"message")},t.prototype.isTokenRevokedError=function(n){return this.isErrorWithMessage(n)&&n.message==="Access Token has been revoked"},t.prototype.isRefreshTokenRevokedError=function(n){return this.isErrorWithMessage(n)&&n.message==="Refresh Token has been revoked"},t.prototype.isUserDisabledError=function(n){return this.isErrorWithMessage(n)&&n.message==="User is disabled."},t.prototype.isUserDoesNotExistError=function(n){return this.isErrorWithMessage(n)&&n.message==="User does not exist."},t.prototype.isRefreshTokenExpiredError=function(n){return this.isErrorWithMessage(n)&&n.message==="Refresh Token has expired"},t.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&this._storage.getItem("amplify-signin-with-hostedUI")==="true"},t.prototype.isSessionInvalid=function(n){return this.isUserDisabledError(n)||this.isUserDoesNotExistError(n)||this.isTokenRevokedError(n)||this.isRefreshTokenRevokedError(n)||this.isRefreshTokenExpiredError(n)},t.prototype.cleanUpInvalidSession=function(n){return re(this,void 0,void 0,function(){var e=this;return ie(this,function(r){switch(r.label){case 0:n.signOut(),this.user=null,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return r.sent(),[3,4];case 3:return r.sent(),K.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise(function(i,o){e.oAuthSignOutRedirect(i,o)})]:(ne("signOut",this.user,"A user has been signed out"),[2])}})})},t.prototype.currentUserPoolUser=function(n){var e=this;return this.userPool?new Promise(function(r,i){e._storageSync.then(function(){return re(e,void 0,void 0,function(){var o,s,u,c,a,l,f,g=this;return ie(this,function(v){switch(v.label){case 0:return this.isOAuthInProgress()?(K.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise(function(b){var _=setTimeout(function(){K.debug("OAuth signIn in progress timeout"),gt.remove("auth",T),b()},Bm);gt.listen("auth",T);function T(O){var I=O.payload,N=I.event;(N==="cognitoHostedUI"||N==="cognitoHostedUI_failure")&&(K.debug("OAuth signIn resolved: "+N),clearTimeout(_),gt.remove("auth",T),b())}})]):[3,2];case 1:v.sent(),v.label=2;case 2:if(o=this.userPool.getCurrentUser(),!o)return K.debug("Failed to get user from user pool"),i("No current user"),[2];v.label=3;case 3:return v.trys.push([3,7,,8]),[4,this._userSession(o)];case 4:return s=v.sent(),u=n?n.bypassCache:!1,u?[4,this.Credentials.clear()]:[3,6];case 5:v.sent(),v.label=6;case 6:if(c=this._config.clientMetadata,a=s.getAccessToken().decodePayload().scope,l=a===void 0?"":a,l.split(" ").includes(Wa))o.getUserData(function(b,_){return re(g,void 0,void 0,function(){var T,O,I,N,U,D,z;return ie(this,function(H){switch(H.label){case 0:if(!b)return[3,7];if(K.debug("getting user data failed",b),!this.isSessionInvalid(b))return[3,5];H.label=1;case 1:return H.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(o)];case 2:return H.sent(),[3,4];case 3:return T=H.sent(),i(new Error("Session is invalid due to: "+b.message+" and failed to clean up invalid session: "+T.message)),[2];case 4:return i(b),[3,6];case 5:r(o),H.label=6;case 6:return[2];case 7:for(O=_.PreferredMfaSetting||"NOMFA",I=[],N=0;N<_.UserAttributes.length;N++)U={Name:_.UserAttributes[N].Name,Value:_.UserAttributes[N].Value},D=new cn(U),I.push(D);return z=this.attributesToObject(I),Object.assign(o,{attributes:z,preferredMFA:O}),[2,r(o)]}})})},{bypassCache:u,clientMetadata:c});else return K.debug("Unable to get the user data because the "+Wa+" is not in the scopes of the access token"),[2,r(o)];return[3,8];case 7:return f=v.sent(),i(f),[3,8];case 8:return[2]}})})}).catch(function(o){return K.debug("Failed to sync cache info into memory",o),i(o)})}):this.rejectNoUserPool()},t.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},t.prototype.currentAuthenticatedUser=function(n){return re(this,void 0,void 0,function(){var e,r,i,o,s;return ie(this,function(u){switch(u.label){case 0:K.debug("getting current authenticated user"),e=null,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this._storageSync];case 2:return u.sent(),[3,4];case 3:throw r=u.sent(),K.debug("Failed to sync cache info into memory",r),r;case 4:try{i=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")),i&&(e=Ce(Ce({},i.user),{token:i.token}))}catch{K.debug("cannot load federated user from auth storage")}return e?(this.user=e,K.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:K.debug("get current authenticated userpool user"),o=null,u.label=6;case 6:return u.trys.push([6,8,,9]),[4,this.currentUserPoolUser(n)];case 7:return o=u.sent(),[3,9];case 8:return s=u.sent(),s==="No userPool"&&K.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),K.debug("The user is not authenticated by the error",s),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=o,[2,this.user]}})})},t.prototype.currentSession=function(){var n=this;return K.debug("Getting current session"),this.userPool?new Promise(function(e,r){n.currentUserPoolUser().then(function(i){n.userSession(i).then(function(o){e(o)}).catch(function(o){K.debug("Failed to get the current session",o),r(o)})}).catch(function(i){K.debug("Failed to get the current user",i),r(i)})}):Promise.reject(new Error("No User Pool in the configuration."))},t.prototype._userSession=function(n){return re(this,void 0,void 0,function(){var e,r,i=this;return ie(this,function(o){switch(o.label){case 0:if(!n)return K.debug("the user is null"),[2,this.rejectAuthError(oe.NoUserSession)];e=this._config.clientMetadata,this.inflightSessionPromiseCounter===0&&(this.inflightSessionPromise=new Promise(function(s,u){n.getSession(function(c,a){return re(i,void 0,void 0,function(){var l;return ie(this,function(f){switch(f.label){case 0:if(!c)return[3,5];if(K.debug("Failed to get the session from user",n),!this.isSessionInvalid(c))return[3,4];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return f.sent(),[3,4];case 3:return l=f.sent(),u(new Error("Session is invalid due to: "+c.message+" and failed to clean up invalid session: "+l.message)),[2];case 4:return u(c),[2];case 5:return K.debug("Succeed to get the user session",a),s(a),[2]}})})},{clientMetadata:e})})),this.inflightSessionPromiseCounter++,o.label=1;case 1:return o.trys.push([1,,3,4]),[4,this.inflightSessionPromise];case 2:return r=o.sent(),n.signInUserSession=r,[2,r];case 3:return this.inflightSessionPromiseCounter--,[7];case 4:return[2]}})})},t.prototype.userSession=function(n){return this._userSession(n)},t.prototype.currentUserCredentials=function(){return re(this,void 0,void 0,function(){var n,e,r=this;return ie(this,function(i){switch(i.label){case 0:K.debug("Getting current user credentials"),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._storageSync];case 2:return i.sent(),[3,4];case 3:throw n=i.sent(),K.debug("Failed to sync cache info into memory",n),n;case 4:e=null;try{e=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(o){K.debug("failed to get or parse item aws-amplify-federatedInfo",o)}return e?[2,this.Credentials.refreshFederatedToken(e)]:[2,this.currentSession().then(function(o){return K.debug("getting session success",o),r.Credentials.set(o,"session")}).catch(function(){return K.debug("getting guest credentials"),r.Credentials.set(null,"guest")})]}})})},t.prototype.currentCredentials=function(){return K.debug("getting current credentials"),this.Credentials.get()},t.prototype.verifyUserAttribute=function(n,e,r){return r===void 0&&(r=this._config.clientMetadata),new Promise(function(i,o){n.getAttributeVerificationCode(e,{onSuccess:function(s){return i(s)},onFailure:function(s){return o(s)}},r)})},t.prototype.verifyUserAttributeSubmit=function(n,e,r){return r?new Promise(function(i,o){n.verifyAttribute(e,r,{onSuccess:function(s){i(s)},onFailure:function(s){o(s)}})}):this.rejectAuthError(oe.EmptyCode)},t.prototype.verifyCurrentUserAttribute=function(n){var e=this;return e.currentUserPoolUser().then(function(r){return e.verifyUserAttribute(r,n)})},t.prototype.verifyCurrentUserAttributeSubmit=function(n,e){var r=this;return r.currentUserPoolUser().then(function(i){return r.verifyUserAttributeSubmit(i,n,e)})},t.prototype.cognitoIdentitySignOut=function(n,e){return re(this,void 0,void 0,function(){var r,i,o=this;return ie(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this._storageSync];case 1:return s.sent(),[3,3];case 2:throw r=s.sent(),K.debug("Failed to sync cache info into memory",r),r;case 3:return i=this._oAuthHandler&&this._storage.getItem("amplify-signin-with-hostedUI")==="true",[2,new Promise(function(u,c){if(n&&n.global){K.debug("user global sign out",e);var a=o._config.clientMetadata;e.getSession(function(l,f){return re(o,void 0,void 0,function(){var g,v=this;return ie(this,function(b){switch(b.label){case 0:if(!l)return[3,5];if(K.debug("failed to get the user session",l),!this.isSessionInvalid(l))return[3,4];b.label=1;case 1:return b.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return b.sent(),[3,4];case 3:return g=b.sent(),c(new Error("Session is invalid due to: "+l.message+" and failed to clean up invalid session: "+g.message)),[2];case 4:return[2,c(l)];case 5:return e.globalSignOut({onSuccess:function(_){if(K.debug("global sign out success"),i)v.oAuthSignOutRedirect(u,c);else return u()},onFailure:function(_){return K.debug("global sign out failed",_),c(_)}}),[2]}})})},{clientMetadata:a})}else K.debug("user sign out",e),e.signOut(function(){if(i)o.oAuthSignOutRedirect(u,c);else return u()})})]}})})},t.prototype.oAuthSignOutRedirect=function(n,e){var r=lt().isBrowser;r?this.oAuthSignOutRedirectOrReject(e):this.oAuthSignOutAndResolve(n)},t.prototype.oAuthSignOutAndResolve=function(n){this._oAuthHandler.signOut(),n()},t.prototype.oAuthSignOutRedirectOrReject=function(n){this._oAuthHandler.signOut(),setTimeout(function(){return n(Error("Signout timeout fail"))},3e3)},t.prototype.signOut=function(n){return re(this,void 0,void 0,function(){var e;return ie(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return r.sent(),[3,3];case 2:return r.sent(),K.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(e=this.userPool.getCurrentUser(),e?[4,this.cognitoIdentitySignOut(n,e)]:[3,5]):[3,7];case 4:return r.sent(),[3,6];case 5:K.debug("no current Cognito user"),r.label=6;case 6:return[3,8];case 7:K.debug("no Cognito User pool"),r.label=8;case 8:return ne("signOut",this.user,"A user has been signed out"),this.user=null,[2]}})})},t.prototype.cleanCachedItems=function(){return re(this,void 0,void 0,function(){return ie(this,function(n){switch(n.label){case 0:return[4,this.Credentials.clear()];case 1:return n.sent(),[2]}})})},t.prototype.changePassword=function(n,e,r,i){var o=this;return i===void 0&&(i=this._config.clientMetadata),new Promise(function(s,u){o.userSession(n).then(function(c){n.changePassword(e,r,function(a,l){return a?(K.debug("change password failure",a),u(a)):s(l)},i)})})},t.prototype.forgotPassword=function(n,e){if(e===void 0&&(e=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!n)return this.rejectAuthError(oe.EmptyUsername);var r=this.createCognitoUser(n);return new Promise(function(i,o){r.forgotPassword({onSuccess:function(){i()},onFailure:function(s){K.debug("forgot password failure",s),ne("forgotPassword_failure",s,n+" forgotPassword failed"),o(s)},inputVerificationCode:function(s){ne("forgotPassword",r,n+" has initiated forgot password flow"),i(s)}},e)})},t.prototype.forgotPasswordSubmit=function(n,e,r,i){if(i===void 0&&(i=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!n)return this.rejectAuthError(oe.EmptyUsername);if(!e)return this.rejectAuthError(oe.EmptyCode);if(!r)return this.rejectAuthError(oe.EmptyPassword);var o=this.createCognitoUser(n);return new Promise(function(s,u){o.confirmPassword(e,r,{onSuccess:function(c){ne("forgotPasswordSubmit",o,n+" forgotPasswordSubmit successful"),s(c)},onFailure:function(c){ne("forgotPasswordSubmit_failure",c,n+" forgotPasswordSubmit failed"),u(c)}},i)})},t.prototype.currentUserInfo=function(){return re(this,void 0,void 0,function(){var n,c,e,r,i,o,s,u,c;return ie(this,function(a){switch(a.label){case 0:return n=this.Credentials.getCredSource(),!n||n==="aws"||n==="userPool"?[4,this.currentUserPoolUser().catch(function(l){return K.error(l)})]:[3,9];case 1:if(c=a.sent(),!c)return[2,null];a.label=2;case 2:return a.trys.push([2,8,,9]),[4,this.userAttributes(c)];case 3:e=a.sent(),r=this.attributesToObject(e),i=null,a.label=4;case 4:return a.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return i=a.sent(),[3,7];case 6:return o=a.sent(),K.debug("Failed to retrieve credentials while getting current user info",o),[3,7];case 7:return s={id:i?i.identityId:void 0,username:c.getUsername(),attributes:r},[2,s];case 8:return u=a.sent(),K.error("currentUserInfo error",u),[2,{}];case 9:return n==="federated"?(c=this.user,[2,c||{}]):[2]}})})},t.prototype.federatedSignIn=function(n,e,r){return re(this,void 0,void 0,function(){var i,c,o,s,u,c,a,l,f,g,v,b;return ie(this,function(_){switch(_.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(typeof n>"u"&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return li(n)||qy(n)||Ky(n)||typeof n>"u"?(i=n||{provider:Ir.Cognito},c=li(i)?i.provider:i.customProvider,o=(li(i),i.customState),this._config.userPoolId&&(s=Xt(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,u=Xt(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,u,s,c,o)),[3,4]):[3,1];case 1:c=n;try{a=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user),a&&K.warn("There is already a signed in user: "+a+` in your app.
																	You should not call Auth.federatedSignIn method again as it may cause unexpected behavior.`)}catch{}return l=e.token,f=e.identity_id,g=e.expires_at,[4,this.Credentials.set({provider:c,token:l,identity_id:f,user:r,expires_at:g},"federation")];case 2:return v=_.sent(),[4,this.currentAuthenticatedUser()];case 3:return b=_.sent(),ne("signIn",b,"A user "+b.username+" has been signed in"),K.debug("federated sign in credentials",v),[2,v];case 4:return[2]}})})},t.prototype._handleAuthResponse=function(n){return re(this,void 0,void 0,function(){var e,r,i,o,s,u,c,a,l,f,g,v,b,_;return ie(this,function(T){switch(T.label){case 0:if(this.oAuthFlowInProgress)return K.debug("Skipping URL "+n+" current flow in progress"),[2];T.label=1;case 1:if(T.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(ne("parsingCallbackUrl",{url:n},"The callback url is being parsed"),e=n||(lt().isBrowser?window.location.href:""),r=!!(vt(e).query||"").split("&").map(function(O){return O.split("=")}).find(function(O){var I=It(O,1),N=I[0];return N==="code"||N==="error"}),i=!!(vt(e).hash||"#").substr(1).split("&").map(function(O){return O.split("=")}).find(function(O){var I=It(O,1),N=I[0];return N==="access_token"||N==="error"}),!(r||i))return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),T.label=2;case 2:return T.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(e)];case 3:return o=T.sent(),s=o.accessToken,u=o.idToken,c=o.refreshToken,a=o.state,l=new lo({IdToken:new ao({IdToken:u}),RefreshToken:new uo({RefreshToken:c}),AccessToken:new oo({AccessToken:s})}),f=void 0,this._config.identityPoolId?[4,this.Credentials.set(l,"session")]:[3,5];case 4:f=T.sent(),K.debug("AWS credentials",f),T.label=5;case 5:return g=/-/.test(a),v=this.createCognitoUser(l.getIdToken().decodePayload()["cognito:username"]),v.setSignInUserSession(l),window&&typeof window.history<"u"&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),ne("signIn",v,"A user "+v.getUsername()+" has been signed in"),ne("cognitoHostedUI",v,"A user "+v.getUsername()+" has been signed in via Cognito Hosted UI"),g&&(b=a.split("-").splice(1).join("-"),ne("customOAuthState",rf(b),"State for user "+v.getUsername())),[2,f];case 6:return _=T.sent(),K.debug("Error in cognito hosted auth response",_),window&&typeof window.history<"u"&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),ne("signIn_failure",_,"The OAuth response flow failed"),ne("cognitoHostedUI_failure",_,"A failure occurred when returning to the Cognito Hosted UI"),ne("customState_failure",_,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}})})},t.prototype.essentialCredentials=function(n){return{accessKeyId:n.accessKeyId,sessionToken:n.sessionToken,secretAccessKey:n.secretAccessKey,identityId:n.identityId,authenticated:n.authenticated}},t.prototype.attributesToObject=function(n){var e=this,r={};return n&&n.map(function(i){i.Name==="email_verified"||i.Name==="phone_number_verified"?r[i.Name]=e.isTruthyString(i.Value)||i.Value===!0:r[i.Name]=i.Value}),r},t.prototype.isTruthyString=function(n){return typeof n.toLowerCase=="function"&&n.toLowerCase()==="true"},t.prototype.createCognitoUser=function(n){var e={Username:n,Pool:this.userPool};e.Storage=this._storage;var r=this._config.authenticationFlowType,i=new fo(e);return r&&i.setAuthenticationFlowType(r),i},t.prototype._isValidAuthStorage=function(n){return!!n&&typeof n.getItem=="function"&&typeof n.setItem=="function"&&typeof n.removeItem=="function"&&typeof n.clear=="function"},t.prototype.noUserPoolErrorHandler=function(n){return n&&(!n.userPoolId||!n.identityPoolId)?oe.MissingAuthConfig:oe.NoConfig},t.prototype.rejectAuthError=function(n){return Promise.reject(new Dt(n))},t.prototype.rejectNoUserPool=function(){var n=this.noUserPoolErrorHandler(this._config);return Promise.reject(new Lm(n))},t.prototype.rememberDevice=function(){return re(this,void 0,void 0,function(){var n,e;return ie(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return n=r.sent(),[3,3];case 2:return e=r.sent(),K.debug("The user is not authenticated by the error",e),[2,Promise.reject("The user is not authenticated")];case 3:return n.getCachedDeviceKeyAndPassword(),[2,new Promise(function(i,o){n.setDeviceStatusRemembered({onSuccess:function(s){i(s)},onFailure:function(s){s.code==="InvalidParameterException"?o(new Dt(oe.DeviceConfig)):s.code==="NetworkError"?o(new Dt(oe.NetworkError)):o(s)}})})]}})})},t.prototype.forgetDevice=function(){return re(this,void 0,void 0,function(){var n,e;return ie(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return n=r.sent(),[3,3];case 2:return e=r.sent(),K.debug("The user is not authenticated by the error",e),[2,Promise.reject("The user is not authenticated")];case 3:return n.getCachedDeviceKeyAndPassword(),[2,new Promise(function(i,o){n.forgetDevice({onSuccess:function(s){i(s)},onFailure:function(s){s.code==="InvalidParameterException"?o(new Dt(oe.DeviceConfig)):s.code==="NetworkError"?o(new Dt(oe.NetworkError)):o(s)}})})]}})})},t.prototype.fetchDevices=function(){return re(this,void 0,void 0,function(){var n,e;return ie(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return n=r.sent(),[3,3];case 2:throw e=r.sent(),K.debug("The user is not authenticated by the error",e),new Error("The user is not authenticated");case 3:return n.getCachedDeviceKeyAndPassword(),[2,new Promise(function(i,o){var s={onSuccess:function(u){var c=u.Devices.map(function(a){var l=a.DeviceAttributes.find(function(g){var v=g.Name;return v==="device_name"})||{},f={id:a.DeviceKey,name:l.Value};return f});i(c)},onFailure:function(u){u.code==="InvalidParameterException"?o(new Dt(oe.DeviceConfig)):u.code==="NetworkError"?o(new Dt(oe.NetworkError)):o(u)}};n.listDevices(Km,null,s)})]}})})},t}(),wn=new zm(null);bt.register(wn);var Ho={exports:{}},tl=function(t,n){return function(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];return t.apply(n,e)}},Gm=tl,Vt=Object.prototype.toString;function Wo(t){return Array.isArray(t)}function mo(t){return typeof t>"u"}function Hm(t){return t!==null&&!mo(t)&&t.constructor!==null&&!mo(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function nl(t){return Vt.call(t)==="[object ArrayBuffer]"}function Wm(t){return Vt.call(t)==="[object FormData]"}function Ym(t){var n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&nl(t.buffer),n}function Jm(t){return typeof t=="string"}function $m(t){return typeof t=="number"}function rl(t){return t!==null&&typeof t=="object"}function cr(t){if(Vt.call(t)!=="[object Object]")return!1;var n=Object.getPrototypeOf(t);return n===null||n===Object.prototype}function Xm(t){return Vt.call(t)==="[object Date]"}function Qm(t){return Vt.call(t)==="[object File]"}function Zm(t){return Vt.call(t)==="[object Blob]"}function il(t){return Vt.call(t)==="[object Function]"}function e0(t){return rl(t)&&il(t.pipe)}function t0(t){return Vt.call(t)==="[object URLSearchParams]"}function n0(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function r0(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Yo(t,n){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),Wo(t))for(var e=0,r=t.length;e<r;e++)n.call(null,t[e],e,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.call(null,t[i],i,t)}function bo(){var t={};function n(i,o){cr(t[o])&&cr(i)?t[o]=bo(t[o],i):cr(i)?t[o]=bo({},i):Wo(i)?t[o]=i.slice():t[o]=i}for(var e=0,r=arguments.length;e<r;e++)Yo(arguments[e],n);return t}function i0(t,n,e){return Yo(n,function(r,i){e&&typeof r=="function"?t[i]=Gm(r,e):t[i]=r}),t}function o0(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var Be={isArray:Wo,isArrayBuffer:nl,isBuffer:Hm,isFormData:Wm,isArrayBufferView:Ym,isString:Jm,isNumber:$m,isObject:rl,isPlainObject:cr,isUndefined:mo,isDate:Xm,isFile:Qm,isBlob:Zm,isFunction:il,isStream:e0,isURLSearchParams:t0,isStandardBrowserEnv:r0,forEach:Yo,merge:bo,extend:i0,trim:n0,stripBOM:o0},sn=Be;function Ya(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ol=function(t,n,e){if(!n)return t;var r;if(e)r=e(n);else if(sn.isURLSearchParams(n))r=n.toString();else{var i=[];sn.forEach(n,function(s,u){s===null||typeof s>"u"||(sn.isArray(s)?u=u+"[]":s=[s],sn.forEach(s,function(c){sn.isDate(c)?c=c.toISOString():sn.isObject(c)&&(c=JSON.stringify(c)),i.push(Ya(u)+"="+Ya(c))}))}),r=i.join("&")}if(r){var o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t},s0=Be;function Kr(){this.handlers=[]}Kr.prototype.use=function(t,n,e){return this.handlers.push({fulfilled:t,rejected:n,synchronous:e?e.synchronous:!1,runWhen:e?e.runWhen:null}),this.handlers.length-1};Kr.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Kr.prototype.forEach=function(t){s0.forEach(this.handlers,function(n){n!==null&&t(n)})};var a0=Kr,u0=Be,c0=function(t,n){u0.forEach(t,function(e,r){r!==n&&r.toUpperCase()===n.toUpperCase()&&(t[n]=e,delete t[r])})},sl=function(t,n,e,r,i){return t.config=n,e&&(t.code=e),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},pi,Ja;function al(){if(Ja)return pi;Ja=1;var t=sl;return pi=function(n,e,r,i,o){var s=new Error(n);return t(s,e,r,i,o)},pi}var gi,$a;function l0(){if($a)return gi;$a=1;var t=al();return gi=function(n,e,r){var i=r.config.validateStatus;!r.status||!i||i(r.status)?n(r):e(t("Request failed with status code "+r.status,r.config,null,r.request,r))},gi}var yi,Xa;function f0(){if(Xa)return yi;Xa=1;var t=Be;return yi=t.isStandardBrowserEnv()?function(){return{write:function(n,e,r,i,o,s){var u=[];u.push(n+"="+encodeURIComponent(e)),t.isNumber(r)&&u.push("expires="+new Date(r).toGMTString()),t.isString(i)&&u.push("path="+i),t.isString(o)&&u.push("domain="+o),s===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(n){var e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),yi}var Qa,Za;function h0(){return Za||(Za=1,Qa=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}),Qa}var eu,tu;function d0(){return tu||(tu=1,eu=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}),eu}var vi,nu;function p0(){if(nu)return vi;nu=1;var t=h0(),n=d0();return vi=function(e,r){return e&&!t(r)?n(e,r):r},vi}var mi,ru;function g0(){if(ru)return mi;ru=1;var t=Be,n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return mi=function(e){var r={},i,o,s;return e&&t.forEach(e.split(`
`),function(u){if(s=u.indexOf(":"),i=t.trim(u.substr(0,s)).toLowerCase(),o=t.trim(u.substr(s+1)),i){if(r[i]&&n.indexOf(i)>=0)return;i==="set-cookie"?r[i]=(r[i]?r[i]:[]).concat([o]):r[i]=r[i]?r[i]+", "+o:o}}),r},mi}var bi,iu;function y0(){if(iu)return bi;iu=1;var t=Be;return bi=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a"),r;function i(o){var s=o;return n&&(e.setAttribute("href",s),s=e.href),e.setAttribute("href",s),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return r=i(window.location.href),function(o){var s=t.isString(o)?i(o):o;return s.protocol===r.protocol&&s.host===r.host}}():function(){return function(){return!0}}(),bi}var wi,ou;function Vr(){if(ou)return wi;ou=1;function t(n){this.message=n}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,wi=t,wi}var Si,su;function v0(){if(su)return Si;su=1;var t=Be,n=l0(),e=f0(),r=ol,i=p0(),o=g0(),s=y0(),u=al(),c=zr(),a=Vr();return Si=function(l){return new Promise(function(f,g){var v=l.data,b=l.headers,_=l.responseType,T;function O(){l.cancelToken&&l.cancelToken.unsubscribe(T),l.signal&&l.signal.removeEventListener("abort",T)}t.isFormData(v)&&delete b["Content-Type"];var I=new XMLHttpRequest;if(l.auth){var N=l.auth.username||"",U=l.auth.password?unescape(encodeURIComponent(l.auth.password)):"";b.Authorization="Basic "+btoa(N+":"+U)}var D=i(l.baseURL,l.url);I.open(l.method.toUpperCase(),r(D,l.params,l.paramsSerializer),!0),I.timeout=l.timeout;function z(){if(I){var k="getAllResponseHeaders"in I?o(I.getAllResponseHeaders()):null,W=!_||_==="text"||_==="json"?I.responseText:I.response,p={data:W,status:I.status,statusText:I.statusText,headers:k,config:l,request:I};n(function(y){f(y),O()},function(y){g(y),O()},p),I=null}}if("onloadend"in I?I.onloadend=z:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(z)},I.onabort=function(){I&&(g(u("Request aborted",l,"ECONNABORTED",I)),I=null)},I.onerror=function(){g(u("Network Error",l,null,I)),I=null},I.ontimeout=function(){var k=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded",W=l.transitional||c.transitional;l.timeoutErrorMessage&&(k=l.timeoutErrorMessage),g(u(k,l,W.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",I)),I=null},t.isStandardBrowserEnv()){var H=(l.withCredentials||s(D))&&l.xsrfCookieName?e.read(l.xsrfCookieName):void 0;H&&(b[l.xsrfHeaderName]=H)}"setRequestHeader"in I&&t.forEach(b,function(k,W){typeof v>"u"&&W.toLowerCase()==="content-type"?delete b[W]:I.setRequestHeader(W,k)}),t.isUndefined(l.withCredentials)||(I.withCredentials=!!l.withCredentials),_&&_!=="json"&&(I.responseType=l.responseType),typeof l.onDownloadProgress=="function"&&I.addEventListener("progress",l.onDownloadProgress),typeof l.onUploadProgress=="function"&&I.upload&&I.upload.addEventListener("progress",l.onUploadProgress),(l.cancelToken||l.signal)&&(T=function(k){I&&(g(!k||k&&k.type?new a("canceled"):k),I.abort(),I=null)},l.cancelToken&&l.cancelToken.subscribe(T),l.signal&&(l.signal.aborted?T():l.signal.addEventListener("abort",T))),v||(v=null),I.send(v)})},Si}var _i,au;function zr(){if(au)return _i;au=1;var t=Be,n=c0,e=sl,r={"Content-Type":"application/x-www-form-urlencoded"};function i(c,a){!t.isUndefined(c)&&t.isUndefined(c["Content-Type"])&&(c["Content-Type"]=a)}function o(){var c;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(c=v0()),c}function s(c,a,l){if(t.isString(c))try{return(a||JSON.parse)(c),t.trim(c)}catch(f){if(f.name!=="SyntaxError")throw f}return(l||JSON.stringify)(c)}var u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:o(),transformRequest:[function(c,a){return n(a,"Accept"),n(a,"Content-Type"),t.isFormData(c)||t.isArrayBuffer(c)||t.isBuffer(c)||t.isStream(c)||t.isFile(c)||t.isBlob(c)?c:t.isArrayBufferView(c)?c.buffer:t.isURLSearchParams(c)?(i(a,"application/x-www-form-urlencoded;charset=utf-8"),c.toString()):t.isObject(c)||a&&a["Content-Type"]==="application/json"?(i(a,"application/json"),s(c)):c}],transformResponse:[function(c){var a=this.transitional||u.transitional,l=a&&a.silentJSONParsing,f=a&&a.forcedJSONParsing,g=!l&&this.responseType==="json";if(g||f&&t.isString(c)&&c.length)try{return JSON.parse(c)}catch(v){if(g)throw v.name==="SyntaxError"?e(v,this,"E_JSON_PARSE"):v}return c}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(c){return c>=200&&c<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return t.forEach(["delete","get","head"],function(c){u.headers[c]={}}),t.forEach(["post","put","patch"],function(c){u.headers[c]=t.merge(r)}),_i=u,_i}var m0=Be,b0=zr(),w0=function(t,n,e){var r=this||b0;return m0.forEach(e,function(i){t=i.call(r,t,n)}),t},uu,cu;function ul(){return cu||(cu=1,uu=function(t){return!!(t&&t.__CANCEL__)}),uu}var lu=Be,Ei=w0,S0=ul(),_0=zr(),E0=Vr();function Ai(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new E0("canceled")}var A0=function(t){Ai(t),t.headers=t.headers||{},t.data=Ei.call(t,t.data,t.headers,t.transformRequest),t.headers=lu.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),lu.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]});var n=t.adapter||_0.adapter;return n(t).then(function(e){return Ai(t),e.data=Ei.call(t,e.data,e.headers,t.transformResponse),e},function(e){return S0(e)||(Ai(t),e&&e.response&&(e.response.data=Ei.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})},Ve=Be,cl=function(t,n){n=n||{};var e={};function r(a,l){return Ve.isPlainObject(a)&&Ve.isPlainObject(l)?Ve.merge(a,l):Ve.isPlainObject(l)?Ve.merge({},l):Ve.isArray(l)?l.slice():l}function i(a){if(Ve.isUndefined(n[a])){if(!Ve.isUndefined(t[a]))return r(void 0,t[a])}else return r(t[a],n[a])}function o(a){if(!Ve.isUndefined(n[a]))return r(void 0,n[a])}function s(a){if(Ve.isUndefined(n[a])){if(!Ve.isUndefined(t[a]))return r(void 0,t[a])}else return r(void 0,n[a])}function u(a){if(a in n)return r(t[a],n[a]);if(a in t)return r(void 0,t[a])}var c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return Ve.forEach(Object.keys(t).concat(Object.keys(n)),function(a){var l=c[a]||i,f=l(a);Ve.isUndefined(f)&&l!==u||(e[a]=f)}),e},fu,hu;function ll(){return hu||(hu=1,fu={version:"0.26.0"}),fu}var I0=ll().version,Jo={};["object","boolean","number","function","string","symbol"].forEach(function(t,n){Jo[t]=function(e){return typeof e===t||"a"+(n<1?"n ":" ")+t}});var du={};Jo.transitional=function(t,n,e){function r(i,o){return"[Axios v"+I0+"] Transitional option '"+i+"'"+o+(e?". "+e:"")}return function(i,o,s){if(t===!1)throw new Error(r(o," has been removed"+(n?" in "+n:"")));return n&&!du[o]&&(du[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,s):!0}};function T0(t,n,e){if(typeof t!="object")throw new TypeError("options must be an object");for(var r=Object.keys(t),i=r.length;i-- >0;){var o=r[i],s=n[o];if(s){var u=t[o],c=u===void 0||s(u,o,t);if(c!==!0)throw new TypeError("option "+o+" must be "+c);continue}if(e!==!0)throw Error("Unknown option "+o)}}var C0={assertOptions:T0,validators:Jo},fl=Be,k0=ol,pu=a0,gu=A0,Gr=cl,hl=C0,an=hl.validators;function zn(t){this.defaults=t,this.interceptors={request:new pu,response:new pu}}zn.prototype.request=function(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Gr(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var e=n.transitional;e!==void 0&&hl.assertOptions(e,{silentJSONParsing:an.transitional(an.boolean),forcedJSONParsing:an.transitional(an.boolean),clarifyTimeoutError:an.transitional(an.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(n)===!1||(i=i&&f.synchronous,r.unshift(f.fulfilled,f.rejected))});var o=[];this.interceptors.response.forEach(function(f){o.push(f.fulfilled,f.rejected)});var s;if(!i){var u=[gu,void 0];for(Array.prototype.unshift.apply(u,r),u=u.concat(o),s=Promise.resolve(n);u.length;)s=s.then(u.shift(),u.shift());return s}for(var c=n;r.length;){var a=r.shift(),l=r.shift();try{c=a(c)}catch(f){l(f);break}}try{s=gu(c)}catch(f){return Promise.reject(f)}for(;o.length;)s=s.then(o.shift(),o.shift());return s};zn.prototype.getUri=function(t){return t=Gr(this.defaults,t),k0(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};fl.forEach(["delete","get","head","options"],function(t){zn.prototype[t]=function(n,e){return this.request(Gr(e||{},{method:t,url:n,data:(e||{}).data}))}});fl.forEach(["post","put","patch"],function(t){zn.prototype[t]=function(n,e,r){return this.request(Gr(r||{},{method:t,url:n,data:e}))}});var O0=zn,Ii,yu;function P0(){if(yu)return Ii;yu=1;var t=Vr();function n(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;this.promise.then(function(o){if(i._listeners){var s,u=i._listeners.length;for(s=0;s<u;s++)i._listeners[s](o);i._listeners=null}}),this.promise.then=function(o){var s,u=new Promise(function(c){i.subscribe(c),s=c}).then(o);return u.cancel=function(){i.unsubscribe(s)},u},e(function(o){i.reason||(i.reason=new t(o),r(i.reason))})}return n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]},n.prototype.unsubscribe=function(e){if(this._listeners){var r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}},n.source=function(){var e,r=new n(function(i){e=i});return{token:r,cancel:e}},Ii=n,Ii}var vu,mu;function x0(){return mu||(mu=1,vu=function(t){return function(n){return t.apply(null,n)}}),vu}var Ti,bu;function N0(){if(bu)return Ti;bu=1;var t=Be;return Ti=function(n){return t.isObject(n)&&n.isAxiosError===!0},Ti}var wu=Be,R0=tl,lr=O0,U0=cl,D0=zr();function dl(t){var n=new lr(t),e=R0(lr.prototype.request,n);return wu.extend(e,lr.prototype,n),wu.extend(e,n),e.create=function(r){return dl(U0(t,r))},e}var wt=dl(D0);wt.Axios=lr;wt.Cancel=Vr();wt.CancelToken=P0();wt.isCancel=ul();wt.VERSION=ll().version;wt.all=function(t){return Promise.all(t)};wt.spread=x0();wt.isAxiosError=N0();Ho.exports=wt;Ho.exports.default=wt;var M0=Ho.exports,j0=M0;const rr=Bu(j0);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Cr=function(){return Cr=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Cr.apply(this,arguments)};function L0(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,n||[])).next())})}function F0(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xe=function(){return Xe=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Xe.apply(this,arguments)};function wo(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e}function pl(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,n||[])).next())})}function gl(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var un=new ye("RestClient"),yl=function(){function t(n){this._region="us-east-1",this._service="execute-api",this._custom_header=void 0,this._cancelTokenMap=null,this.Credentials=xt,this._options=n,un.debug("API Options",this._options),this._cancelTokenMap==null&&(this._cancelTokenMap=new WeakMap)}return t.prototype.ajax=function(n,e,r){return pl(this,void 0,void 0,function(){var i,o,s,u,c,a,l,f,g,v,b,_,T,O,I=this;return gl(this,function(N){switch(N.label){case 0:return un.debug(e,n),s="us-east-1",u="execute-api",c=void 0,typeof n=="string"?(i=this._parseUrl(n),o=n):(o=n.endpoint,c=n.custom_header,s=n.region,u=n.service,i=this._parseUrl(n.endpoint)),a={method:e,url:o,host:i.host,path:i.path,headers:{},data:null,responseType:"json",timeout:0,cancelToken:null},l={},pt.isReactNative&&(f=pt.userAgent||"aws-amplify/0.1.x",l={"User-Agent":f}),g=Object.assign({},r),v=g.response,g.body&&(typeof FormData=="function"&&g.body instanceof FormData?(l["Content-Type"]="multipart/form-data",a.data=g.body):(l["Content-Type"]="application/json; charset=UTF-8",a.data=JSON.stringify(g.body))),g.responseType&&(a.responseType=g.responseType),g.withCredentials&&(a.withCredentials=g.withCredentials),g.timeout&&(a.timeout=g.timeout),g.cancellableToken&&(a.cancelToken=g.cancellableToken.token),a.signerServiceInfo=g.signerServiceInfo,typeof c!="function"?[3,2]:[4,c()];case 1:return _=N.sent(),[3,3];case 2:_=void 0,N.label=3;case 3:return b=_,a.headers=Xe(Xe(Xe({},l),b),g.headers),T=vt(o,!0,!0),T.search,O=wo(T,["search"]),a.url=vm(Xe(Xe({},O),{query:Xe(Xe({},O.query),g.queryStringParameters||{})})),typeof a.headers.Authorization<"u"?(a.headers=Object.keys(a.headers).reduce(function(U,D){return a.headers[D]&&(U[D]=a.headers[D]),U},{}),[2,this._request(a,v)]):[2,this.Credentials.get().then(function(U){return I._signed(Xe({},a),U,v,{region:s,service:u}).catch(function(D){if(ut.isClockSkewError(D)){var z=D.response.headers,H=z&&(z.date||z.Date),k=new Date(H),W=ut.getDateFromHeaderString(a.headers["x-amz-date"]);if(ut.isClockSkewed(k))return ut.setClockOffset(k.getTime()-W.getTime()),I.ajax(n,e,r)}throw D})},function(U){return un.debug("No credentials available, the request will be unsigned"),I._request(a,v)})]}})})},t.prototype.get=function(n,e){return this.ajax(n,"GET",e)},t.prototype.put=function(n,e){return this.ajax(n,"PUT",e)},t.prototype.patch=function(n,e){return this.ajax(n,"PATCH",e)},t.prototype.post=function(n,e){return this.ajax(n,"POST",e)},t.prototype.del=function(n,e){return this.ajax(n,"DELETE",e)},t.prototype.head=function(n,e){return this.ajax(n,"HEAD",e)},t.prototype.cancel=function(n,e){var r=this._cancelTokenMap.get(n);return r?(r.cancel(e),!0):!1},t.prototype.hasCancelToken=function(n){return this._cancelTokenMap.has(n)},t.prototype.isCancel=function(n){return rr.isCancel(n)},t.prototype.getCancellableToken=function(){return rr.CancelToken.source()},t.prototype.updateRequestToBeCancellable=function(n,e){this._cancelTokenMap.set(n,e)},t.prototype.endpoint=function(n){var e=this,r=this._options.endpoints,i="";return Array.isArray(r)&&r.forEach(function(o){o.name===n&&(i=o.endpoint,typeof o.region=="string"?e._region=o.region:typeof e._options.region=="string"&&(e._region=e._options.region),typeof o.service=="string"?e._service=o.service||"execute-api":e._service="execute-api",typeof o.custom_header=="function"?e._custom_header=o.custom_header:e._custom_header=void 0)}),i},t.prototype._signed=function(n,e,r,i){var o=i.service,s=i.region,u=n.signerServiceInfo,c=wo(n,["signerServiceInfo"]),a=s||this._region||this._options.region,l=o||this._service||this._options.service,f={secret_key:e.secretAccessKey,access_key:e.accessKeyId,session_token:e.sessionToken},g={region:a,service:l},v=Object.assign(g,u),b=tc.sign(c,f,v);return b.data&&(b.body=b.data),un.debug("Signed Request: ",b),delete b.headers.host,rr(b).then(function(_){return r?_:_.data}).catch(function(_){throw un.debug(_),_})},t.prototype._request=function(n,e){return e===void 0&&(e=!1),rr(n).then(function(r){return e?r:r.data}).catch(function(r){throw un.debug(r),r})},t.prototype._parseUrl=function(n){var e=n.split("/");return{host:e[2],path:"/"+e.slice(3).join("/")}},t}(),ir=new ye("RestAPI"),vl=function(){function t(n){this._api=null,this.Credentials=xt,this._options=n,ir.debug("API Options",this._options)}return t.prototype.getModuleName=function(){return"RestAPI"},t.prototype.configure=function(n){var e=n||{},r=e.API,i=r===void 0?{}:r,o=wo(e,["API"]),s=Xe(Xe({},o),i);if(ir.debug("configure Rest API",{opt:s}),s.aws_project_region){if(s.aws_cloud_logic_custom){var u=s.aws_cloud_logic_custom;s.endpoints=typeof u=="string"?JSON.parse(u):u}s=Object.assign({},s,{region:s.aws_project_region,header:{}})}return Array.isArray(s.endpoints)?s.endpoints.forEach(function(c){typeof c.custom_header<"u"&&typeof c.custom_header!="function"&&(ir.warn("Rest API "+c.name+", custom_header should be a function"),c.custom_header=void 0)}):this._options&&Array.isArray(this._options.endpoints)?s.endpoints=this._options.endpoints:s.endpoints=[],this._options=Object.assign({},this._options,s),this.createInstance(),this._options},t.prototype.createInstance=function(){return ir.debug("create Rest API instance"),this._api=new yl(this._options),this._api.Credentials=this.Credentials,!0},t.prototype.get=function(n,e,r){try{var i=this.getEndpointInfo(n,e),o=this._api.getCancellableToken(),s=Object.assign({},r);s.cancellableToken=o;var u=this._api.get(i,s);return this._api.updateRequestToBeCancellable(u,o),u}catch(c){return Promise.reject(c.message)}},t.prototype.post=function(n,e,r){try{var i=this.getEndpointInfo(n,e),o=this._api.getCancellableToken(),s=Object.assign({},r);s.cancellableToken=o;var u=this._api.post(i,s);return this._api.updateRequestToBeCancellable(u,o),u}catch(c){return Promise.reject(c.message)}},t.prototype.put=function(n,e,r){try{var i=this.getEndpointInfo(n,e),o=this._api.getCancellableToken(),s=Object.assign({},r);s.cancellableToken=o;var u=this._api.put(i,s);return this._api.updateRequestToBeCancellable(u,o),u}catch(c){return Promise.reject(c.message)}},t.prototype.patch=function(n,e,r){try{var i=this.getEndpointInfo(n,e),o=this._api.getCancellableToken(),s=Object.assign({},r);s.cancellableToken=o;var u=this._api.patch(i,s);return this._api.updateRequestToBeCancellable(u,o),u}catch(c){return Promise.reject(c.message)}},t.prototype.del=function(n,e,r){try{var i=this.getEndpointInfo(n,e),o=this._api.getCancellableToken(),s=Object.assign({},r);s.cancellableToken=o;var u=this._api.del(i,s);return this._api.updateRequestToBeCancellable(u,o),u}catch(c){return Promise.reject(c.message)}},t.prototype.head=function(n,e,r){try{var i=this.getEndpointInfo(n,e),o=this._api.getCancellableToken(),s=Object.assign({},r);s.cancellableToken=o;var u=this._api.head(i,s);return this._api.updateRequestToBeCancellable(u,o),u}catch(c){return Promise.reject(c.message)}},t.prototype.isCancel=function(n){return this._api.isCancel(n)},t.prototype.cancel=function(n,e){return this._api.cancel(n,e)},t.prototype.hasCancelToken=function(n){return this._api.hasCancelToken(n)},t.prototype.endpoint=function(n){return pl(this,void 0,void 0,function(){return gl(this,function(e){return[2,this._api.endpoint(n)]})})},t.prototype.getEndpointInfo=function(n,e){var r=this._options.endpoints;if(!Array.isArray(r))throw new Error("API category not configured");var i=r.find(function(s){return s.name===n});if(!i)throw new Error("API "+n+" does not exist");var o={endpoint:i.endpoint+e};return typeof i.region=="string"?o.region=i.region:typeof this._options.region=="string"&&(o.region=this._options.region),typeof i.service=="string"?o.service=i.service||"execute-api":o.service="execute-api",typeof i.custom_header=="function"?o.custom_header=i.custom_header:o.custom_header=void 0,o},t}(),B0=new vl(null);bt.register(B0);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Tt=function(){return Tt=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Tt.apply(this,arguments)};function q0(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e}function Ci(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,n||[])).next())})}function ki(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function Su(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,o=[],s;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}function fr(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fr=function(n){return typeof n}:fr=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fr(t)}function K0(t){return fr(t)=="object"&&t!==null}var ml=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";function So(t,n){for(var e=/\r\n|[\n\r]/g,r=1,i=n+1,o;(o=e.exec(t.body))&&o.index<n;)r+=1,i=n+1-(o.index+o[0].length);return{line:r,column:i}}function V0(t){return bl(t.source,So(t.source,t.start))}function bl(t,n){var e=t.locationOffset.column-1,r=hr(e)+t.body,i=n.line-1,o=t.locationOffset.line-1,s=n.line+o,u=n.line===1?e:0,c=n.column+u,a="".concat(t.name,":").concat(s,":").concat(c,`
`),l=r.split(/\r\n|[\n\r]/g),f=l[i];if(f.length>120){for(var g=Math.floor(c/80),v=c%80,b=[],_=0;_<f.length;_+=80)b.push(f.slice(_,_+80));return a+_u([["".concat(s),b[0]]].concat(b.slice(1,g+1).map(function(T){return["",T]}),[[" ",hr(v-1)+"^"],["",b[g+1]]]))}return a+_u([["".concat(s-1),l[i-1]],["".concat(s),f],["",hr(c-1)+"^"],["".concat(s+1),l[i+1]]])}function _u(t){var n=t.filter(function(r){r[0];var i=r[1];return i!==void 0}),e=Math.max.apply(Math,n.map(function(r){var i=r[0];return i.length}));return n.map(function(r){var i=r[0],o=r[1];return z0(e,i)+(o?" | "+o:" |")}).join(`
`)}function hr(t){return Array(t+1).join(" ")}function z0(t,n){return hr(t-n.length)+n}function dr(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dr=function(n){return typeof n}:dr=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},dr(t)}function Eu(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,r)}return e}function G0(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?Eu(Object(e),!0).forEach(function(r){H0(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Eu(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function H0(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function W0(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Au(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Y0(t,n,e){return n&&Au(t.prototype,n),e&&Au(t,e),t}function J0(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&Bn(t,n)}function $0(t){var n=Sl();return function(){var e=qn(t),r;if(n){var i=qn(this).constructor;r=Reflect.construct(e,arguments,i)}else r=e.apply(this,arguments);return wl(this,r)}}function wl(t,n){return n&&(dr(n)==="object"||typeof n=="function")?n:Nn(t)}function Nn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _o(t){var n=typeof Map=="function"?new Map:void 0;return _o=function(e){if(e===null||!X0(e))return e;if(typeof e!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(e))return n.get(e);n.set(e,r)}function r(){return pr(e,arguments,qn(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Bn(r,e)},_o(t)}function pr(t,n,e){return Sl()?pr=Reflect.construct:pr=function(r,i,o){var s=[null];s.push.apply(s,i);var u=Function.bind.apply(r,s),c=new u;return o&&Bn(c,o.prototype),c},pr.apply(null,arguments)}function Sl(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function X0(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Bn(t,n){return Bn=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e},Bn(t,n)}function qn(t){return qn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},qn(t)}var pn=function(t){J0(e,t);var n=$0(e);function e(r,i,o,s,u,c,a){var l,f,g,v;W0(this,e),v=n.call(this,r),v.name="GraphQLError",v.originalError=c??void 0,v.nodes=Iu(Array.isArray(i)?i:i?[i]:void 0);for(var b=[],_=0,T=(O=v.nodes)!==null&&O!==void 0?O:[];_<T.length;_++){var O,I=T[_],N=I.loc;N!=null&&b.push(N)}b=Iu(b),v.source=o??((l=b)===null||l===void 0?void 0:l[0].source),v.positions=s??((f=b)===null||f===void 0?void 0:f.map(function(D){return D.start})),v.locations=s&&o?s.map(function(D){return So(o,D)}):(g=b)===null||g===void 0?void 0:g.map(function(D){return So(D.source,D.start)}),v.path=u??void 0;var U=c==null?void 0:c.extensions;return a==null&&K0(U)?v.extensions=G0({},U):v.extensions=a??{},Object.defineProperties(Nn(v),{message:{enumerable:!0},locations:{enumerable:v.locations!=null},path:{enumerable:v.path!=null},extensions:{enumerable:v.extensions!=null&&Object.keys(v.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),c!=null&&c.stack?(Object.defineProperty(Nn(v),"stack",{value:c.stack,writable:!0,configurable:!0}),wl(v)):(Error.captureStackTrace?Error.captureStackTrace(Nn(v),e):Object.defineProperty(Nn(v),"stack",{value:Error().stack,writable:!0,configurable:!0}),v)}return Y0(e,[{key:"toString",value:function(){return Q0(this)}},{key:ml,get:function(){return"Object"}}]),e}(_o(Error));function Iu(t){return t===void 0||t.length===0?void 0:t}function Q0(t){var n=t.message;if(t.nodes)for(var e=0,r=t.nodes;e<r.length;e++){var i=r[e];i.loc&&(n+=`

`+V0(i.loc))}else if(t.source&&t.locations)for(var o=0,s=t.locations;o<s.length;o++){var u=s[o];n+=`

`+bl(t.source,u)}return n}function He(t,n,e){return new pn("Syntax Error: ".concat(e),void 0,t,[n])}var Q=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function Z0(t,n){var e=!!t;if(!e)throw new Error(n??"Unexpected invariant triggered.")}var eb=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0;const Eo=eb;function _l(t){var n=t.prototype.toJSON;typeof n=="function"||Z0(0),t.prototype.inspect=n,Eo&&(t.prototype[Eo]=n)}var El=function(){function t(e,r,i){this.start=e.start,this.end=r.end,this.startToken=e,this.endToken=r,this.source=i}var n=t.prototype;return n.toJSON=function(){return{start:this.start,end:this.end}},t}();_l(El);var ge=function(){function t(e,r,i,o,s,u,c){this.kind=e,this.start=r,this.end=i,this.line=o,this.column=s,this.value=c,this.prev=u,this.next=null}var n=t.prototype;return n.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},t}();_l(ge);function Tu(t){return t!=null&&typeof t.kind=="string"}var F=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function gr(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gr=function(n){return typeof n}:gr=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gr(t)}var tb=10,Al=2;function Il(t){return Hr(t,[])}function Hr(t,n){switch(gr(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":return t===null?"null":nb(t,n);default:return String(t)}}function nb(t,n){if(n.indexOf(t)!==-1)return"[Circular]";var e=[].concat(n,[t]),r=ob(t);if(r!==void 0){var i=r.call(t);if(i!==t)return typeof i=="string"?i:Hr(i,e)}else if(Array.isArray(t))return ib(t,e);return rb(t,e)}function rb(t,n){var e=Object.keys(t);if(e.length===0)return"{}";if(n.length>Al)return"["+sb(t)+"]";var r=e.map(function(i){var o=Hr(t[i],n);return i+": "+o});return"{ "+r.join(", ")+" }"}function ib(t,n){if(t.length===0)return"[]";if(n.length>Al)return"[Array]";for(var e=Math.min(tb,t.length),r=t.length-e,i=[],o=0;o<e;++o)i.push(Hr(t[o],n));return r===1?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items")),"["+i.join(", ")+"]"}function ob(t){var n=t[String(Eo)];if(typeof n=="function")return n;if(typeof t.inspect=="function")return t.inspect}function sb(t){var n=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(n==="Object"&&typeof t.constructor=="function"){var e=t.constructor.name;if(typeof e=="string"&&e!=="")return e}return n}function Oi(t,n){var e=!!t;if(!e)throw new Error(n)}const ab=function(t,n){return t instanceof n};function Cu(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ub(t,n,e){return n&&Cu(t.prototype,n),e&&Cu(t,e),t}var Tl=function(){function t(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof n=="string"||Oi(0,"Body must be a string. Received: ".concat(Il(n),".")),this.body=n,this.name=e,this.locationOffset=r,this.locationOffset.line>0||Oi(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Oi(0,"column in locationOffset is 1-indexed and must be positive.")}return ub(t,[{key:ml,get:function(){return"Source"}}]),t}();function cb(t){return ab(t,Tl)}var lb=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function fb(t){var n=t.split(/\r\n|[\n\r]/g),e=hb(t);if(e!==0)for(var r=1;r<n.length;r++)n[r]=n[r].slice(e);for(var i=0;i<n.length&&ku(n[i]);)++i;for(var o=n.length;o>i&&ku(n[o-1]);)--o;return n.slice(i,o).join(`
`)}function ku(t){for(var n=0;n<t.length;++n)if(t[n]!==" "&&t[n]!=="	")return!1;return!0}function hb(t){for(var n,e=!0,r=!0,i=0,o=null,s=0;s<t.length;++s)switch(t.charCodeAt(s)){case 13:t.charCodeAt(s+1)===10&&++s;case 10:e=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!e&&(o===null||i<o)&&(o=i),r=!1}return(n=o)!==null&&n!==void 0?n:0}function db(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=t.indexOf(`
`)===-1,i=t[0]===" "||t[0]==="	",o=t[t.length-1]==='"',s=t[t.length-1]==="\\",u=!r||o||s||e,c="";return u&&!(r&&i)&&(c+=`
`+n),c+=n?t.replace(/\n/g,`
`+n):t,u&&(c+=`
`),'"""'+c.replace(/"""/g,'\\"""')+'"""'}var pb=function(){function t(e){var r=new ge(F.SOF,0,0,0,0,null);this.source=e,this.lastToken=r,this.token=r,this.line=1,this.lineStart=0}var n=t.prototype;return n.advance=function(){this.lastToken=this.token;var e=this.token=this.lookahead();return e},n.lookahead=function(){var e=this.token;if(e.kind!==F.EOF)do{var r;e=(r=e.next)!==null&&r!==void 0?r:e.next=yb(this,e)}while(e.kind===F.COMMENT);return e},t}();function gb(t){return t===F.BANG||t===F.DOLLAR||t===F.AMP||t===F.PAREN_L||t===F.PAREN_R||t===F.SPREAD||t===F.COLON||t===F.EQUALS||t===F.AT||t===F.BRACKET_L||t===F.BRACKET_R||t===F.BRACE_L||t===F.PIPE||t===F.BRACE_R}function en(t){return isNaN(t)?F.EOF:t<127?JSON.stringify(String.fromCharCode(t)):'"\\u'.concat(("00"+t.toString(16).toUpperCase()).slice(-4),'"')}function yb(t,n){for(var e=t.source,r=e.body,i=r.length,o=n.end;o<i;){var s=r.charCodeAt(o),u=t.line,c=1+o-t.lineStart;switch(s){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++t.line,t.lineStart=o;continue;case 13:r.charCodeAt(o+1)===10?o+=2:++o,++t.line,t.lineStart=o;continue;case 33:return new ge(F.BANG,o,o+1,u,c,n);case 35:return mb(e,o,u,c,n);case 36:return new ge(F.DOLLAR,o,o+1,u,c,n);case 38:return new ge(F.AMP,o,o+1,u,c,n);case 40:return new ge(F.PAREN_L,o,o+1,u,c,n);case 41:return new ge(F.PAREN_R,o,o+1,u,c,n);case 46:if(r.charCodeAt(o+1)===46&&r.charCodeAt(o+2)===46)return new ge(F.SPREAD,o,o+3,u,c,n);break;case 58:return new ge(F.COLON,o,o+1,u,c,n);case 61:return new ge(F.EQUALS,o,o+1,u,c,n);case 64:return new ge(F.AT,o,o+1,u,c,n);case 91:return new ge(F.BRACKET_L,o,o+1,u,c,n);case 93:return new ge(F.BRACKET_R,o,o+1,u,c,n);case 123:return new ge(F.BRACE_L,o,o+1,u,c,n);case 124:return new ge(F.PIPE,o,o+1,u,c,n);case 125:return new ge(F.BRACE_R,o,o+1,u,c,n);case 34:return r.charCodeAt(o+1)===34&&r.charCodeAt(o+2)===34?Sb(e,o,u,c,n,t):wb(e,o,u,c,n);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return bb(e,o,s,u,c,n);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return Eb(e,o,u,c,n)}throw He(e,o,vb(s))}var a=t.line,l=1+o-t.lineStart;return new ge(F.EOF,i,i,a,l,n)}function vb(t){return t<32&&t!==9&&t!==10&&t!==13?"Cannot contain the invalid character ".concat(en(t),"."):t===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(en(t),".")}function mb(t,n,e,r,i){var o=t.body,s,u=n;do s=o.charCodeAt(++u);while(!isNaN(s)&&(s>31||s===9));return new ge(F.COMMENT,n,u,e,r,i,o.slice(n+1,u))}function bb(t,n,e,r,i,o){var s=t.body,u=e,c=n,a=!1;if(u===45&&(u=s.charCodeAt(++c)),u===48){if(u=s.charCodeAt(++c),u>=48&&u<=57)throw He(t,c,"Invalid number, unexpected digit after 0: ".concat(en(u),"."))}else c=Pi(t,c,u),u=s.charCodeAt(c);if(u===46&&(a=!0,u=s.charCodeAt(++c),c=Pi(t,c,u),u=s.charCodeAt(c)),(u===69||u===101)&&(a=!0,u=s.charCodeAt(++c),(u===43||u===45)&&(u=s.charCodeAt(++c)),c=Pi(t,c,u),u=s.charCodeAt(c)),u===46||Ab(u))throw He(t,c,"Invalid number, expected digit but got: ".concat(en(u),"."));return new ge(a?F.FLOAT:F.INT,n,c,r,i,o,s.slice(n,c))}function Pi(t,n,e){var r=t.body,i=n,o=e;if(o>=48&&o<=57){do o=r.charCodeAt(++i);while(o>=48&&o<=57);return i}throw He(t,i,"Invalid number, expected digit but got: ".concat(en(o),"."))}function wb(t,n,e,r,i){for(var o=t.body,s=n+1,u=s,c=0,a="";s<o.length&&!isNaN(c=o.charCodeAt(s))&&c!==10&&c!==13;){if(c===34)return a+=o.slice(u,s),new ge(F.STRING,n,s+1,e,r,i,a);if(c<32&&c!==9)throw He(t,s,"Invalid character within String: ".concat(en(c),"."));if(++s,c===92){switch(a+=o.slice(u,s-1),c=o.charCodeAt(s),c){case 34:a+='"';break;case 47:a+="/";break;case 92:a+="\\";break;case 98:a+="\b";break;case 102:a+="\f";break;case 110:a+=`
`;break;case 114:a+="\r";break;case 116:a+="	";break;case 117:{var l=_b(o.charCodeAt(s+1),o.charCodeAt(s+2),o.charCodeAt(s+3),o.charCodeAt(s+4));if(l<0){var f=o.slice(s+1,s+5);throw He(t,s,"Invalid character escape sequence: \\u".concat(f,"."))}a+=String.fromCharCode(l),s+=4;break}default:throw He(t,s,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}++s,u=s}}throw He(t,s,"Unterminated string.")}function Sb(t,n,e,r,i,o){for(var s=t.body,u=n+3,c=u,a=0,l="";u<s.length&&!isNaN(a=s.charCodeAt(u));){if(a===34&&s.charCodeAt(u+1)===34&&s.charCodeAt(u+2)===34)return l+=s.slice(c,u),new ge(F.BLOCK_STRING,n,u+3,e,r,i,fb(l));if(a<32&&a!==9&&a!==10&&a!==13)throw He(t,u,"Invalid character within String: ".concat(en(a),"."));a===10?(++u,++o.line,o.lineStart=u):a===13?(s.charCodeAt(u+1)===10?u+=2:++u,++o.line,o.lineStart=u):a===92&&s.charCodeAt(u+1)===34&&s.charCodeAt(u+2)===34&&s.charCodeAt(u+3)===34?(l+=s.slice(c,u)+'"""',u+=4,c=u):++u}throw He(t,u,"Unterminated string.")}function _b(t,n,e,r){return or(t)<<12|or(n)<<8|or(e)<<4|or(r)}function or(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function Eb(t,n,e,r,i){for(var o=t.body,s=o.length,u=n+1,c=0;u!==s&&!isNaN(c=o.charCodeAt(u))&&(c===95||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++u;return new ge(F.NAME,n,u,e,r,i,o.slice(n,u))}function Ab(t){return t===95||t>=65&&t<=90||t>=97&&t<=122}function Ou(t,n){var e=new Ib(t,n);return e.parseDocument()}var Ib=function(){function t(e,r){var i=cb(e)?e:new Tl(e);this._lexer=new pb(i),this._options=r}var n=t.prototype;return n.parseName=function(){var e=this.expectToken(F.NAME);return{kind:Q.NAME,value:e.value,loc:this.loc(e)}},n.parseDocument=function(){var e=this._lexer.token;return{kind:Q.DOCUMENT,definitions:this.many(F.SOF,this.parseDefinition,F.EOF),loc:this.loc(e)}},n.parseDefinition=function(){if(this.peek(F.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(F.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},n.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(F.BRACE_L))return{kind:Q.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var r=this.parseOperationType(),i;return this.peek(F.NAME)&&(i=this.parseName()),{kind:Q.OPERATION_DEFINITION,operation:r,name:i,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},n.parseOperationType=function(){var e=this.expectToken(F.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},n.parseVariableDefinitions=function(){return this.optionalMany(F.PAREN_L,this.parseVariableDefinition,F.PAREN_R)},n.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:Q.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(F.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(F.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},n.parseVariable=function(){var e=this._lexer.token;return this.expectToken(F.DOLLAR),{kind:Q.VARIABLE,name:this.parseName(),loc:this.loc(e)}},n.parseSelectionSet=function(){var e=this._lexer.token;return{kind:Q.SELECTION_SET,selections:this.many(F.BRACE_L,this.parseSelection,F.BRACE_R),loc:this.loc(e)}},n.parseSelection=function(){return this.peek(F.SPREAD)?this.parseFragment():this.parseField()},n.parseField=function(){var e=this._lexer.token,r=this.parseName(),i,o;return this.expectOptionalToken(F.COLON)?(i=r,o=this.parseName()):o=r,{kind:Q.FIELD,alias:i,name:o,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(F.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(e)}},n.parseArguments=function(e){var r=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(F.PAREN_L,r,F.PAREN_R)},n.parseArgument=function(){var e=this._lexer.token,r=this.parseName();return this.expectToken(F.COLON),{kind:Q.ARGUMENT,name:r,value:this.parseValueLiteral(!1),loc:this.loc(e)}},n.parseConstArgument=function(){var e=this._lexer.token;return{kind:Q.ARGUMENT,name:this.parseName(),value:(this.expectToken(F.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},n.parseFragment=function(){var e=this._lexer.token;this.expectToken(F.SPREAD);var r=this.expectOptionalKeyword("on");return!r&&this.peek(F.NAME)?{kind:Q.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:Q.INLINE_FRAGMENT,typeCondition:r?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},n.parseFragmentDefinition=function(){var e,r=this._lexer.token;return this.expectKeyword("fragment"),((e=this._options)===null||e===void 0?void 0:e.experimentalFragmentVariables)===!0?{kind:Q.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(r)}:{kind:Q.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(r)}},n.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},n.parseValueLiteral=function(e){var r=this._lexer.token;switch(r.kind){case F.BRACKET_L:return this.parseList(e);case F.BRACE_L:return this.parseObject(e);case F.INT:return this._lexer.advance(),{kind:Q.INT,value:r.value,loc:this.loc(r)};case F.FLOAT:return this._lexer.advance(),{kind:Q.FLOAT,value:r.value,loc:this.loc(r)};case F.STRING:case F.BLOCK_STRING:return this.parseStringLiteral();case F.NAME:switch(this._lexer.advance(),r.value){case"true":return{kind:Q.BOOLEAN,value:!0,loc:this.loc(r)};case"false":return{kind:Q.BOOLEAN,value:!1,loc:this.loc(r)};case"null":return{kind:Q.NULL,loc:this.loc(r)};default:return{kind:Q.ENUM,value:r.value,loc:this.loc(r)}}case F.DOLLAR:if(!e)return this.parseVariable();break}throw this.unexpected()},n.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:Q.STRING,value:e.value,block:e.kind===F.BLOCK_STRING,loc:this.loc(e)}},n.parseList=function(e){var r=this,i=this._lexer.token,o=function(){return r.parseValueLiteral(e)};return{kind:Q.LIST,values:this.any(F.BRACKET_L,o,F.BRACKET_R),loc:this.loc(i)}},n.parseObject=function(e){var r=this,i=this._lexer.token,o=function(){return r.parseObjectField(e)};return{kind:Q.OBJECT,fields:this.any(F.BRACE_L,o,F.BRACE_R),loc:this.loc(i)}},n.parseObjectField=function(e){var r=this._lexer.token,i=this.parseName();return this.expectToken(F.COLON),{kind:Q.OBJECT_FIELD,name:i,value:this.parseValueLiteral(e),loc:this.loc(r)}},n.parseDirectives=function(e){for(var r=[];this.peek(F.AT);)r.push(this.parseDirective(e));return r},n.parseDirective=function(e){var r=this._lexer.token;return this.expectToken(F.AT),{kind:Q.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(r)}},n.parseTypeReference=function(){var e=this._lexer.token,r;return this.expectOptionalToken(F.BRACKET_L)?(r=this.parseTypeReference(),this.expectToken(F.BRACKET_R),r={kind:Q.LIST_TYPE,type:r,loc:this.loc(e)}):r=this.parseNamedType(),this.expectOptionalToken(F.BANG)?{kind:Q.NON_NULL_TYPE,type:r,loc:this.loc(e)}:r},n.parseNamedType=function(){var e=this._lexer.token;return{kind:Q.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},n.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===F.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},n.peekDescription=function(){return this.peek(F.STRING)||this.peek(F.BLOCK_STRING)},n.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},n.parseSchemaDefinition=function(){var e=this._lexer.token,r=this.parseDescription();this.expectKeyword("schema");var i=this.parseDirectives(!0),o=this.many(F.BRACE_L,this.parseOperationTypeDefinition,F.BRACE_R);return{kind:Q.SCHEMA_DEFINITION,description:r,directives:i,operationTypes:o,loc:this.loc(e)}},n.parseOperationTypeDefinition=function(){var e=this._lexer.token,r=this.parseOperationType();this.expectToken(F.COLON);var i=this.parseNamedType();return{kind:Q.OPERATION_TYPE_DEFINITION,operation:r,type:i,loc:this.loc(e)}},n.parseScalarTypeDefinition=function(){var e=this._lexer.token,r=this.parseDescription();this.expectKeyword("scalar");var i=this.parseName(),o=this.parseDirectives(!0);return{kind:Q.SCALAR_TYPE_DEFINITION,description:r,name:i,directives:o,loc:this.loc(e)}},n.parseObjectTypeDefinition=function(){var e=this._lexer.token,r=this.parseDescription();this.expectKeyword("type");var i=this.parseName(),o=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),u=this.parseFieldsDefinition();return{kind:Q.OBJECT_TYPE_DEFINITION,description:r,name:i,interfaces:o,directives:s,fields:u,loc:this.loc(e)}},n.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(((e=this._options)===null||e===void 0?void 0:e.allowLegacySDLImplementsInterfaces)===!0){var r=[];this.expectOptionalToken(F.AMP);do r.push(this.parseNamedType());while(this.expectOptionalToken(F.AMP)||this.peek(F.NAME));return r}return this.delimitedMany(F.AMP,this.parseNamedType)},n.parseFieldsDefinition=function(){var e;return((e=this._options)===null||e===void 0?void 0:e.allowLegacySDLEmptyFields)===!0&&this.peek(F.BRACE_L)&&this._lexer.lookahead().kind===F.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(F.BRACE_L,this.parseFieldDefinition,F.BRACE_R)},n.parseFieldDefinition=function(){var e=this._lexer.token,r=this.parseDescription(),i=this.parseName(),o=this.parseArgumentDefs();this.expectToken(F.COLON);var s=this.parseTypeReference(),u=this.parseDirectives(!0);return{kind:Q.FIELD_DEFINITION,description:r,name:i,arguments:o,type:s,directives:u,loc:this.loc(e)}},n.parseArgumentDefs=function(){return this.optionalMany(F.PAREN_L,this.parseInputValueDef,F.PAREN_R)},n.parseInputValueDef=function(){var e=this._lexer.token,r=this.parseDescription(),i=this.parseName();this.expectToken(F.COLON);var o=this.parseTypeReference(),s;this.expectOptionalToken(F.EQUALS)&&(s=this.parseValueLiteral(!0));var u=this.parseDirectives(!0);return{kind:Q.INPUT_VALUE_DEFINITION,description:r,name:i,type:o,defaultValue:s,directives:u,loc:this.loc(e)}},n.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,r=this.parseDescription();this.expectKeyword("interface");var i=this.parseName(),o=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),u=this.parseFieldsDefinition();return{kind:Q.INTERFACE_TYPE_DEFINITION,description:r,name:i,interfaces:o,directives:s,fields:u,loc:this.loc(e)}},n.parseUnionTypeDefinition=function(){var e=this._lexer.token,r=this.parseDescription();this.expectKeyword("union");var i=this.parseName(),o=this.parseDirectives(!0),s=this.parseUnionMemberTypes();return{kind:Q.UNION_TYPE_DEFINITION,description:r,name:i,directives:o,types:s,loc:this.loc(e)}},n.parseUnionMemberTypes=function(){return this.expectOptionalToken(F.EQUALS)?this.delimitedMany(F.PIPE,this.parseNamedType):[]},n.parseEnumTypeDefinition=function(){var e=this._lexer.token,r=this.parseDescription();this.expectKeyword("enum");var i=this.parseName(),o=this.parseDirectives(!0),s=this.parseEnumValuesDefinition();return{kind:Q.ENUM_TYPE_DEFINITION,description:r,name:i,directives:o,values:s,loc:this.loc(e)}},n.parseEnumValuesDefinition=function(){return this.optionalMany(F.BRACE_L,this.parseEnumValueDefinition,F.BRACE_R)},n.parseEnumValueDefinition=function(){var e=this._lexer.token,r=this.parseDescription(),i=this.parseName(),o=this.parseDirectives(!0);return{kind:Q.ENUM_VALUE_DEFINITION,description:r,name:i,directives:o,loc:this.loc(e)}},n.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,r=this.parseDescription();this.expectKeyword("input");var i=this.parseName(),o=this.parseDirectives(!0),s=this.parseInputFieldsDefinition();return{kind:Q.INPUT_OBJECT_TYPE_DEFINITION,description:r,name:i,directives:o,fields:s,loc:this.loc(e)}},n.parseInputFieldsDefinition=function(){return this.optionalMany(F.BRACE_L,this.parseInputValueDef,F.BRACE_R)},n.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===F.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},n.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var r=this.parseDirectives(!0),i=this.optionalMany(F.BRACE_L,this.parseOperationTypeDefinition,F.BRACE_R);if(r.length===0&&i.length===0)throw this.unexpected();return{kind:Q.SCHEMA_EXTENSION,directives:r,operationTypes:i,loc:this.loc(e)}},n.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var r=this.parseName(),i=this.parseDirectives(!0);if(i.length===0)throw this.unexpected();return{kind:Q.SCALAR_TYPE_EXTENSION,name:r,directives:i,loc:this.loc(e)}},n.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var r=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),s=this.parseFieldsDefinition();if(i.length===0&&o.length===0&&s.length===0)throw this.unexpected();return{kind:Q.OBJECT_TYPE_EXTENSION,name:r,interfaces:i,directives:o,fields:s,loc:this.loc(e)}},n.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var r=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),s=this.parseFieldsDefinition();if(i.length===0&&o.length===0&&s.length===0)throw this.unexpected();return{kind:Q.INTERFACE_TYPE_EXTENSION,name:r,interfaces:i,directives:o,fields:s,loc:this.loc(e)}},n.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var r=this.parseName(),i=this.parseDirectives(!0),o=this.parseUnionMemberTypes();if(i.length===0&&o.length===0)throw this.unexpected();return{kind:Q.UNION_TYPE_EXTENSION,name:r,directives:i,types:o,loc:this.loc(e)}},n.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var r=this.parseName(),i=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();if(i.length===0&&o.length===0)throw this.unexpected();return{kind:Q.ENUM_TYPE_EXTENSION,name:r,directives:i,values:o,loc:this.loc(e)}},n.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var r=this.parseName(),i=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();if(i.length===0&&o.length===0)throw this.unexpected();return{kind:Q.INPUT_OBJECT_TYPE_EXTENSION,name:r,directives:i,fields:o,loc:this.loc(e)}},n.parseDirectiveDefinition=function(){var e=this._lexer.token,r=this.parseDescription();this.expectKeyword("directive"),this.expectToken(F.AT);var i=this.parseName(),o=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var u=this.parseDirectiveLocations();return{kind:Q.DIRECTIVE_DEFINITION,description:r,name:i,arguments:o,repeatable:s,locations:u,loc:this.loc(e)}},n.parseDirectiveLocations=function(){return this.delimitedMany(F.PIPE,this.parseDirectiveLocation)},n.parseDirectiveLocation=function(){var e=this._lexer.token,r=this.parseName();if(lb[r.value]!==void 0)return r;throw this.unexpected(e)},n.loc=function(e){var r;if(((r=this._options)===null||r===void 0?void 0:r.noLocation)!==!0)return new El(e,this._lexer.lastToken,this._lexer.source)},n.peek=function(e){return this._lexer.token.kind===e},n.expectToken=function(e){var r=this._lexer.token;if(r.kind===e)return this._lexer.advance(),r;throw He(this._lexer.source,r.start,"Expected ".concat(Cl(e),", found ").concat(xi(r),"."))},n.expectOptionalToken=function(e){var r=this._lexer.token;if(r.kind===e)return this._lexer.advance(),r},n.expectKeyword=function(e){var r=this._lexer.token;if(r.kind===F.NAME&&r.value===e)this._lexer.advance();else throw He(this._lexer.source,r.start,'Expected "'.concat(e,'", found ').concat(xi(r),"."))},n.expectOptionalKeyword=function(e){var r=this._lexer.token;return r.kind===F.NAME&&r.value===e?(this._lexer.advance(),!0):!1},n.unexpected=function(e){var r=e??this._lexer.token;return He(this._lexer.source,r.start,"Unexpected ".concat(xi(r),"."))},n.any=function(e,r,i){this.expectToken(e);for(var o=[];!this.expectOptionalToken(i);)o.push(r.call(this));return o},n.optionalMany=function(e,r,i){if(this.expectOptionalToken(e)){var o=[];do o.push(r.call(this));while(!this.expectOptionalToken(i));return o}return[]},n.many=function(e,r,i){this.expectToken(e);var o=[];do o.push(r.call(this));while(!this.expectOptionalToken(i));return o},n.delimitedMany=function(e,r){this.expectOptionalToken(e);var i=[];do i.push(r.call(this));while(this.expectOptionalToken(e));return i},t}();function xi(t){var n=t.value;return Cl(t.kind)+(n!=null?' "'.concat(n,'"'):"")}function Cl(t){return gb(t)?'"'.concat(t,'"'):t}var Tb={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Cb=Object.freeze({});function kb(t,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Tb,r=void 0,i=Array.isArray(t),o=[t],s=-1,u=[],c=void 0,a=void 0,l=void 0,f=[],g=[],v=t;do{s++;var b=s===o.length,_=b&&u.length!==0;if(b){if(a=g.length===0?void 0:f[f.length-1],c=l,l=g.pop(),_){if(i)c=c.slice();else{for(var T={},O=0,I=Object.keys(c);O<I.length;O++){var N=I[O];T[N]=c[N]}c=T}for(var U=0,D=0;D<u.length;D++){var z=u[D][0],H=u[D][1];i&&(z-=U),i&&H===null?(c.splice(z,1),U++):c[z]=H}}s=r.index,o=r.keys,u=r.edits,i=r.inArray,r=r.prev}else{if(a=l?i?s:o[s]:void 0,c=l?l[a]:v,c==null)continue;l&&f.push(a)}var k=void 0;if(!Array.isArray(c)){if(!Tu(c))throw new Error("Invalid AST Node: ".concat(Il(c),"."));var W=Ob(n,c.kind,b);if(W){if(k=W.call(n,c,a,l,f,g),k===Cb)break;if(k===!1){if(!b){f.pop();continue}}else if(k!==void 0&&(u.push([a,k]),!b))if(Tu(k))c=k;else{f.pop();continue}}}if(k===void 0&&_&&u.push([a,c]),b)f.pop();else{var p;r={inArray:i,index:s,keys:o,edits:u,prev:r},i=Array.isArray(c),o=i?c:(p=e[c.kind])!==null&&p!==void 0?p:[],s=-1,u=[],l&&g.push(l),l=c}}while(r!==void 0);return u.length!==0&&(v=u[u.length-1][1]),v}function Ob(t,n,e){var r=t[n];if(r){if(!e&&typeof r=="function")return r;var i=e?r.leave:r.enter;if(typeof i=="function")return i}else{var o=e?t.leave:t.enter;if(o){if(typeof o=="function")return o;var s=o[n];if(typeof s=="function")return s}}}function Ni(t){return kb(t,{leave:xb})}var Pb=80,xb={Name:function(t){return t.value},Variable:function(t){return"$"+t.name},Document:function(t){return J(t.definitions,`

`)+`
`},OperationDefinition:function(t){var n=t.operation,e=t.name,r=pe("(",J(t.variableDefinitions,", "),")"),i=J(t.directives," "),o=t.selectionSet;return!e&&!i&&!r&&n==="query"?o:J([n,J([e,r]),i,o]," ")},VariableDefinition:function(t){var n=t.variable,e=t.type,r=t.defaultValue,i=t.directives;return n+": "+e+pe(" = ",r)+pe(" ",J(i," "))},SelectionSet:function(t){var n=t.selections;return rt(n)},Field:function(t){var n=t.alias,e=t.name,r=t.arguments,i=t.directives,o=t.selectionSet,s=pe("",n,": ")+e,u=s+pe("(",J(r,", "),")");return u.length>Pb&&(u=s+pe(`(
`,yr(J(r,`
`)),`
)`)),J([u,J(i," "),o]," ")},Argument:function(t){var n=t.name,e=t.value;return n+": "+e},FragmentSpread:function(t){var n=t.name,e=t.directives;return"..."+n+pe(" ",J(e," "))},InlineFragment:function(t){var n=t.typeCondition,e=t.directives,r=t.selectionSet;return J(["...",pe("on ",n),J(e," "),r]," ")},FragmentDefinition:function(t){var n=t.name,e=t.typeCondition,r=t.variableDefinitions,i=t.directives,o=t.selectionSet;return"fragment ".concat(n).concat(pe("(",J(r,", "),")")," ")+"on ".concat(e," ").concat(pe("",J(i," ")," "))+o},IntValue:function(t){var n=t.value;return n},FloatValue:function(t){var n=t.value;return n},StringValue:function(t,n){var e=t.value,r=t.block;return r?db(e,n==="description"?"":"  "):JSON.stringify(e)},BooleanValue:function(t){var n=t.value;return n?"true":"false"},NullValue:function(){return"null"},EnumValue:function(t){var n=t.value;return n},ListValue:function(t){var n=t.values;return"["+J(n,", ")+"]"},ObjectValue:function(t){var n=t.fields;return"{"+J(n,", ")+"}"},ObjectField:function(t){var n=t.name,e=t.value;return n+": "+e},Directive:function(t){var n=t.name,e=t.arguments;return"@"+n+pe("(",J(e,", "),")")},NamedType:function(t){var n=t.name;return n},ListType:function(t){var n=t.type;return"["+n+"]"},NonNullType:function(t){var n=t.type;return n+"!"},SchemaDefinition:nt(function(t){var n=t.directives,e=t.operationTypes;return J(["schema",J(n," "),rt(e)]," ")}),OperationTypeDefinition:function(t){var n=t.operation,e=t.type;return n+": "+e},ScalarTypeDefinition:nt(function(t){var n=t.name,e=t.directives;return J(["scalar",n,J(e," ")]," ")}),ObjectTypeDefinition:nt(function(t){var n=t.name,e=t.interfaces,r=t.directives,i=t.fields;return J(["type",n,pe("implements ",J(e," & ")),J(r," "),rt(i)]," ")}),FieldDefinition:nt(function(t){var n=t.name,e=t.arguments,r=t.type,i=t.directives;return n+(Pu(e)?pe(`(
`,yr(J(e,`
`)),`
)`):pe("(",J(e,", "),")"))+": "+r+pe(" ",J(i," "))}),InputValueDefinition:nt(function(t){var n=t.name,e=t.type,r=t.defaultValue,i=t.directives;return J([n+": "+e,pe("= ",r),J(i," ")]," ")}),InterfaceTypeDefinition:nt(function(t){var n=t.name,e=t.interfaces,r=t.directives,i=t.fields;return J(["interface",n,pe("implements ",J(e," & ")),J(r," "),rt(i)]," ")}),UnionTypeDefinition:nt(function(t){var n=t.name,e=t.directives,r=t.types;return J(["union",n,J(e," "),r&&r.length!==0?"= "+J(r," | "):""]," ")}),EnumTypeDefinition:nt(function(t){var n=t.name,e=t.directives,r=t.values;return J(["enum",n,J(e," "),rt(r)]," ")}),EnumValueDefinition:nt(function(t){var n=t.name,e=t.directives;return J([n,J(e," ")]," ")}),InputObjectTypeDefinition:nt(function(t){var n=t.name,e=t.directives,r=t.fields;return J(["input",n,J(e," "),rt(r)]," ")}),DirectiveDefinition:nt(function(t){var n=t.name,e=t.arguments,r=t.repeatable,i=t.locations;return"directive @"+n+(Pu(e)?pe(`(
`,yr(J(e,`
`)),`
)`):pe("(",J(e,", "),")"))+(r?" repeatable":"")+" on "+J(i," | ")}),SchemaExtension:function(t){var n=t.directives,e=t.operationTypes;return J(["extend schema",J(n," "),rt(e)]," ")},ScalarTypeExtension:function(t){var n=t.name,e=t.directives;return J(["extend scalar",n,J(e," ")]," ")},ObjectTypeExtension:function(t){var n=t.name,e=t.interfaces,r=t.directives,i=t.fields;return J(["extend type",n,pe("implements ",J(e," & ")),J(r," "),rt(i)]," ")},InterfaceTypeExtension:function(t){var n=t.name,e=t.interfaces,r=t.directives,i=t.fields;return J(["extend interface",n,pe("implements ",J(e," & ")),J(r," "),rt(i)]," ")},UnionTypeExtension:function(t){var n=t.name,e=t.directives,r=t.types;return J(["extend union",n,J(e," "),r&&r.length!==0?"= "+J(r," | "):""]," ")},EnumTypeExtension:function(t){var n=t.name,e=t.directives,r=t.values;return J(["extend enum",n,J(e," "),rt(r)]," ")},InputObjectTypeExtension:function(t){var n=t.name,e=t.directives,r=t.fields;return J(["extend input",n,J(e," "),rt(r)]," ")}};function nt(t){return function(n){return J([n.description,t(n)],`
`)}}function J(t){var n,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(n=t==null?void 0:t.filter(function(r){return r}).join(e))!==null&&n!==void 0?n:""}function rt(t){return pe(`{
`,yr(J(t,`
`)),`
}`)}function pe(t,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return n!=null&&n!==""?t+n+e:""}function yr(t){return pe("  ",t.replace(/\n/g,`
  `))}function Nb(t){return t.indexOf(`
`)!==-1}function Pu(t){return t!=null&&t.some(Nb)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ao=function(t,n){return Ao=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])},Ao(t,n)};function Rb(t,n){Ao(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var ke=function(){return ke=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ke.apply(this,arguments)};function Le(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,n||[])).next())})}function Fe(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function Ub(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,o=[],s;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}var Db=new ye("AbstractPubSubProvider"),Mb=function(){function t(n){this._config=n}return t.prototype.configure=function(n){return this._config=ke(ke({},n),this._config),Db.debug("configure "+this.getProviderName(),this._config),this.options},t.prototype.getCategory=function(){return"PubSub"},Object.defineProperty(t.prototype,"options",{get:function(){return ke({},this._config)},enumerable:!0,configurable:!0}),t}(),ot;(function(t){t.CONNECTION_CLOSED="Connection closed",t.CONNECTION_FAILED="Connection failed",t.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",t.SUBSCRIPTION_ACK="Subscription ack",t.TIMEOUT_DISCONNECT="Timeout disconnect"})(ot||(ot={}));var Se;(function(t){t.Connected="Connected",t.ConnectedPendingNetwork="ConnectedPendingNetwork",t.ConnectionDisrupted="ConnectionDisrupted",t.ConnectionDisruptedPendingNetwork="ConnectionDisruptedPendingNetwork",t.Connecting="Connecting",t.ConnectedPendingDisconnect="ConnectedPendingDisconnect",t.Disconnected="Disconnected",t.ConnectedPendingKeepAlive="ConnectedPendingKeepAlive"})(Se||(Se={}));var jb=5e3,Lb=[400,401,403],Fb="ConnectionStateChange",st;(function(t){t.GQL_CONNECTION_INIT="connection_init",t.GQL_CONNECTION_ERROR="connection_error",t.GQL_CONNECTION_ACK="connection_ack",t.GQL_START="start",t.GQL_START_ACK="start_ack",t.GQL_DATA="data",t.GQL_CONNECTION_KEEP_ALIVE="ka",t.GQL_STOP="stop",t.GQL_COMPLETE="complete",t.GQL_ERROR="error"})(st||(st={}));var Lt;(function(t){t[t.PENDING=0]="PENDING",t[t.CONNECTED=1]="CONNECTED",t[t.FAILED=2]="FAILED"})(Lt||(Lt={}));var ze;(function(t){t[t.CLOSED=0]="CLOSED",t[t.READY=1]="READY",t[t.CONNECTING=2]="CONNECTING"})(ze||(ze={}));var Bb=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",qb={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},xu=15e3,Kb=15e3,Nu=5*60*1e3,Vb=65*1e3,zb=5*1e3,Gb=60*1e3,Ru=function(){return new ef().networkMonitor()},xe={KEEP_ALIVE_MISSED:{keepAliveState:"unhealthy"},KEEP_ALIVE:{keepAliveState:"healthy"},CONNECTION_ESTABLISHED:{connectionState:"connected"},CONNECTION_FAILED:{intendedConnectionState:"disconnected",connectionState:"disconnected"},CLOSING_CONNECTION:{intendedConnectionState:"disconnected"},OPENING_CONNECTION:{intendedConnectionState:"connected",connectionState:"connecting"},CLOSED:{connectionState:"disconnected"},ONLINE:{networkState:"connected"},OFFLINE:{networkState:"disconnected"}},Hb=function(){function t(){var n=this;this._networkMonitoringSubscription=void 0,this._linkedConnectionState={networkState:"connected",connectionState:"disconnected",intendedConnectionState:"disconnected",keepAliveState:"healthy"},this._initialNetworkStateSubscription=Ru().subscribe(function(e){var r=e.online,i;n.record(r?xe.ONLINE:xe.OFFLINE),(i=n._initialNetworkStateSubscription)===null||i===void 0||i.unsubscribe()}),this._linkedConnectionStateObservable=new yn(function(e){e.next(n._linkedConnectionState),n._linkedConnectionStateObserver=e})}return t.prototype.enableNetworkMonitoring=function(){var n=this,e;(e=this._initialNetworkStateSubscription)===null||e===void 0||e.unsubscribe(),this._networkMonitoringSubscription===void 0&&(this._networkMonitoringSubscription=Ru().subscribe(function(r){var i=r.online;n.record(i?xe.ONLINE:xe.OFFLINE)}))},t.prototype.disableNetworkMonitoring=function(){var n;(n=this._networkMonitoringSubscription)===null||n===void 0||n.unsubscribe(),this._networkMonitoringSubscription=void 0},Object.defineProperty(t.prototype,"connectionStateObservable",{get:function(){var n=this,e;return this._linkedConnectionStateObservable.map(function(r){return n.connectionStatesTranslator(r)}).filter(function(r){var i=r!==e;return e=r,i})},enumerable:!0,configurable:!0}),t.prototype.record=function(n){n.intendedConnectionState==="connected"?this.enableNetworkMonitoring():n.intendedConnectionState==="disconnected"&&this.disableNetworkMonitoring();var e=ke(ke({},this._linkedConnectionState),n);this._linkedConnectionState=ke({},e),this._linkedConnectionStateObserver.next(this._linkedConnectionState)},t.prototype.connectionStatesTranslator=function(n){var e=n.connectionState,r=n.networkState,i=n.intendedConnectionState,o=n.keepAliveState;return e==="connected"&&r==="disconnected"?Se.ConnectedPendingNetwork:e==="connected"&&i==="disconnected"?Se.ConnectedPendingDisconnect:e==="disconnected"&&i==="connected"&&r==="disconnected"?Se.ConnectionDisruptedPendingNetwork:e==="disconnected"&&i==="connected"?Se.ConnectionDisrupted:e==="connected"&&o==="unhealthy"?Se.ConnectedPendingKeepAlive:e==="connecting"?Se.Connecting:e==="disconnected"?Se.Disconnected:Se.Connected},t}(),Sn;(function(t){t.START_RECONNECT="START_RECONNECT",t.HALT_RECONNECT="HALT_RECONNECT"})(Sn||(Sn={}));var Wb=function(){function t(){this.reconnectObservers=[]}return t.prototype.addObserver=function(n){this.reconnectObservers.push(n)},t.prototype.record=function(n){var e=this;n===Sn.START_RECONNECT&&this.reconnectSetTimeoutId===void 0&&this.reconnectIntervalId===void 0&&(this.reconnectSetTimeoutId=setTimeout(function(){e._triggerReconnect(),e.reconnectIntervalId=setInterval(function(){e._triggerReconnect()},Gb)},zb)),n===Sn.HALT_RECONNECT&&(this.reconnectIntervalId&&(clearInterval(this.reconnectIntervalId),this.reconnectIntervalId=void 0),this.reconnectSetTimeoutId&&(clearTimeout(this.reconnectSetTimeoutId),this.reconnectSetTimeoutId=void 0))},t.prototype.close=function(){this.reconnectObservers.forEach(function(n){var e;(e=n.complete)===null||e===void 0||e.call(n)})},t.prototype._triggerReconnect=function(){this.reconnectObservers.forEach(function(n){var e;(e=n.next)===null||e===void 0||e.call(n)})},t}(),le=new ye("AWSAppSyncRealTimeProvider"),Uu=function(t,n,e){gt.dispatch("api",{event:t,data:n,message:e},"PubSub",Bb)},Yb=/^https:\/\/\w{26}\.appsync\-api\.\w{2}(?:(?:\-\w{2,})+)\-\d\.amazonaws.com(?:\.cn)?\/graphql$/i,Jb="/realtime",$b=function(t){Rb(n,t);function n(e){e===void 0&&(e={});var r=t.call(this,e)||this;return r.socketStatus=ze.CLOSED,r.keepAliveTimeout=Nu,r.subscriptionObserverMap=new Map,r.promiseArray=[],r.connectionStateMonitor=new Hb,r.reconnectionMonitor=new Wb,r.connectionStateMonitorSubscription=r.connectionStateMonitor.connectionStateObservable.subscribe(function(i){Uu(Fb,{provider:r,connectionState:i},"Connection state is "+i),r.connectionState=i,i===Se.ConnectionDisrupted&&r.reconnectionMonitor.record(Sn.START_RECONNECT),[Se.Connected,Se.ConnectedPendingDisconnect,Se.ConnectedPendingKeepAlive,Se.ConnectedPendingNetwork,Se.ConnectedPendingNetwork,Se.ConnectionDisruptedPendingNetwork,Se.Disconnected].includes(i)&&r.reconnectionMonitor.record(Sn.HALT_RECONNECT)}),r}return n.prototype.close=function(){this.socketStatus=ze.CLOSED,this.connectionStateMonitor.record(xe.CONNECTION_FAILED),this.connectionStateMonitorSubscription.unsubscribe(),this.reconnectionMonitor.close()},n.prototype.getNewWebSocket=function(e,r){return new WebSocket(e,r)},n.prototype.getProviderName=function(){return"AWSAppSyncRealTimeProvider"},n.prototype.newClient=function(){throw new Error("Not used here")},n.prototype.publish=function(e,r,i){return Le(this,void 0,void 0,function(){return Fe(this,function(o){throw new Error("Operation not supported")})})},n.prototype.isCustomDomain=function(e){return e.match(Yb)===null},n.prototype.subscribe=function(e,r){var i=this,o=r==null?void 0:r.appSyncGraphqlEndpoint;return new yn(function(s){if(!r||!o)s.error({errors:[ke({},new pn("Subscribe only available for AWS AppSync endpoint"))]}),s.complete();else{var u=!1,c=Sc.v4(),a=function(){if(!u){u=!0;var f=i._startSubscriptionWithAWSAppSyncRealTime({options:r,observer:s,subscriptionId:c}).catch(function(g){le.debug(ot.REALTIME_SUBSCRIPTION_INIT_ERROR+": "+g),i.connectionStateMonitor.record(xe.CLOSED)});f.finally(function(){u=!1})}},l;return l=new yn(function(f){i.reconnectionMonitor.addObserver(f)}).subscribe(function(){a()}),a(),function(){return Le(i,void 0,void 0,function(){var f,g;return Fe(this,function(v){switch(v.label){case 0:l==null||l.unsubscribe(),v.label=1;case 1:return v.trys.push([1,3,4,5]),[4,this._waitForSubscriptionToBeConnected(c)];case 2:if(v.sent(),f=(this.subscriptionObserverMap.get(c)||{}).subscriptionState,!f)return[2];if(f===Lt.CONNECTED)this._sendUnsubscriptionMessage(c);else throw new Error("Subscription never connected");return[3,5];case 3:return g=v.sent(),le.debug("Error while unsubscribing "+g),[3,5];case 4:return this._removeSubscriptionObserver(c),[7];case 5:return[2]}})})}}})},Object.defineProperty(n.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),n.prototype._startSubscriptionWithAWSAppSyncRealTime=function(e){var r=e.options,i=e.observer,o=e.subscriptionId,s;return Le(this,void 0,void 0,function(){var u,c,a,l,f,g,v,b,_,T,O,I,N,U,D,z,H,k,W,p,y,m,E,A=this;return Fe(this,function(S){switch(S.label){case 0:return u=r.appSyncGraphqlEndpoint,c=r.authenticationType,a=r.query,l=r.variables,f=r.apiKey,g=r.region,v=r.graphql_headers,b=v===void 0?function(){return{}}:v,_=r.additionalHeaders,T=_===void 0?{}:_,O=Lt.PENDING,I={query:a,variables:l},this.subscriptionObserverMap.set(o,{observer:i,query:a??"",variables:l??{},subscriptionState:O,startAckTimeoutId:void 0}),N=JSON.stringify(I),D=[{}],[4,this._awsRealTimeHeaderBasedAuth({apiKey:f,appSyncGraphqlEndpoint:u,authenticationType:c,payload:N,canonicalUri:"",region:g,additionalHeaders:T})];case 1:return z=[ke.apply(void 0,D.concat([S.sent()]))],[4,b()];case 2:U=ke.apply(void 0,[ke.apply(void 0,[ke.apply(void 0,z.concat([S.sent()])),T]),(E={},E[Dy]=My.userAgent,E)]),H={id:o,payload:{data:N,extensions:{authorization:ke({},U)}},type:st.GQL_START},k=JSON.stringify(H),S.label=3;case 3:return S.trys.push([3,5,,6]),this.connectionStateMonitor.record(xe.OPENING_CONNECTION),[4,this._initializeWebSocketConnection({apiKey:f,appSyncGraphqlEndpoint:u,authenticationType:c,region:g,additionalHeaders:T})];case 4:return S.sent(),[3,6];case 5:return W=S.sent(),this._logStartSubscriptionError(o,i,W),[2];case 6:return p=(s=this.subscriptionObserverMap.get(o))!==null&&s!==void 0?s:{},y=p.subscriptionFailedCallback,m=p.subscriptionReadyCallback,this.subscriptionObserverMap.set(o,{observer:i,subscriptionState:O,query:a??"",variables:l??{},subscriptionReadyCallback:m,subscriptionFailedCallback:y,startAckTimeoutId:setTimeout(function(){A._timeoutStartSubscriptionAck.call(A,o)},Kb)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(k),[2]}})})},n.prototype._logStartSubscriptionError=function(e,r,i){var o;le.debug({err:i});var s=String((o=i.message)!==null&&o!==void 0?o:"");if(Promise.resolve(this.connectionStateMonitor.record(xe.CLOSED)),this.connectionState!==Se.ConnectionDisruptedPendingNetwork){ju(i)?r.error({errors:[ke({},new pn(ot.CONNECTION_FAILED+": "+s))]}):le.debug(ot.CONNECTION_FAILED+": "+s);var u=(this.subscriptionObserverMap.get(e)||{}).subscriptionFailedCallback;typeof u=="function"&&u()}},n.prototype._waitForSubscriptionToBeConnected=function(e){return Le(this,void 0,void 0,function(){var r,i,o=this;return Fe(this,function(s){return r=this.subscriptionObserverMap.get(e),r&&(i=r.subscriptionState,i===Lt.PENDING)?[2,new Promise(function(u,c){var a=r.observer,l=r.subscriptionState,f=r.variables,g=r.query;o.subscriptionObserverMap.set(e,{observer:a,subscriptionState:l,variables:f,query:g,subscriptionReadyCallback:u,subscriptionFailedCallback:c})})]:[2]})})},n.prototype._sendUnsubscriptionMessage=function(e){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===ze.READY){var r={id:e,type:st.GQL_STOP},i=JSON.stringify(r);this.awsRealTimeSocket.send(i)}}catch(o){le.debug({err:o})}},n.prototype._removeSubscriptionObserver=function(e){this.subscriptionObserverMap.delete(e),setTimeout(this._closeSocketIfRequired.bind(this),1e3)},n.prototype._closeSocketIfRequired=function(){if(!(this.subscriptionObserverMap.size>0)){if(!this.awsRealTimeSocket){this.socketStatus=ze.CLOSED;return}if(this.connectionStateMonitor.record(xe.CLOSING_CONNECTION),this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{le.debug("closing WebSocket..."),this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId);var e=this.awsRealTimeSocket;e.onclose=null,e.onerror=null,e.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=ze.CLOSED,this.connectionStateMonitor.record(xe.CLOSED)}}},n.prototype._handleIncomingSubscriptionMessage=function(e){var r=this;if(typeof e.data=="string"){le.debug("subscription message from AWS AppSync RealTime: "+e.data);var i=JSON.parse(String(e.data)),o=i.id,s=o===void 0?"":o,u=i.payload,c=i.type,a=this.subscriptionObserverMap.get(s)||{},l=a.observer,f=l===void 0?null:l,g=a.query,v=g===void 0?"":g,b=a.variables,_=b===void 0?{}:b,T=a.startAckTimeoutId,O=a.subscriptionReadyCallback,I=a.subscriptionFailedCallback;if(le.debug({id:s,observer:f,query:v,variables:_}),c===st.GQL_DATA&&u&&u.data){f?f.next(u):le.debug("observer not found for id: "+s);return}if(c===st.GQL_START_ACK){le.debug("subscription ready for "+JSON.stringify({query:v,variables:_})),typeof O=="function"&&O(),T&&clearTimeout(T),Uu(ot.SUBSCRIPTION_ACK,{query:v,variables:_},"Connection established for subscription");var N=Lt.CONNECTED;f&&this.subscriptionObserverMap.set(s,{observer:f,query:v,variables:_,startAckTimeoutId:void 0,subscriptionState:N,subscriptionReadyCallback:O,subscriptionFailedCallback:I}),this.connectionStateMonitor.record(xe.CONNECTION_ESTABLISHED);return}if(c===st.GQL_CONNECTION_KEEP_ALIVE){this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId),this.keepAliveTimeoutId=setTimeout(function(){return r._errorDisconnect(ot.TIMEOUT_DISCONNECT)},this.keepAliveTimeout),this.keepAliveAlertTimeoutId=setTimeout(function(){r.connectionStateMonitor.record(xe.KEEP_ALIVE_MISSED)},Vb),this.connectionStateMonitor.record(xe.KEEP_ALIVE);return}if(c===st.GQL_ERROR){var N=Lt.FAILED;f&&(this.subscriptionObserverMap.set(s,{observer:f,query:v,variables:_,startAckTimeoutId:T,subscriptionReadyCallback:O,subscriptionFailedCallback:I,subscriptionState:N}),le.debug(ot.CONNECTION_FAILED+": "+JSON.stringify(u)),f.error({errors:[ke({},new pn(ot.CONNECTION_FAILED+": "+JSON.stringify(u)))]}),T&&clearTimeout(T),typeof I=="function"&&I())}}},n.prototype._errorDisconnect=function(e){le.debug("Disconnect error: "+e),this.awsRealTimeSocket&&(this.connectionStateMonitor.record(xe.CLOSED),this.awsRealTimeSocket.close()),this.socketStatus=ze.CLOSED},n.prototype._timeoutStartSubscriptionAck=function(e){var r=this.subscriptionObserverMap.get(e);if(r){var i=r.observer,o=r.query,s=r.variables;if(!i)return;this.subscriptionObserverMap.set(e,{observer:i,query:o,variables:s,subscriptionState:Lt.FAILED}),this.connectionStateMonitor.record(xe.CLOSED),le.debug("timeoutStartSubscription",JSON.stringify({query:o,variables:s}))}},n.prototype._initializeWebSocketConnection=function(e){var r=this,i=e.appSyncGraphqlEndpoint,o=e.authenticationType,s=e.apiKey,u=e.region,c=e.additionalHeaders;if(this.socketStatus!==ze.READY)return new Promise(function(a,l){return Le(r,void 0,void 0,function(){var f,g,v,b,_,T,O,I,N;return Fe(this,function(U){switch(U.label){case 0:if(this.promiseArray.push({res:a,rej:l}),this.socketStatus!==ze.CLOSED)return[3,5];U.label=1;case 1:return U.trys.push([1,4,,5]),this.socketStatus=ze.CONNECTING,f="{}",[4,this._awsRealTimeHeaderBasedAuth({authenticationType:o,payload:f,canonicalUri:"/connect",apiKey:s,appSyncGraphqlEndpoint:i,region:u,additionalHeaders:c})];case 2:return g=U.sent(),v=g?JSON.stringify(g):"",b=se.Buffer.from(v).toString("base64"),_=se.Buffer.from(f).toString("base64"),T=i??"",this.isCustomDomain(T)?T=T.concat(Jb):T=T.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta"),O=this.isSSLEnabled?"wss://":"ws://",T=T.replace("https://",O).replace("http://",O),I=T+"?header="+b+"&payload="+_,[4,this._initializeRetryableHandshake(I)];case 3:return U.sent(),this.promiseArray.forEach(function(D){var z=D.res;le.debug("Notifying connection successful"),z()}),this.socketStatus=ze.READY,this.promiseArray=[],[3,5];case 4:return N=U.sent(),le.debug("Connection exited with",N),this.promiseArray.forEach(function(D){var z=D.rej;return z(N)}),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=ze.CLOSED,[3,5];case 5:return[2]}})})})},n.prototype._initializeRetryableHandshake=function(e){return Le(this,void 0,void 0,function(){return Fe(this,function(r){switch(r.label){case 0:return le.debug("Initializaling retryable Handshake"),[4,Fu(this._initializeHandshake.bind(this),[e],jb)];case 1:return r.sent(),[2]}})})},n.prototype._initializeHandshake=function(e){return Le(this,void 0,void 0,function(){var r,i,o,s,u=this;return Fe(this,function(c){switch(c.label){case 0:le.debug("Initializing handshake "+e),c.label=1;case 1:return c.trys.push([1,4,,5]),[4,function(){return new Promise(function(a,l){var f=u.getNewWebSocket(e,"graphql-ws");f.onerror=function(){le.debug("WebSocket connection error")},f.onclose=function(){l(new Error("Connection handshake error"))},f.onopen=function(){return u.awsRealTimeSocket=f,a()}})}()];case 2:return c.sent(),[4,function(){return new Promise(function(a,l){if(u.awsRealTimeSocket){var f=!1;u.awsRealTimeSocket.onerror=function(b){le.debug("WebSocket error "+JSON.stringify(b))},u.awsRealTimeSocket.onclose=function(b){le.debug("WebSocket closed "+b.reason),l(new Error(JSON.stringify(b)))},u.awsRealTimeSocket.onmessage=function(b){if(typeof b.data=="string"){le.debug("subscription message from AWS AppSyncRealTime: "+b.data+" ");var _=JSON.parse(b.data),T=_.type,O=_.payload,I=(O===void 0?{}:O).connectionTimeoutMs,N=I===void 0?Nu:I;if(T===st.GQL_CONNECTION_ACK){f=!0,u.awsRealTimeSocket&&(u.keepAliveTimeout=N,u.awsRealTimeSocket.onmessage=u._handleIncomingSubscriptionMessage.bind(u),u.awsRealTimeSocket.onerror=function(E){le.debug(E),u._errorDisconnect(ot.CONNECTION_CLOSED)},u.awsRealTimeSocket.onclose=function(E){le.debug("WebSocket closed "+E.reason),u._errorDisconnect(ot.CONNECTION_CLOSED)}),a("Cool, connected to AWS AppSyncRealTime");return}if(T===st.GQL_CONNECTION_ERROR){var U=_.payload,D=(U===void 0?{}:U).errors,z=Ub(D===void 0?[]:D,1),H=z[0],k=H===void 0?{}:H,W=k.errorType,p=W===void 0?"":W,y=k.errorCode,m=y===void 0?0:y;l({errorType:p,errorCode:m})}}};var g={type:st.GQL_CONNECTION_INIT};u.awsRealTimeSocket.send(JSON.stringify(g));var v=function(b){b||(u.connectionStateMonitor.record(xe.CONNECTION_FAILED),l(new Error("Connection timeout: ack from AWSAppSyncRealTime was not received after "+xu+" ms")))};setTimeout(function(){return v(f)},xu)}})}()];case 3:return c.sent(),[3,5];case 4:throw r=c.sent(),i=r,o=i.errorType,s=i.errorCode,Lb.includes(s)?new Bt(o):o?new Error(o):r;case 5:return[2]}})})},n.prototype._awsRealTimeHeaderBasedAuth=function(e){var r=e.authenticationType,i=e.payload,o=e.canonicalUri,s=e.appSyncGraphqlEndpoint,u=e.apiKey,c=e.region,a=e.additionalHeaders;return Le(this,void 0,void 0,function(){var l,f,g,v;return Fe(this,function(b){switch(b.label){case 0:return l={API_KEY:this._awsRealTimeApiKeyHeader.bind(this),AWS_IAM:this._awsRealTimeIAMHeader.bind(this),OPENID_CONNECT:this._awsRealTimeOPENIDHeader.bind(this),AMAZON_COGNITO_USER_POOLS:this._awsRealTimeCUPHeader.bind(this),AWS_LAMBDA:this._customAuthHeader},!r||!l[r]?(le.debug("Authentication type "+r+" not supported"),[2,void 0]):[3,1];case 1:return f=l[r],g=vt(s??"").host,le.debug("Authenticating with "+r),[4,f({payload:i,canonicalUri:o,appSyncGraphqlEndpoint:s,apiKey:u,region:c,host:g,additionalHeaders:a})];case 2:return v=b.sent(),[2,v]}})})},n.prototype._awsRealTimeCUPHeader=function(e){var r=e.host;return Le(this,void 0,void 0,function(){var i;return Fe(this,function(o){switch(o.label){case 0:return[4,wn.currentSession()];case 1:return i=o.sent(),[2,{Authorization:i.getAccessToken().getJwtToken(),host:r}]}})})},n.prototype._awsRealTimeOPENIDHeader=function(e){var r=e.host;return Le(this,void 0,void 0,function(){var i,o,s;return Fe(this,function(u){switch(u.label){case 0:return[4,jn.getItem("federatedInfo")];case 1:return o=u.sent(),o?(i=o.token,[3,4]):[3,2];case 2:return[4,wn.currentAuthenticatedUser()];case 3:s=u.sent(),s&&(i=s.token),u.label=4;case 4:if(!i)throw new Error("No federated jwt");return[2,{Authorization:i,host:r}]}})})},n.prototype._awsRealTimeApiKeyHeader=function(e){var r=e.apiKey,i=e.host;return Le(this,void 0,void 0,function(){var o,s;return Fe(this,function(u){return o=new Date,s=o.toISOString().replace(/[:\-]|\.\d{3}/g,""),[2,{host:i,"x-amz-date":s,"x-api-key":r}]})})},n.prototype._awsRealTimeIAMHeader=function(e){var r=e.payload,i=e.canonicalUri,o=e.appSyncGraphqlEndpoint,s=e.region;return Le(this,void 0,void 0,function(){var u,c,a,l,f;return Fe(this,function(g){switch(g.label){case 0:return u={region:s,service:"appsync"},[4,this._ensureCredentials()];case 1:if(c=g.sent(),!c)throw new Error("No credentials");return[4,xt.get().then(function(v){var b=v,_=b.secretAccessKey,T=b.accessKeyId,O=b.sessionToken;return{secret_key:_,access_key:T,session_token:O}})];case 2:return a=g.sent(),l={url:""+o+i,data:r,method:"POST",headers:ke({},qb)},f=tc.sign(l,a,u),[2,f.headers]}})})},n.prototype._customAuthHeader=function(e){var r=e.host,i=e.additionalHeaders;if(!i||!i.Authorization)throw new Error("No auth token specified");return{Authorization:i.Authorization,host:r}},n.prototype._ensureCredentials=function(){return xt.get().then(function(e){if(!e)return!1;var r=xt.shear(e);return le.debug("set credentials for AWSAppSyncRealTimeProvider",r),!0}).catch(function(e){return le.warn("ensure credentials error",e),!1})},n}(Mb),Xb=lt().isNode,Ri=new ye("PubSub"),Qb=function(){function t(n){this._options=n??{},Ri.debug("PubSub Options",this._options),this._pluggables=[],this.subscribe=this.subscribe.bind(this)}return Object.defineProperty(t.prototype,"awsAppSyncRealTimeProvider",{get:function(){return this._awsAppSyncRealTimeProvider||(this._awsAppSyncRealTimeProvider=new $b(this._options)),this._awsAppSyncRealTimeProvider},enumerable:!0,configurable:!0}),t.prototype.getModuleName=function(){return"PubSub"},t.prototype.configure=function(n){var e=this,r=n?n.PubSub||n:{};return Ri.debug("configure PubSub",{opt:r}),this._options=Object.assign({},this._options,r),this._pluggables.map(function(i){return i.configure(e._options)}),this._options},t.prototype.addPluggable=function(n){return Le(this,void 0,void 0,function(){var e;return Fe(this,function(r){return n&&n.getCategory()==="PubSub"?(this._pluggables.push(n),e=n.configure(this._options),[2,e]):[2]})})},t.prototype.removePluggable=function(n){this._pluggables=this._pluggables.filter(function(e){return e.getProviderName()!==n})},t.prototype.getProviderByName=function(n){return n===Wc?this.awsAppSyncRealTimeProvider:this._pluggables.find(function(e){return e.getProviderName()===n})},t.prototype.getProviders=function(n){n===void 0&&(n={});var e=n.provider;if(!e)return this._pluggables;var r=this.getProviderByName(e);if(!r)throw new Error("Could not find provider named "+String(e));return[r]},t.prototype.publish=function(n,e,r){return Le(this,void 0,void 0,function(){return Fe(this,function(i){return[2,Promise.all(this.getProviders(r).map(function(o){return o.publish(n,e,r)}))]})})},t.prototype.subscribe=function(n,e){if(Xb&&this._options&&this._options.ssr)throw new Error("Subscriptions are not supported for Server-Side Rendering (SSR)");Ri.debug("subscribe options",e);var r=this.getProviders(e);return new yn(function(i){var o=r.map(function(u){return{provider:u,observable:u.subscribe(n,e)}}),s=o.map(function(u){var c=u.provider,a=u.observable;return a.subscribe({start:console.error,next:function(l){return i.next({provider:c,value:l})},error:function(l){return i.error({provider:c,error:l})}})});return function(){return s.forEach(function(u){return u.unsubscribe()})}})},t}(),vr=new Qb;bt.register(vr);var Ft;(function(t){t.NO_API_KEY="No api-key configured",t.NO_CURRENT_USER="No current user",t.NO_CREDENTIALS="No credentials",t.NO_FEDERATED_JWT="No federated jwt",t.NO_AUTH_TOKEN="No auth token specified"})(Ft||(Ft={}));var Zb="x-amz-user-agent",Ht=new ye("GraphQLAPI"),ew=function(t,n,e,r){return n===void 0&&(n={}),{query:t,variables:n,authToken:e,userAgentSuffix:r}},kl=function(){function t(n){this._api=null,this.Auth=wn,this.Cache=jn,this.Credentials=xt,this._options=n,Ht.debug("API Options",this._options)}return t.prototype.getModuleName=function(){return"GraphQLAPI"},t.prototype.configure=function(n){var e=n||{},r=e.API,i=r===void 0?{}:r,o=q0(e,["API"]),s=Tt(Tt({},o),i);return Ht.debug("configure GraphQL API",{opt:s}),s.aws_project_region&&(s=Object.assign({},s,{region:s.aws_project_region,header:{}})),typeof s.graphql_headers<"u"&&typeof s.graphql_headers!="function"&&(Ht.warn("graphql_headers should be a function"),s.graphql_headers=void 0),this._options=Object.assign({},this._options,s),this.createInstance(),this._options},t.prototype.createInstance=function(){return Ht.debug("create Rest instance"),this._options?(this._api=new yl(this._options),this._api.Credentials=this.Credentials,!0):Promise.reject("API not configured")},t.prototype._headerBasedAuth=function(n,e){return e===void 0&&(e={}),Ci(this,void 0,void 0,function(){var r,i,o,s,u,c,a,l,f,g,v;return ki(this,function(b){switch(b.label){case 0:switch(r=this._options,i=r.aws_appsync_authenticationType,o=r.aws_appsync_apiKey,s=n||i||"AWS_IAM",u={},c=s,c){case"API_KEY":return[3,1];case"AWS_IAM":return[3,2];case"OPENID_CONNECT":return[3,4];case"AMAZON_COGNITO_USER_POOLS":return[3,11];case"AWS_LAMBDA":return[3,15]}return[3,16];case 1:if(!o)throw new Error(Ft.NO_API_KEY);return u={Authorization:null,"X-Api-Key":o},[3,17];case 2:return[4,this._ensureCredentials()];case 3:if(a=b.sent(),!a)throw new Error(Ft.NO_CREDENTIALS);return[3,17];case 4:return b.trys.push([4,9,,10]),l=void 0,[4,jn.getItem("federatedInfo")];case 5:return f=b.sent(),f?(l=f.token,[3,8]):[3,6];case 6:return[4,wn.currentAuthenticatedUser()];case 7:g=b.sent(),g&&(l=g.token),b.label=8;case 8:if(!l)throw new Error(Ft.NO_FEDERATED_JWT);return u={Authorization:l},[3,10];case 9:throw b.sent(),new Error(Ft.NO_CURRENT_USER);case 10:return[3,17];case 11:return b.trys.push([11,13,,14]),[4,this.Auth.currentSession()];case 12:return v=b.sent(),u={Authorization:v.getAccessToken().getJwtToken()},[3,14];case 13:throw b.sent(),new Error(Ft.NO_CURRENT_USER);case 14:return[3,17];case 15:if(!e.Authorization)throw new Error(Ft.NO_AUTH_TOKEN);return u={Authorization:e.Authorization},[3,17];case 16:return u={Authorization:null},[3,17];case 17:return[2,u]}})})},t.prototype.getGraphqlOperationType=function(n){var e=Ou(n),r=e.definitions,i=Su(r,1),o=i[0].operation;return o},t.prototype.graphql=function(n,e){var r=n.query,i=n.variables,o=i===void 0?{}:i,s=n.authMode,u=n.authToken,c=n.userAgentSuffix,a=Ou(typeof r=="string"?r:Ni(r)),l=Su(a.definitions.filter(function(I){return I.kind==="OperationDefinition"}),1),f=l[0],g=f===void 0?{}:f,v=g.operation,b=e||{};switch(u&&(b.Authorization=u),v){case"query":case"mutation":this.createInstanceIfNotCreated();var _=this._api.getCancellableToken(),T={cancellableToken:_,withCredentials:this._options.withCredentials},O=this._graphql({query:a,variables:o,authMode:s,userAgentSuffix:c},b,T);return this._api.updateRequestToBeCancellable(O,_),O;case"subscription":return this._graphqlSubscribe({query:a,variables:o,authMode:s},b);default:throw new Error("invalid operation type: "+v)}},t.prototype._graphql=function(n,e,r){var i=n.query,o=n.variables,s=n.authMode,u=n.userAgentSuffix;return e===void 0&&(e={}),r===void 0&&(r={}),Ci(this,void 0,void 0,function(){var c,a,l,f,g,v,b,_,T,O,I,N,U,D,z,H,k,W,p,y,m,E;return ki(this,function(A){switch(A.label){case 0:return this.createInstanceIfNotCreated(),c=this._options,a=c.aws_appsync_region,l=c.aws_appsync_graphqlEndpoint,f=c.graphql_headers,g=f===void 0?function(){return{}}:f,v=c.graphql_endpoint,b=c.graphql_endpoint_iam_region,T=[{}],O=!v,O?[4,this._headerBasedAuth(s,e)]:[3,2];case 1:O=A.sent(),A.label=2;case 2:return I=[Tt.apply(void 0,T.concat([O]))],N=v,N?b?[4,this._headerBasedAuth(s,e)]:[3,4]:[3,6];case 3:return U=A.sent(),[3,5];case 4:U={Authorization:null},A.label=5;case 5:N=U,A.label=6;case 6:return D=[Tt.apply(void 0,I.concat([N]))],[4,g({query:i,variables:o})];case 7:if(_=Tt.apply(void 0,[Tt.apply(void 0,[Tt.apply(void 0,D.concat([A.sent()])),e]),!v&&(E={},E[Zb]=Mu(u),E)]),z={query:Ni(i),variables:o},H=Object.assign({headers:_,body:z,signerServiceInfo:{service:v?"execute-api":"appsync",region:v?b:a}},r),k=v||l,!k)throw W=new pn("No graphql endpoint provided."),{data:{},errors:[W]};A.label=8;case 8:return A.trys.push([8,10,,11]),[4,this._api.post(k,H)];case 9:return p=A.sent(),[3,11];case 10:if(y=A.sent(),this._api.isCancel(y))throw y;return p={data:{},errors:[new pn(y.message,null,null,null,null,y)]},[3,11];case 11:if(m=p.errors,m&&m.length)throw p;return[2,p]}})})},t.prototype.createInstanceIfNotCreated=function(){return Ci(this,void 0,void 0,function(){return ki(this,function(n){switch(n.label){case 0:return this._api?[3,2]:[4,this.createInstance()];case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.isCancel=function(n){return this._api.isCancel(n)},t.prototype.cancel=function(n,e){return this._api.cancel(n,e)},t.prototype.hasCancelToken=function(n){return this._api.hasCancelToken(n)},t.prototype._graphqlSubscribe=function(n,e){var r=n.query,i=n.variables,o=n.authMode,s=n.authToken;e===void 0&&(e={});var u=this._options,c=u.aws_appsync_region,a=u.aws_appsync_graphqlEndpoint,l=u.aws_appsync_authenticationType,f=u.aws_appsync_apiKey,g=u.graphql_headers,v=g===void 0?function(){return{}}:g,b=o||l||"AWS_IAM";if(vr&&typeof vr.subscribe=="function")return vr.subscribe("",{provider:Wc,appSyncGraphqlEndpoint:a,authenticationType:b,apiKey:f,query:Ni(r),region:c,variables:i,graphql_headers:v,additionalHeaders:e,authToken:s});throw Ht.debug("No pubsub module applied for subscription"),new Error("No pubsub module applied for subscription")},t.prototype._ensureCredentials=function(){var n=this;return this.Credentials.get().then(function(e){if(!e)return!1;var r=n.Credentials.shear(e);return Ht.debug("set credentials for api",r),!0}).catch(function(e){return Ht.warn("ensure credentials error",e),!1})},t}(),tw=new kl(null);bt.register(tw);var nw=new ye("API"),rw=function(){function t(n){this.Auth=wn,this.Cache=jn,this.Credentials=xt,this._options=n,this._restApi=new vl(n),this._graphqlApi=new kl(n),nw.debug("API Options",this._options)}return t.prototype.getModuleName=function(){return"API"},t.prototype.configure=function(n){this._options=Object.assign({},this._options,n),this._restApi.Credentials=this.Credentials,this._graphqlApi.Auth=this.Auth,this._graphqlApi.Cache=this.Cache,this._graphqlApi.Credentials=this.Credentials;var e=this._restApi.configure(this._options),r=this._graphqlApi.configure(this._options);return Cr(Cr({},e),r)},t.prototype.get=function(n,e,r){return this._restApi.get(n,e,r)},t.prototype.post=function(n,e,r){return this._restApi.post(n,e,r)},t.prototype.put=function(n,e,r){return this._restApi.put(n,e,r)},t.prototype.patch=function(n,e,r){return this._restApi.patch(n,e,r)},t.prototype.del=function(n,e,r){return this._restApi.del(n,e,r)},t.prototype.head=function(n,e,r){return this._restApi.head(n,e,r)},t.prototype.isCancel=function(n){return this._restApi.isCancel(n)},t.prototype.cancel=function(n,e){return this._restApi.hasCancelToken(n)?this._restApi.cancel(n,e):this._graphqlApi.hasCancelToken(n)?this._graphqlApi.cancel(n,e):!1},t.prototype.endpoint=function(n){return L0(this,void 0,void 0,function(){return F0(this,function(e){return[2,this._restApi.endpoint(n)]})})},t.prototype.getGraphqlOperationType=function(n){return this._graphqlApi.getGraphqlOperationType(n)},t.prototype.graphql=function(n,e){return this._graphqlApi.graphql(n,e)},t}(),Ol=new rw(null);bt.register(Ol);const iw={aws_project_region:"eu-central-1",aws_appsync_graphqlEndpoint:"https://pgs3vuqgknfgxmb74b5jojdwre.appsync-api.eu-central-1.amazonaws.com/graphql",aws_appsync_region:"eu-central-1",aws_appsync_authenticationType:"API_KEY",aws_appsync_apiKey:"da2-axpgl55r5vfs3ghdfqvbtsai7q"},ow=`
  mutation CreateTodo(
    $input: CreateTodoInput!
    $condition: ModelTodoConditionInput
  ) {
    createTodo(input: $input, condition: $condition) {
      id
      name
      description
      createdAt
      updatedAt
    }
  }
`;bt.configure(iw);const sw=document.getElementById("btn"),aw=document.getElementById("list");sw.addEventListener("click",async()=>{console.log("clicked");const t={name:"New user",description:`This is a new item (${new Date().toLocaleString()})`};try{const n=(await Ol.graphql(ew(ow,{input:t}))).data.createTodo;aw.innerHTML=`<li>${n.name} - ${n.description}</li>`}catch(n){console.error("Error creating new item:",n)}});
